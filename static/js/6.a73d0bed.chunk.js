(this.webpackJsonptelegram_react=this.webpackJsonptelegram_react||[]).push([[6],{174:function(t,e,i){"use strict";i.r(e);var n=i(25),r=i(183),a=i(407);function o(t){return Object(a.a)(t)}var s=i(3),l=i(242),c=i(126);var h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(l.a)(t,Object(s.a)({defaultTheme:c.a},e))},d=i(52);function u(t){return String(parseFloat(t)).length===String(t).length}function f(t){return parseFloat(t)}function p(t){return function(e,i){var n=String(e).match(/[\d.\-+]*\s*(.*)/)[1]||"";if(n===i)return e;var r=f(e);if("px"!==n)if("em"===n)r=f(e)*f(t);else if("rem"===n)return r=f(e)*f(t),e;var a=r;if("px"!==i)if("em"===i)a=r/f(t);else{if("rem"!==i)return e;a=r/f(t)}return parseFloat(a.toFixed(5))+i}}function m(t){var e=t.lineHeight;return t.pixels/(e*t.htmlFontSize)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.breakpoints,n=void 0===i?["sm","md","lg"]:i,r=e.disableAlign,a=void 0!==r&&r,o=e.factor,l=void 0===o?2:o,c=e.variants,h=void 0===c?["h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","caption","button","overline"]:c,f=Object(s.a)({},t);f.typography=Object(s.a)({},f.typography);var g=f.typography,y=p(g.htmlFontSize),v=n.map(function(t){return f.breakpoints.values[t]});return h.forEach(function(t){var e=g[t],i=parseFloat(y(e.fontSize,"rem"));if(!(i<=1)){var n=i,r=1+(n-1)/l,o=e.lineHeight;if(!u(o)&&!a)throw new Error(["Material-UI: unsupported non-unitless line height with grid alignment.","Use unitless line heights instead."].join("\n"));u(o)||(o=parseFloat(y(o,"rem"))/parseFloat(i));var c=null;a||(c=function(t){return function(t){var e=t.size,i=t.grid,n=e-e%i,r=n+i;return e-n<r-e?n:r}({size:t,grid:m({pixels:4,lineHeight:o,htmlFontSize:g.htmlFontSize})})}),g[t]=Object(s.a)({},e,{},function(t){var e=t.cssProperty,i=t.min,n=t.max,r=t.unit,a=void 0===r?"rem":r,o=t.breakpoints,s=void 0===o?[600,960,1280]:o,l=t.transform,c=void 0===l?null:l,h=Object(d.a)({},e,"".concat(i).concat(a)),u=(n-i)/s[s.length-1];return s.forEach(function(t){var n=i+u*t;null!==c&&(n=c(n)),h["@media (min-width:".concat(t,"px)")]=Object(d.a)({},e,"".concat(Math.round(1e4*n)/1e4).concat(a))}),h}({cssProperty:"fontSize",min:r,max:n,unit:"rem",breakpoints:v,transform:c}))}}),f}var y=i(408),v=function(t){var e=Object(y.a)(t);return function(t,i){return e(t,Object(s.a)({defaultTheme:c.a},i))}},b=i(69),_=i(54),w=i(15),x=i(131),S=Object(x.b)({defaultTheme:c.a}),E=i(356),U=i(241),C=i(415),O=i(130),T=i(399);i.d(e,"hexToRgb",function(){return n.g}),i.d(e,"rgbToHex",function(){return n.k}),i.d(e,"hslToRgb",function(){return n.h}),i.d(e,"decomposeColor",function(){return n.b}),i.d(e,"recomposeColor",function(){return n.j}),i.d(e,"getContrastRatio",function(){return n.e}),i.d(e,"getLuminance",function(){return n.f}),i.d(e,"emphasize",function(){return n.c}),i.d(e,"fade",function(){return n.d}),i.d(e,"darken",function(){return n.a}),i.d(e,"lighten",function(){return n.i}),i.d(e,"createMuiTheme",function(){return r.a}),i.d(e,"createStyles",function(){return o}),i.d(e,"makeStyles",function(){return h}),i.d(e,"responsiveFontSizes",function(){return g}),i.d(e,"styled",function(){return v}),i.d(e,"easing",function(){return b.c}),i.d(e,"duration",function(){return b.b}),i.d(e,"useTheme",function(){return _.a}),i.d(e,"withStyles",function(){return w.a}),i.d(e,"withTheme",function(){return S}),i.d(e,"createGenerateClassName",function(){return E.a}),i.d(e,"jssPreset",function(){return U.a}),i.d(e,"ServerStyleSheets",function(){return C.a}),i.d(e,"StylesProvider",function(){return O.b}),i.d(e,"MuiThemeProvider",function(){return T.a}),i.d(e,"ThemeProvider",function(){return T.a})},426:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(458);Object.defineProperty(e,"SnackbarProvider",{enumerable:!0,get:function(){return o(n).default}});var r=i(466);Object.defineProperty(e,"withSnackbar",{enumerable:!0,get:function(){return o(r).default}});var a=i(470);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"useSnackbar",{enumerable:!0,get:function(){return o(a).default}})},429:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REASONS=e.originKeyExtractor=e.capitalise=e.SNACKBAR_INDENTS=e.MESSAGES=e.defaultIconVariant=e.allClasses=void 0;var n=a(i(0)),r=a(i(155));function a(t){return t&&t.__esModule?t:{default:t}}e.allClasses={mui:{root:{},anchorOriginTopCenter:{},anchorOriginBottomCenter:{},anchorOriginTopRight:{},anchorOriginBottomRight:{},anchorOriginTopLeft:{},anchorOriginBottomLeft:{}},container:{containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}}};var o={opacity:.9,fontSize:20,marginRight:8},s=(e.defaultIconVariant={success:n.default.createElement(function(t){return n.default.createElement(r.default,t,n.default.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}))},{style:o}),warning:n.default.createElement(function(t){return n.default.createElement(r.default,t,n.default.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},{style:o}),error:n.default.createElement(function(t){return n.default.createElement(r.default,t,n.default.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41, 20 12,20M12,2C6.47,2 2,6.47 2,12C2,17.53 6.47,22 12,22C17.53,22 22,17.53 22,12C22,6.47 17.53, 2 12,2M14.59,8L12,10.59L9.41,8L8,9.41L10.59,12L8,14.59L9.41,16L12,13.41L14.59,16L16, 14.59L13.41,12L16,9.41L14.59,8Z"}))},{style:o}),info:n.default.createElement(function(t){return n.default.createElement(r.default,t,n.default.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}))},{style:o})},e.MESSAGES={NO_PERSIST_ALL:"WARNING - notistack: Reached maxSnack while all enqueued snackbars have 'persist' flag. Notistack will dismiss the oldest snackbar anyway to allow other ones in the queue to be presented."},e.SNACKBAR_INDENTS={view:{default:20,dense:4},snackbar:{default:6,dense:2}},e.capitalise=function(t){return t.charAt(0).toUpperCase()+t.slice(1)});e.originKeyExtractor=function(t){return""+s(t.vertical)+s(t.horizontal)},e.REASONS={CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"}},433:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),a=(n=r)&&n.__esModule?n:{default:n};e.default=a.default.createContext()},434:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i(196),r=i(195),a=i(197);function o(t){return Object(n.a)(t)||Object(r.a)(t)||Object(a.a)()}},438:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(36)),s=i(127),l=i(355),c=i(28),h=i(54),d=i(69),u=i(76);function f(t,e){var i=function(t,e){var i,n=e.getBoundingClientRect();if(e.fakeTransform)i=e.fakeTransform;else{var r=window.getComputedStyle(e);i=r.getPropertyValue("-webkit-transform")||r.getPropertyValue("transform")}var a=0,o=0;if(i&&"none"!==i&&"string"===typeof i){var s=i.split("(")[1].split(")")[0].split(",");a=parseInt(s[4],10),o=parseInt(s[5],10)}return"left"===t?"translateX(".concat(window.innerWidth,"px) translateX(-").concat(n.left-a,"px)"):"right"===t?"translateX(-".concat(n.left+n.width-a,"px)"):"up"===t?"translateY(".concat(window.innerHeight,"px) translateY(-").concat(n.top-o,"px)"):"translateY(-".concat(n.top+n.height-o,"px)")}(t,e);i&&(e.style.webkitTransform=i,e.style.transform=i)}var p={enter:d.b.enteringScreen,exit:d.b.leavingScreen},m=a.forwardRef(function(t,e){var i=t.children,d=t.direction,m=void 0===d?"down":d,g=t.in,y=t.onEnter,v=t.onEntering,b=t.onExit,_=t.onExited,w=t.style,x=t.timeout,S=void 0===x?p:x,E=Object(r.a)(t,["children","direction","in","onEnter","onEntering","onExit","onExited","style","timeout"]),U=Object(h.a)(),C=a.useRef(null),O=a.useCallback(function(t){C.current=o.findDOMNode(t)},[]),T=Object(c.a)(i.ref,O),k=Object(c.a)(T,e),A=a.useCallback(function(){C.current&&f(m,C.current)},[m]);return a.useEffect(function(){if(!g&&"down"!==m&&"right"!==m){var t=Object(s.a)(function(){C.current&&f(m,C.current)});return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}},[m,g]),a.useEffect(function(){g||A()},[g,A]),a.createElement(l.a,Object(n.a)({onEnter:function(t,e){var i=C.current;f(m,i),Object(u.b)(i),y&&y(i,e)},onEntering:function(t,e){var i=C.current,r=Object(u.a)({timeout:S,style:w},{mode:"enter"});i.style.webkitTransition=U.transitions.create("-webkit-transform",Object(n.a)({},r,{easing:U.transitions.easing.easeOut})),i.style.transition=U.transitions.create("transform",Object(n.a)({},r,{easing:U.transitions.easing.easeOut})),i.style.webkitTransform="none",i.style.transform="none",v&&v(i,e)},onExit:function(){var t=C.current,e=Object(u.a)({timeout:S,style:w},{mode:"exit"});t.style.webkitTransition=U.transitions.create("-webkit-transform",Object(n.a)({},e,{easing:U.transitions.easing.sharp})),t.style.transition=U.transitions.create("transform",Object(n.a)({},e,{easing:U.transitions.easing.sharp})),f(m,t),b&&b(t)},onExited:function(){var t=C.current;t.style.webkitTransition="",t.style.transition="",_&&_(t)},appear:!0,in:g,timeout:S},E),function(t,e){return a.cloneElement(i,Object(n.a)({ref:k,style:Object(n.a)({visibility:"exited"!==t||g?void 0:"hidden"},w,{},i.props.style)},e))})});e.a=m},439:function(t,e,i){"use strict";var n=i(13),r=i(52),a=i(3),o=i(0),s=(i(12),i(10)),l=i(15),c=i(359),h=i(25),d=o.forwardRef(function(t,e){var i=t.action,r=t.classes,l=t.className,h=t.message,d=t.role,u=void 0===d?"alert":d,f=Object(n.a)(t,["action","classes","className","message","role"]);return o.createElement(c.a,Object(a.a)({role:u,square:!0,elevation:6,className:Object(s.default)(r.root,l),ref:e},f),o.createElement("div",{className:r.message},h),i?o.createElement("div",{className:r.action},i):null)});e.a=Object(l.a)(function(t){var e="light"===t.palette.type?.8:.98,i=Object(h.c)(t.palette.background.default,e);return{root:Object(a.a)({},t.typography.body2,Object(r.a)({color:t.palette.getContrastText(i),backgroundColor:i,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},{name:"MuiSnackbarContent"})(d)},440:function(t,e,i){"use strict";i.r(e);var n=i(441);i.d(e,"default",function(){return n.a})},441:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=i(10),s=(i(12),i(355)),l=i(15),c=i(69),h=i(76),d=i(54),u=a.forwardRef(function(t,e){var i=t.children,l=t.classes,u=t.className,f=t.collapsedHeight,p=void 0===f?"0px":f,m=t.component,g=void 0===m?"div":m,y=t.in,v=t.onEnter,b=t.onEntered,_=t.onEntering,w=t.onExit,x=t.onExiting,S=t.style,E=t.timeout,U=void 0===E?c.b.standard:E,C=Object(r.a)(t,["children","classes","className","collapsedHeight","component","in","onEnter","onEntered","onEntering","onExit","onExiting","style","timeout"]),O=Object(d.a)(),T=a.useRef(),k=a.useRef(null),A=a.useRef(),z="number"===typeof p?"".concat(p,"px"):p;a.useEffect(function(){return function(){clearTimeout(T.current)}},[]);return a.createElement(s.a,Object(n.a)({in:y,onEnter:function(t,e){t.style.height=z,v&&v(t,e)},onEntered:function(t,e){t.style.height="auto",b&&b(t,e)},onEntering:function(t,e){var i=k.current?k.current.clientHeight:0,n=Object(h.a)({style:S,timeout:U},{mode:"enter"}).duration;if("auto"===U){var r=O.transitions.getAutoHeightDuration(i);t.style.transitionDuration="".concat(r,"ms"),A.current=r}else t.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");t.style.height="".concat(i,"px"),_&&_(t,e)},onExit:function(t){var e=k.current?k.current.clientHeight:0;t.style.height="".concat(e,"px"),w&&w(t)},onExiting:function(t){var e=k.current?k.current.clientHeight:0,i=Object(h.a)({style:S,timeout:U},{mode:"exit"}).duration;if("auto"===U){var n=O.transitions.getAutoHeightDuration(e);t.style.transitionDuration="".concat(n,"ms"),A.current=n}else t.style.transitionDuration="string"===typeof i?i:"".concat(i,"ms");t.style.height=z,x&&x(t)},addEndListener:function(t,e){"auto"===U&&(T.current=setTimeout(e,A.current||0))},timeout:"auto"===U?null:U},C),function(t,r){return a.createElement(g,Object(n.a)({className:Object(o.default)(l.container,u,{entered:l.entered,exited:!y&&"0px"===z&&l.hidden}[t]),style:Object(n.a)({minHeight:z},S),ref:e},r),a.createElement("div",{className:l.wrapper,ref:k},a.createElement("div",{className:l.wrapperInner},i)))})});u.muiSupportAuto=!0,e.a=Object(l.a)(function(t){return{container:{height:0,overflow:"hidden",transition:t.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}},{name:"MuiCollapse"})(u)},442:function(t,e,i){"use strict";i.r(e);var n=i(439);i.d(e,"default",function(){return n.a})},453:function(t,e,i){"use strict";var n=i(3),r=i(172),a=i(0),o=(i(12),i(10)),s=i(357),l=i(37),c=i(163),h=["xs","sm","md","lg","xl"];function d(t,e,i){var r;return Object(n.a)({gutters:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.a)({paddingLeft:e(2),paddingRight:e(2)},i,Object(l.a)({},t.up("sm"),Object(n.a)({paddingLeft:e(3),paddingRight:e(3)},i[t.up("sm")])))},toolbar:(r={minHeight:56},Object(l.a)(r,"".concat(t.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(l.a)(r,t.up("sm"),{minHeight:64}),r)},i)}var u={black:"#000",white:"#fff"},f={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},p={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},m={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},g={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},y={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},v={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},b={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),i)}function w(t){if(t.type)return t;if("#"===t.charAt(0))return w(function(t){t=t.substr(1);var e=new RegExp(".{1,".concat(t.length/3,"}"),"g"),i=t.match(e);return i&&1===i[0].length&&(i=i.map(function(t){return t+t})),i?"rgb(".concat(i.map(function(t){return parseInt(t,16)}).join(", "),")"):""}(t));var e=t.indexOf("("),i=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla"].indexOf(i))throw new Error(["Material-UI: unsupported `".concat(t,"` color."),"We support the following formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla()."].join("\n"));var n=t.substring(e+1,t.length-1).split(",");return{type:i,values:n=n.map(function(t){return parseFloat(t)})}}function x(t){var e=t.type,i=t.values;return-1!==e.indexOf("rgb")?i=i.map(function(t,e){return e<3?parseInt(t,10):t}):-1!==e.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),"".concat(e,"(").concat(i.join(", "),")")}function S(t){var e="hsl"===(t=w(t)).type?w(function(t){var e=(t=w(t)).values,i=e[0],n=e[1]/100,r=e[2]/100,a=n*Math.min(r,1-r),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+i/30)%12;return r-a*Math.max(Math.min(e-3,9-e,1),-1)},s="rgb",l=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===t.type&&(s+="a",l.push(e[3])),x({type:s,values:l})}(t)).values:t.values;return e=e.map(function(t){return(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function E(t,e){if(t=w(t),e=_(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb"))for(var i=0;i<3;i+=1)t.values[i]*=1-e;return x(t)}function U(t,e){if(t=w(t),e=_(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(var i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;return x(t)}var C={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:f[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},O={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:f[800],default:"#303030"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function T(t,e,i,n){t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:"light"===e?t.light=U(t.main,n):"dark"===e&&(t.dark=E(t.main,1.5*n)))}function k(t){var e=t.primary,i=void 0===e?{light:p[300],main:p[500],dark:p[700]}:e,a=t.secondary,o=void 0===a?{light:m.A200,main:m.A400,dark:m.A700}:a,s=t.error,l=void 0===s?{light:g[300],main:g[500],dark:g[700]}:s,h=t.warning,d=void 0===h?{light:y[300],main:y[500],dark:y[700]}:h,_=t.info,w=void 0===_?{light:v[300],main:v[500],dark:v[700]}:_,x=t.success,E=void 0===x?{light:b[300],main:b[500],dark:b[700]}:x,U=t.type,k=void 0===U?"light":U,A=t.contrastThreshold,z=void 0===A?3:A,B=t.tonalOffset,I=void 0===B?.2:B,M=Object(r.a)(t,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function L(t){if(!t)throw new TypeError("Material-UI: missing background argument in getContrastText(".concat(t,")."));return function(t,e){var i=S(t),n=S(e);return(Math.max(i,n)+.05)/(Math.min(i,n)+.05)}(t,O.text.primary)>=z?O.text.primary:C.text.primary}function P(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!(t=Object(n.a)({},t)).main&&t[e]&&(t.main=t[e]),T(t,"light",i,I),T(t,"dark",r,I),t.contrastText||(t.contrastText=L(t.main)),t}var N={dark:O,light:C};return Object(c.a)(Object(n.a)({common:u,type:k,primary:P(i),secondary:P(o,"A400","A200","A700"),error:P(l),warning:P(d),info:P(w),success:P(E),grey:f,contrastThreshold:z,getContrastText:L,augmentColor:P,tonalOffset:I},N[k]),M)}function A(t){return Math.round(1e5*t)/1e5}var z={textTransform:"uppercase"},B='"Roboto", "Helvetica", "Arial", sans-serif';function I(t,e){var i="function"===typeof e?e(t):e,a=i.fontFamily,o=void 0===a?B:a,s=i.fontSize,l=void 0===s?14:s,h=i.fontWeightLight,d=void 0===h?300:h,u=i.fontWeightRegular,f=void 0===u?400:u,p=i.fontWeightMedium,m=void 0===p?500:p,g=i.fontWeightBold,y=void 0===g?700:g,v=i.htmlFontSize,b=void 0===v?16:v,_=i.allVariants,w=i.pxToRem,x=Object(r.a)(i,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var S=l/14,E=w||function(t){return"".concat(t/b*S,"rem")},U=function(t,e,i,r,a){return Object(n.a)({fontFamily:o,fontWeight:t,fontSize:E(e),lineHeight:i},o===B?{letterSpacing:"".concat(A(r/e),"em")}:{},{},a,{},_)},C={h1:U(d,96,1.167,-1.5),h2:U(d,60,1.2,-.5),h3:U(f,48,1.167,0),h4:U(f,34,1.235,.25),h5:U(f,24,1.334,0),h6:U(m,20,1.6,.15),subtitle1:U(f,16,1.75,.15),subtitle2:U(m,14,1.57,.1),body1:U(f,16,1.5,.15),body2:U(f,14,1.43,.15),button:U(m,14,1.75,.4,z),caption:U(f,12,1.66,.4),overline:U(f,12,2.66,1,z)};return Object(c.a)(Object(n.a)({htmlFontSize:b,pxToRem:E,round:A,fontFamily:o,fontSize:l,fontWeightLight:d,fontWeightRegular:f,fontWeightMedium:m,fontWeightBold:y},C),x,{clone:!1})}var M=.2,L=.14,P=.12;function N(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(M,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(L,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(P,")")].join(",")}var D=["none",N(0,2,1,-1,0,1,1,0,0,1,3,0),N(0,3,1,-2,0,2,2,0,0,1,5,0),N(0,3,3,-2,0,3,4,0,0,1,8,0),N(0,2,4,-1,0,4,5,0,0,1,10,0),N(0,3,5,-1,0,5,8,0,0,1,14,0),N(0,3,5,-1,0,6,10,0,0,1,18,0),N(0,4,5,-2,0,7,10,1,0,2,16,1),N(0,5,5,-3,0,8,10,1,0,3,14,2),N(0,5,6,-3,0,9,12,1,0,3,16,2),N(0,6,6,-3,0,10,14,1,0,4,18,3),N(0,6,7,-4,0,11,15,1,0,4,20,3),N(0,7,8,-4,0,12,17,2,0,5,22,4),N(0,7,8,-4,0,13,19,2,0,5,24,4),N(0,7,9,-4,0,14,21,2,0,5,26,4),N(0,8,9,-5,0,15,22,2,0,6,28,5),N(0,8,10,-5,0,16,24,2,0,6,30,5),N(0,8,11,-5,0,17,26,2,0,6,32,5),N(0,9,11,-5,0,18,28,2,0,7,34,6),N(0,9,12,-6,0,19,29,2,0,7,36,6),N(0,10,13,-6,0,20,31,3,0,8,38,7),N(0,10,13,-6,0,21,33,3,0,8,40,7),N(0,10,14,-6,0,22,35,3,0,8,42,7),N(0,11,14,-7,0,23,36,3,0,9,44,8),N(0,11,15,-7,0,24,38,3,0,9,46,8)],R={borderRadius:4},F=i(133);var j={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},H={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function G(t){return"".concat(Math.round(t),"ms")}var W={easing:j,duration:H,create:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.duration,n=void 0===i?H.standard:i,a=e.easing,o=void 0===a?j.easeInOut:a,s=e.delay,l=void 0===s?0:s;Object(r.a)(e,["duration","easing","delay"]);return(Array.isArray(t)?t:[t]).map(function(t){return"".concat(t," ").concat("string"===typeof n?n:G(n)," ").concat(o," ").concat("string"===typeof l?l:G(l))}).join(",")},getAutoHeightDuration:function(t){if(!t)return 0;var e=t/36;return Math.round(10*(4+15*Math.pow(e,.25)+e/5))}},Y={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};var V=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.breakpoints,i=void 0===e?{}:e,a=t.mixins,o=void 0===a?{}:a,s=t.palette,l=void 0===s?{}:s,u=t.spacing,f=t.typography,p=void 0===f?{}:f,m=Object(r.a)(t,["breakpoints","mixins","palette","spacing","typography"]),g=k(l),y=function(t){var e=t.values,i=void 0===e?{xs:0,sm:600,md:960,lg:1280,xl:1920}:e,a=t.unit,o=void 0===a?"px":a,s=t.step,l=void 0===s?5:s,c=Object(r.a)(t,["values","unit","step"]);function d(t){var e="number"===typeof i[t]?i[t]:t;return"@media (min-width:".concat(e).concat(o,")")}function u(t,e){var n=h.indexOf(e);return n===h.length-1?d(t):"@media (min-width:".concat("number"===typeof i[t]?i[t]:t).concat(o,") and ")+"(max-width:".concat((-1!==n&&"number"===typeof i[h[n+1]]?i[h[n+1]]:e)-l/100).concat(o,")")}return Object(n.a)({keys:h,values:i,up:d,down:function(t){var e=h.indexOf(t)+1,n=i[h[e]];return e===h.length?d("xs"):"@media (max-width:".concat(("number"===typeof n&&e>0?n:t)-l/100).concat(o,")")},between:u,only:function(t){return u(t,t)},width:function(t){return i[t]}},c)}(i),v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;var e=Object(F.a)({spacing:t}),i=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return 0===i.length?e(1):1===i.length?e(i[0]):i.map(function(t){var i=e(t);return"number"===typeof i?"".concat(i,"px"):i}).join(" ")};return Object.defineProperty(i,"unit",{get:function(){return t}}),i.mui=!0,i}(u),b=Object(c.a)({breakpoints:y,direction:"ltr",mixins:d(y,v,o),overrides:{},palette:g,props:{},shadows:D,typography:I(g,p),spacing:v,shape:R,transitions:W,zIndex:Y},m),_=arguments.length,w=new Array(_>1?_-1:0),x=1;x<_;x++)w[x-1]=arguments[x];return b=w.reduce(function(t,e){return Object(c.a)(t,e)},b)}();var X=function(t,e){return Object(s.a)(t,Object(n.a)({defaultTheme:V},e))};function q(t){return t.charAt(0).toUpperCase()+t.slice(1)}var $={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},K=a.forwardRef(function(t,e){var i=t.align,s=void 0===i?"inherit":i,l=t.classes,c=t.className,h=t.color,d=void 0===h?"initial":h,u=t.component,f=t.display,p=void 0===f?"initial":f,m=t.gutterBottom,g=void 0!==m&&m,y=t.noWrap,v=void 0!==y&&y,b=t.paragraph,_=void 0!==b&&b,w=t.variant,x=void 0===w?"body1":w,S=t.variantMapping,E=void 0===S?$:S,U=Object(r.a)(t,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),C=u||(_?"p":E[x]||$[x])||"span";return a.createElement(C,Object(n.a)({className:Object(o.default)(l.root,c,"inherit"!==x&&l[x],"initial"!==d&&l["color".concat(q(d))],v&&l.noWrap,g&&l.gutterBottom,_&&l.paragraph,"inherit"!==s&&l["align".concat(q(s))],"initial"!==p&&l["display".concat(q(p))]),ref:e},U))});e.a=X(function(t){return{root:{margin:0},body2:t.typography.body2,body1:t.typography.body1,caption:t.typography.caption,button:t.typography.button,h1:t.typography.h1,h2:t.typography.h2,h3:t.typography.h3,h4:t.typography.h4,h5:t.typography.h5,h6:t.typography.h6,subtitle1:t.typography.subtitle1,subtitle2:t.typography.subtitle2,overline:t.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:t.palette.primary.main},colorSecondary:{color:t.palette.secondary.main},colorTextPrimary:{color:t.palette.text.primary},colorTextSecondary:{color:t.palette.text.secondary},colorError:{color:t.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}},{name:"MuiTypography"})(K)},458:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(l){r=!0,a=l}finally{try{!n&&s.return&&s.return()}finally{if(r)throw a}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=i(0),s=m(o),l=i(36),c=(m(i(12)),m(i(459))),h=m(i(433)),d=i(429),u=m(i(460)),f=m(i(464)),p=m(i(465));function m(t){return t&&t.__esModule?t:{default:t}}function g(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function y(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var b=function(t){return Object.keys(t).filter(function(t){return!d.allClasses.container[t]}).reduce(function(e,i){return a({},e,v({},i,t[i]))},{})},_=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.enqueueSnackbar=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.key,r=e.preventDuplicate,o=y(e,["key","preventDuplicate"]),s=n||0===n,l=s?n:(new Date).getTime()+Math.random(),c=a({key:l},o,{message:t,open:!0,entered:!1,requestClose:!1,variant:o.variant||i.props.variant,anchorOrigin:o.anchorOrigin||i.props.anchorOrigin});return o.persist&&(c.autoHideDuration=void 0),i.setState(function(e){if(void 0===r&&i.props.preventDuplicate||r){var o=function(e){return s?e.key===n:e.message===t},l=e.queue.findIndex(o)>-1,h=e.snacks.findIndex(o)>-1;if(l||h)return e}return i.handleDisplaySnack(a({},e,{queue:[].concat(g(e.queue),[c])}))}),l},i.handleDisplaySnack=function(t){return t.snacks.length>=i.props.maxSnack?i.handleDismissOldest(t):i.processQueue(t)},i.processQueue=function(t){var e=t.queue,i=t.snacks;return e.length>0?a({},t,{snacks:[].concat(g(i),[e[0]]),queue:e.slice(1,e.length)}):t},i.handleDismissOldest=function(t){if(t.snacks.some(function(t){return!t.open||t.requestClose}))return t;var e=!1,n=!1;t.snacks.reduce(function(t,e){return t+(e.open&&e.persist?1:0)},0)===i.props.maxSnack&&((0,p.default)(d.MESSAGES.NO_PERSIST_ALL),n=!0);var r=t.snacks.map(function(t){return e||t.persist&&!n?a({},t):(e=!0,t.entered?(t.onClose&&t.onClose(null,d.REASONS.MAXSNACK,t.key),i.props.onClose&&i.props.onClose(null,d.REASONS.MAXSNACK,t.key),a({},t,{open:!1})):a({},t,{requestClose:!0}))});return a({},t,{snacks:r})},i.handleEnteredSnack=function(t,e,n){i.props.onEntered&&i.props.onEntered(t,e,n),i.setState(function(t){return{snacks:t.snacks.map(function(t){return t.key===n?a({},t,{entered:!0}):a({},t)})}})},i.handleCloseSnack=function(t,e,n){if(i.props.onClose&&i.props.onClose(t,e,n),e!==d.REASONS.CLICKAWAY){var r=void 0===n;i.setState(function(t){var e=t.snacks,i=t.queue;return{snacks:e.map(function(t){return r||t.key===n?t.entered?a({},t,{open:!1}):a({},t,{requestClose:!0}):a({},t)}),queue:i.filter(function(t){return t.key!==n})}})}},i.closeSnackbar=function(t){var e=i.state.snacks.find(function(e){return e.key===t});e&&e.onClose&&e.onClose(null,d.REASONS.INSTRUCTED,t),i.handleCloseSnack(null,d.REASONS.INSTRUCTED,t)},i.handleExitedSnack=function(t,e){i.setState(function(t){var n=i.processQueue(a({},t,{snacks:t.snacks.filter(function(t){return t.key!==e})}));return 0===n.queue.length?n:i.handleDismissOldest(n)}),i.props.onExited&&i.props.onExited(t,e)},i.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:i.enqueueSnackbar,closeSnackbar:i.closeSnackbar}},i}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Component),r(e,[{key:"render",value:function(){var t=this,e=this.props,i=e.classes,r=e.children,o=(e.maxSnack,e.dense),c=(e.variant,e.domRoot),p=y(e,["classes","children","maxSnack","dense","variant","domRoot"]),m=this.state.contextValue,_=this.state.snacks.reduce(function(t,e){var i=(0,d.originKeyExtractor)(e.anchorOrigin),n=t[i]||[];return a({},t,v({},i,[].concat(g(n),[e])))},{}),w=a({},d.defaultIconVariant,this.props.iconVariant),x=Object.entries(_).map(function(e){var r=n(e,2),l=r[0],c=r[1];return s.default.createElement(f.default,{key:l,dense:o,anchorOrigin:c[0].anchorOrigin,className:i["containerAnchorOrigin"+l]},c.map(function(e){return s.default.createElement(u.default,a({},p,{key:e.key,dense:o,snack:e,iconVariant:w,classes:b(i),onClose:t.handleCloseSnack,onExited:t.handleExitedSnack,onEntered:t.handleEnteredSnack}))}))});return s.default.createElement(h.default.Provider,{value:m},r,c?(0,l.createPortal)(x,c):x)}}]),e}();_.defaultProps={maxSnack:3,dense:!1,variant:"default",preventDuplicate:!1,hideIconVariant:!1,classes:{},iconVariant:{},anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:5e3,TransitionComponent:c.default},e.default=_},459:function(t,e,i){"use strict";i.r(e);var n=i(438);i.d(e,"default",function(){return n.a})},460:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(461),a=(n=r)&&n.__esModule?n:{default:n};e.default=a.default},461:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),o=m(a),s=m(i(22)),l=(m(i(12)),i(174)),c=m(i(625)),h=m(i(440)),d=m(i(442)),u=i(462),f=m(i(463)),p=i(429);function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var v=function(t){function e(){var t,i,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return i=n=y(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),n.state={collapsed:!0},n.componentWillUnmount=function(){clearTimeout(n.timeout)},n.handleClose=function(t){return function(e,i){var r=n.props.snack;r.onClose&&r.onClose(e,i,t),n.props.onClose(e,i,t)}},n.handleEntered=function(t){return function(e,i){var r=n.props.snack;r.onEntered&&r.onEntered(e,i,t),n.props.onEntered(e,i,t),r.requestClose&&n.handleClose(t)(null,p.REASONS.MAXSNACK)}},n.handleExited=function(t){return function(e){var i=n.props,r=i.onExited,a=i.snack.onExited;a&&a(e,t),r(e,t)}},n.handleExitedScreen=function(){n.timeout=setTimeout(function(){n.setState(function(t){return{collapsed:!t.collapsed}})},125)},y(n,i)}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),r(e,[{key:"render",value:function(){var t=this.props,e=t.classes,i=t.action,r=t.content,a=t.ContentProps,l=void 0===a?{}:a,f=t.hideIconVariant,m=(t.preventDuplicate,t.iconVariant),y=t.snack,v=t.dense,b=t.TransitionProps,_=void 0===b?{}:b,w=g(t,["classes","action","content","ContentProps","hideIconVariant","preventDuplicate","iconVariant","snack","dense","TransitionProps"]),x=l.action,S=l.className,E=g(l,["action","className"]),U=y.key,C=(y.persist,y.variant),O=y.content,T=y.action,k=y.ContentProps,A=void 0===k?{}:k,z=y.anchorOrigin,B=(y.requestClose,y.entered,y.TransitionProps),I=void 0===B?{}:B,M=g(y,["key","persist","variant","content","action","ContentProps","anchorOrigin","requestClose","entered","TransitionProps"]),L=m[C],P=n({},E,A,{action:T||A.action||x||i}),N=n({direction:(0,u.getTransitionDirection)(z)},_,I,{onExited:this.handleExitedScreen}),D=P["aria-describedby"]||"client-snackbar",R=P.action;"function"===typeof R&&(R=P.action(U));var F=O||r;return F&&"function"===typeof F&&(F=F(U,y.message)),o.default.createElement(h.default,{unmountOnExit:!0,timeout:175,in:this.state.collapsed,classes:(0,u.getCollapseClasses)(e,v),onExited:this.handleExited(U)},o.default.createElement(c.default,n({},w,M,{open:y.open,anchorOrigin:z,TransitionProps:N,classes:(0,u.getSnackbarClasses)(e),onClose:this.handleClose(U),onEntered:this.handleEntered(U)},this.unusedCallbacks),F||o.default.createElement(d.default,n({className:(0,s.default)(e.base,e["variant"+(0,p.capitalise)(C)],!f&&L?e.lessPadding:null,S)},P,{"aria-describedby":D,message:o.default.createElement("span",{id:D,className:e.message},f?null:L,y.message),action:R}))))}},{key:"unusedCallbacks",get:function(){var t=this;return["onEnter","onEntering","onExit","onExiting"].reduce(function(e,i){return n({},e,(o=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a,o=t.props.snack;"function"===typeof o[i]&&o[i].apply(o,n.concat([o.key])),"function"===typeof t.props[i]&&(a=t.props)[i].apply(a,n.concat([o.key]))},(a=i)in(r={})?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r));var r,a,o},{})}}]),e}();e.default=(0,l.withStyles)(f.default)(v)},462:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCollapseClasses=e.getSnackbarClasses=e.getTransitionDirection=void 0;var n,r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},a=i(22),o=(n=a)&&n.__esModule?n:{default:n},s=i(429);function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={right:"left",left:"right",bottom:"up",top:"down"};e.getTransitionDirection=function(t){return"center"!==t.horizontal?c[t.horizontal]:c[t.vertical]},e.getSnackbarClasses=function(t){var e=Object.keys(t).filter(function(t){return void 0!==s.allClasses.mui[t]}).reduce(function(e,i){return r({},e,l({},i,t[i]))},{});return r({},e,{root:(0,o.default)(e.root,t.wrappedRoot)})},e.getCollapseClasses=function(t,e){return{container:t.collapseContainer,wrapper:(0,o.default)(t.collapseWrapper,l({},t.collapseWrapperDense,e))}}},463:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=i(429);e.default=function(t){return n({},r.allClasses.mui,{base:{fontSize:"0.875rem",lineHeight:"1.46429em",fontWeight:t.typography.fontWeightRegular,fontFamily:t.typography.fontFamily,borderRadius:t.shape.borderRadius},lessPadding:{paddingLeft:20},variantSuccess:{backgroundColor:"#43a047"},variantError:{backgroundColor:"#d32f2f"},variantInfo:{backgroundColor:"#2979ff"},variantWarning:{backgroundColor:"#ffa000"},message:{display:"flex",alignItems:"center"},wrappedRoot:{position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0},collapseContainer:(e={},i=t.breakpoints.down("xs"),a={paddingLeft:"function"===typeof t.spacing?t.spacing(1):t.spacing.unit,paddingRight:"function"===typeof t.spacing?t.spacing(1):t.spacing.unit},i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e),collapseWrapper:{transition:t.transitions.create(["margin-bottom"],{easing:"ease"}),marginTop:r.SNACKBAR_INDENTS.snackbar.default,marginBottom:r.SNACKBAR_INDENTS.snackbar.default},collapseWrapperDense:{marginTop:r.SNACKBAR_INDENTS.snackbar.dense,marginBottom:r.SNACKBAR_INDENTS.snackbar.dense}});var e,i,a}},464:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=l(i(0)),a=(l(i(12)),l(i(22))),o=i(174),s=i(429);function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var h=r.default.memo(function(t){var e=t.classes,i=t.className,o=t.anchorOrigin,s=t.dense,l=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(t,["classes","className","anchorOrigin","dense"]),h=(0,a.default)(e.root,e[o.vertical],e[o.horizontal],e[o.vertical+(s?"Dense":"")],e[o.horizontal+(s?"Dense":"")],c({},e.reverseColumns,"bottom"===o.vertical),i);return r.default.createElement("div",n({className:h},l))});e.default=(0,o.withStyles)(function(t){return{root:c({boxSizing:"border-box",display:"flex",maxHeight:"100%",maxWidth:"100%",position:"fixed",flexDirection:"column",zIndex:t.zIndex.snackbar,height:"auto",width:"auto",minWidth:288,transition:t.transitions.create(["top","right","bottom","left"],{easing:"ease"})},t.breakpoints.down("xs"),{left:"0 !important",right:"0 !important",width:"100%"}),reverseColumns:{flexDirection:"column-reverse"},top:{top:s.SNACKBAR_INDENTS.view.default-s.SNACKBAR_INDENTS.snackbar.default},topDense:{top:s.SNACKBAR_INDENTS.view.dense-s.SNACKBAR_INDENTS.snackbar.dense},bottom:{bottom:s.SNACKBAR_INDENTS.view.default-s.SNACKBAR_INDENTS.snackbar.default},bottomDense:{bottom:s.SNACKBAR_INDENTS.view.dense-s.SNACKBAR_INDENTS.snackbar.dense},left:{left:s.SNACKBAR_INDENTS.view.default},leftDense:{left:s.SNACKBAR_INDENTS.view.dense},right:{right:s.SNACKBAR_INDENTS.view.default},rightDense:{right:s.SNACKBAR_INDENTS.view.dense},center:c({},t.breakpoints.up("md"),{left:"50%",transform:"translateX(-50%)"})}})(h)},465:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){}},466:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=s(i(0)),a=s(i(99)),o=(s(i(467)),s(i(433)));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=r.default.forwardRef(function(e,i){return r.default.createElement(o.default.Consumer,null,function(a){return r.default.createElement(t,n({},e,{ref:i,enqueueSnackbar:a.enqueueSnackbar,closeSnackbar:a.closeSnackbar}))})});return(0,a.default)(e,t),e}},467:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(468),a=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/,o=function(t){var e=(""+t).match(a);return e&&e[1]||""},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.displayName||t.name||o(t)||e};e.default=function(t){if(null!=t){if("string"===typeof t)return t;if("function"===typeof t)return s(t,"Component");if("object"===("undefined"===typeof t?"undefined":n(t)))switch(t.$$typeof){case r.ForwardRef:return function(t,e,i){var n=s(e);return t.displayName||(""!==n?i+"("+n+")":i)}(t,t.render,"ForwardRef");default:return}}}},468:function(t,e,i){"use strict";t.exports=i(469)},469:function(t,e,i){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case d:case u:case o:case l:case s:case p:return t;default:switch(t=t&&t.$$typeof){case h:case f:case y:case g:case c:return t;default:return e}}case a:return e}}}function S(t){return x(t)===u}e.AsyncMode=d,e.ConcurrentMode=u,e.ContextConsumer=h,e.ContextProvider=c,e.Element=r,e.ForwardRef=f,e.Fragment=o,e.Lazy=y,e.Memo=g,e.Portal=a,e.Profiler=l,e.StrictMode=s,e.Suspense=p,e.isAsyncMode=function(t){return S(t)||x(t)===d},e.isConcurrentMode=S,e.isContextConsumer=function(t){return x(t)===h},e.isContextProvider=function(t){return x(t)===c},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return x(t)===f},e.isFragment=function(t){return x(t)===o},e.isLazy=function(t){return x(t)===y},e.isMemo=function(t){return x(t)===g},e.isPortal=function(t){return x(t)===a},e.isProfiler=function(t){return x(t)===l},e.isStrictMode=function(t){return x(t)===s},e.isSuspense=function(t){return x(t)===p},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===u||t===l||t===s||t===p||t===m||"object"===typeof t&&null!==t&&(t.$$typeof===y||t.$$typeof===g||t.$$typeof===c||t.$$typeof===h||t.$$typeof===f||t.$$typeof===b||t.$$typeof===_||t.$$typeof===w||t.$$typeof===v)},e.typeOf=x},470:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=i(0),a=i(433),o=(n=a)&&n.__esModule?n:{default:n};e.default=function(){return(0,r.useContext)(o.default)}},479:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M7.58 4.08L6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2c.15-2.65 1.51-4.97 3.55-6.42zm12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43c2.02 1.45 3.39 3.77 3.54 6.42zM18 11c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2v-5zm-6 11c.14 0 .27-.01.4-.04.65-.14 1.18-.58 1.44-1.18.1-.24.15-.5.15-.78h-4c.01 1.1.9 2 2.01 2z"}),"NotificationsActive");e.default=a},480:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");e.default=a},482:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz");e.default=a},483:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");e.default=a},484:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");e.default=a},486:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{fillOpacity:".9",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57V12c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57V12c0-5.52-4.48-10-10-10zm0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}),"AlternateEmail");e.default=a},487:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");e.default=a},488:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");e.default=a},489:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9z"}),"Headset");e.default=a},490:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"InsertLink");e.default=a},491:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");e.default=a},492:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"Group");e.default=a},529:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}(i(0)),r=o(i(12)),a=o(i(530));function o(t){return t&&t.__esModule?t:{default:t}}function s(t){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=["dragMode","aspectRatio","data","crop","viewMode","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRatio","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minContainerWidth","minContainerHeight","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","ready","cropstart","cropmove","cropend","zoom"],p=f.slice(4),m=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,d(e).apply(this,arguments))}var i,r,o;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.Component),i=e,(r=[{key:"componentDidMount",value:function(){var t=this,e=Object.keys(this.props).filter(function(t){return-1!==f.indexOf(t)}).reduce(function(e,i){return l({},e,(n={},r=i,a=t.props[i],r in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n));var n,r,a},{});this.cropper=new a.default(this.img,e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=this;t.src!==this.props.src&&this.cropper.reset().clear().replace(t.src),t.aspectRatio!==this.props.aspectRatio&&this.setAspectRatio(t.aspectRatio),t.data!==this.props.data&&this.setData(t.data),t.dragMode!==this.props.dragMode&&this.setDragMode(t.dragMode),t.cropBoxData!==this.props.cropBoxData&&this.setCropBoxData(t.cropBoxData),t.canvasData!==this.props.canvasData&&this.setCanvasData(t.canvasData),t.moveTo!==this.props.moveTo&&(t.moveTo.length>1?this.moveTo(t.moveTo[0],t.moveTo[1]):this.moveTo(t.moveTo[0])),t.zoomTo!==this.props.zoomTo&&this.zoomTo(t.zoomTo),t.rotateTo!==this.props.rotateTo&&this.rotateTo(t.rotateTo),t.scaleX!==this.props.scaleX&&this.scaleX(t.scaleX),t.scaleY!==this.props.scaleY&&this.scaleY(t.scaleY),t.enable!==this.props.enable&&(t.enable?this.enable():this.disable()),Object.keys(t).forEach(function(i){var n=t[i]!==e.props[i],r=-1!==p.indexOf(i);if("function"===typeof t[i]&&"function"===typeof e.props[i]&&(n=t[i].toString()!==e.props[i].toString()),n&&r)throw new Error("prop: ".concat(i," can't be change after componentDidMount"))})}},{key:"componentWillUnmount",value:function(){this.img&&(this.cropper.destroy(),delete this.img,delete this.cropper)}},{key:"setDragMode",value:function(t){return this.cropper.setDragMode(t)}},{key:"setAspectRatio",value:function(t){return this.cropper.setAspectRatio(t)}},{key:"getCroppedCanvas",value:function(t){return this.cropper.getCroppedCanvas(t)}},{key:"setCropBoxData",value:function(t){return this.cropper.setCropBoxData(t)}},{key:"getCropBoxData",value:function(){return this.cropper.getCropBoxData()}},{key:"setCanvasData",value:function(t){return this.cropper.setCanvasData(t)}},{key:"getCanvasData",value:function(){return this.cropper.getCanvasData()}},{key:"getImageData",value:function(){return this.cropper.getImageData()}},{key:"getContainerData",value:function(){return this.cropper.getContainerData()}},{key:"setData",value:function(t){return this.cropper.setData(t)}},{key:"getData",value:function(t){return this.cropper.getData(t)}},{key:"crop",value:function(){return this.cropper.crop()}},{key:"move",value:function(t,e){return this.cropper.move(t,e)}},{key:"moveTo",value:function(t,e){return this.cropper.moveTo(t,e)}},{key:"zoom",value:function(t){return this.cropper.zoom(t)}},{key:"zoomTo",value:function(t){return this.cropper.zoomTo(t)}},{key:"rotate",value:function(t){return this.cropper.rotate(t)}},{key:"rotateTo",value:function(t){return this.cropper.rotateTo(t)}},{key:"enable",value:function(){return this.cropper.enable()}},{key:"disable",value:function(){return this.cropper.disable()}},{key:"reset",value:function(){return this.cropper.reset()}},{key:"clear",value:function(){return this.cropper.clear()}},{key:"replace",value:function(t,e){return this.cropper.replace(t,e)}},{key:"scale",value:function(t,e){return this.cropper.scale(t,e)}},{key:"scaleX",value:function(t){return this.cropper.scaleX(t)}},{key:"scaleY",value:function(t){return this.cropper.scaleY(t)}},{key:"render",value:function(){var t=this,e=this.props,i=e.src,r=e.alt,a=e.crossOrigin,o=e.style,s=e.className;return n.default.createElement("div",{style:o,className:s},n.default.createElement("img",{crossOrigin:a,ref:function(e){t.img=e},src:i,alt:void 0===r?"picture":r,style:{opacity:0}}))}}])&&c(i.prototype,r),o&&c(i,o),e}();m.propTypes={style:r.default.object,className:r.default.string,crossOrigin:r.default.string,src:r.default.string,alt:r.default.string,aspectRatio:r.default.number,dragMode:r.default.oneOf(["crop","move","none"]),data:r.default.shape({x:r.default.number,y:r.default.number,width:r.default.number,height:r.default.number,rotate:r.default.number,scaleX:r.default.number,scaleY:r.default.number}),scaleX:r.default.number,scaleY:r.default.number,enable:r.default.bool,cropBoxData:r.default.shape({left:r.default.number,top:r.default.number,width:r.default.number,height:r.default.number}),canvasData:r.default.shape({left:r.default.number,top:r.default.number,width:r.default.number,height:r.default.number}),zoomTo:r.default.number,moveTo:r.default.arrayOf(r.default.number),rotateTo:r.default.number,viewMode:r.default.oneOf([0,1,2,3]),preview:r.default.string,responsive:r.default.bool,restore:r.default.bool,checkCrossOrigin:r.default.bool,checkOrientation:r.default.bool,modal:r.default.bool,guides:r.default.bool,center:r.default.bool,highlight:r.default.bool,background:r.default.bool,autoCrop:r.default.bool,autoCropArea:r.default.number,movable:r.default.bool,rotatable:r.default.bool,scalable:r.default.bool,zoomable:r.default.bool,zoomOnTouch:r.default.bool,zoomOnWheel:r.default.bool,wheelZoomRatio:r.default.number,cropBoxMovable:r.default.bool,cropBoxResizable:r.default.bool,toggleDragModeOnDblclick:r.default.bool,minContainerWidth:r.default.number,minContainerHeight:r.default.number,minCanvasWidth:r.default.number,minCanvasHeight:r.default.number,minCropBoxWidth:r.default.number,minCropBoxHeight:r.default.number,ready:r.default.func,cropstart:r.default.func,cropmove:r.default.func,cropend:r.default.func,crop:r.default.func,zoom:r.default.func},m.defaultProps={src:null,dragMode:"crop",data:null,scaleX:1,scaleY:1,enable:!0,zoomTo:1,rotateTo:0};var g=m;e.default=g},530:function(t,e,i){t.exports=function(){"use strict";function t(e){return(t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(r,!0).forEach(function(e){i(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o="undefined"!==typeof window&&"undefined"!==typeof window.document,s=o?window:{},l=!!o&&"ontouchstart"in s.document.documentElement,c=!!o&&"PointerEvent"in s,h="".concat("cropper","-crop"),d="".concat("cropper","-disabled"),u="".concat("cropper","-hidden"),f="".concat("cropper","-hide"),p="".concat("cropper","-invisible"),m="".concat("cropper","-modal"),g="".concat("cropper","-move"),y="".concat("cropper","Action"),v="".concat("cropper","Preview"),b=l?"touchstart":"mousedown",_=l?"touchmove":"mousemove",w=l?"touchend touchcancel":"mouseup",x=c?"pointerdown":b,S=c?"pointermove":_,E=c?"pointerup pointercancel":w,U=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,C=/^data:/,O=/^data:image\/jpeg;base64,/,T=/^img|canvas$/i,k={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},A=Number.isNaN||s.isNaN;function z(t){return"number"===typeof t&&!A(t)}var B=function(t){return t>0&&t<1/0};function I(t){return"undefined"===typeof t}function M(e){return"object"===t(e)&&null!==e}var L=Object.prototype.hasOwnProperty;function P(t){if(!M(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&L.call(i,"isPrototypeOf")}catch(n){return!1}}function N(t){return"function"===typeof t}var D=Array.prototype.slice;function R(t){return Array.from?Array.from(t):D.call(t)}function F(t,e){return t&&N(e)&&(Array.isArray(t)||z(t.length)?R(t).forEach(function(i,n){e.call(t,i,n,t)}):M(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)})),t}var j=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return M(t)&&i.length>0&&i.forEach(function(e){M(e)&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},H=/\.\d*(?:0|9){12}\d*$/;function G(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return H.test(t)?Math.round(t*e)/e:t}var W=/^width|height|left|top|marginLeft|marginTop$/;function Y(t,e){var i=t.style;F(e,function(t,e){W.test(e)&&z(t)&&(t="".concat(t,"px")),i[e]=t})}function V(t,e){if(e)if(z(t.length))F(t,function(t){V(t,e)});else if(t.classList)t.classList.add(e);else{var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function X(t,e){e&&(z(t.length)?F(t,function(t){X(t,e)}):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function q(t,e,i){e&&(z(t.length)?F(t,function(t){q(t,e,i)}):i?V(t,e):X(t,e))}var $=/([a-z\d])([A-Z])/g;function K(t){return t.replace($,"$1-$2").toLowerCase()}function Z(t,e){return M(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(K(e)))}function J(t,e,i){M(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(K(e)),i)}var Q=/\s\s*/,tt=function(){var t=!1;if(o){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});s.addEventListener("test",i,n),s.removeEventListener("test",i,n)}return t}();function et(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(Q).forEach(function(e){if(!tt){var a=t.listeners;a&&a[e]&&a[e][i]&&(r=a[e][i],delete a[e][i],0===Object.keys(a[e]).length&&delete a[e],0===Object.keys(a).length&&delete t.listeners)}t.removeEventListener(e,r,n)})}function it(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=i;e.trim().split(Q).forEach(function(e){if(n.once&&!tt){var a=t.listeners,o=void 0===a?{}:a;r=function(){delete o[e][i],t.removeEventListener(e,r,n);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];i.apply(t,s)},o[e]||(o[e]={}),o[e][i]&&t.removeEventListener(e,o[e][i],n),o[e][i]=r,t.listeners=o}t.addEventListener(e,r,n)})}function nt(t,e,i){var n;return N(Event)&&N(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}function rt(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var at=s.location,ot=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function st(t){var e=t.match(ot);return null!==e&&(e[1]!==at.protocol||e[2]!==at.hostname||e[3]!==at.port)}function lt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function ct(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,r=t.translateX,a=t.translateY,o=[];z(r)&&0!==r&&o.push("translateX(".concat(r,"px)")),z(a)&&0!==a&&o.push("translateY(".concat(a,"px)")),z(e)&&0!==e&&o.push("rotate(".concat(e,"deg)")),z(i)&&1!==i&&o.push("scaleX(".concat(i,")")),z(n)&&1!==n&&o.push("scaleY(".concat(n,")"));var s=o.length?o.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ht(t,e){var i=t.pageX,n=t.pageY,a={endX:i,endY:n};return e?a:r({startX:i,startY:n},a)}function dt(t){var e=t.aspectRatio,i=t.height,n=t.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",a=B(n),o=B(i);if(a&&o){var s=i*e;"contain"===r&&s>n||"cover"===r&&s<n?i=n/e:n=i*e}else a?i=n/e:o&&(n=i*e);return{width:n,height:i}}function ut(t,e,i,n){var r=e.aspectRatio,o=e.naturalWidth,s=e.naturalHeight,l=e.rotate,c=void 0===l?0:l,h=e.scaleX,d=void 0===h?1:h,u=e.scaleY,f=void 0===u?1:u,p=i.aspectRatio,m=i.naturalWidth,g=i.naturalHeight,y=n.fillColor,v=void 0===y?"transparent":y,b=n.imageSmoothingEnabled,_=void 0===b||b,w=n.imageSmoothingQuality,x=void 0===w?"low":w,S=n.maxWidth,E=void 0===S?1/0:S,U=n.maxHeight,C=void 0===U?1/0:U,O=n.minWidth,T=void 0===O?0:O,k=n.minHeight,A=void 0===k?0:k,z=document.createElement("canvas"),B=z.getContext("2d"),I=dt({aspectRatio:p,width:E,height:C}),M=dt({aspectRatio:p,width:T,height:A},"cover"),L=Math.min(I.width,Math.max(M.width,m)),P=Math.min(I.height,Math.max(M.height,g)),N=dt({aspectRatio:r,width:E,height:C}),D=dt({aspectRatio:r,width:T,height:A},"cover"),R=Math.min(N.width,Math.max(D.width,o)),F=Math.min(N.height,Math.max(D.height,s)),j=[-R/2,-F/2,R,F];return z.width=G(L),z.height=G(P),B.fillStyle=v,B.fillRect(0,0,L,P),B.save(),B.translate(L/2,P/2),B.rotate(c*Math.PI/180),B.scale(d,f),B.imageSmoothingEnabled=_,B.imageSmoothingQuality=x,B.drawImage.apply(B,[t].concat(a(j.map(function(t){return Math.floor(G(t))})))),B.restore(),z}var ft=String.fromCharCode,pt=/^data:.*,/;function mt(t){var e,i=new DataView(t);try{var n,r,a;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var o=i.byteLength,s=2;s+1<o;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){r=s;break}s+=1}if(r){var l=r+10;if("Exif"===function(t,e,i){var n="";i+=e;for(var r=e;r<i;r+=1)n+=ft(t.getUint8(r));return n}(i,r+4,4)){var c=i.getUint16(l);if(((n=18761===c)||19789===c)&&42===i.getUint16(l+2,n)){var h=i.getUint32(l+4,n);h>=8&&(a=l+h)}}}if(a){var d,u,f=i.getUint16(a,n);for(u=0;u<f;u+=1)if(d=a+12*u+2,274===i.getUint16(d,n)){d+=8,e=i.getUint16(d,n),i.setUint16(d,1,n);break}}}catch(p){e=1}return e}var gt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper;V(n,u),X(t,u);var r={width:Math.max(i.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(e.minContainerHeight)||100)};this.containerData=r,Y(n,{width:r.width,height:r.height}),V(t,u),X(n,u)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180===90,r=n?e.naturalHeight:e.naturalWidth,a=n?e.naturalWidth:e.naturalHeight,o=r/a,s=t.width,l=t.height;t.height*o>t.width?3===i?s=t.height*o:l=t.width/o:3===i?l=t.width/o:s=t.height*o;var c={aspectRatio:o,naturalWidth:r,naturalHeight:a,width:s,height:l};c.left=(t.width-s)/2,c.top=(t.height-l)/2,c.oldLeft=c.left,c.oldTop=c.top,this.canvasData=c,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=j({},e),this.initialCanvasData=j({},c)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=i.viewMode,s=r.aspectRatio,l=this.cropped&&a;if(t){var c=Number(i.minCanvasWidth)||0,h=Number(i.minCanvasHeight)||0;o>1?(c=Math.max(c,n.width),h=Math.max(h,n.height),3===o&&(h*s>c?c=h*s:h=c/s)):o>0&&(c?c=Math.max(c,l?a.width:0):h?h=Math.max(h,l?a.height:0):l&&(c=a.width,(h=a.height)*s>c?c=h*s:h=c/s));var d=dt({aspectRatio:s,width:c,height:h});c=d.width,h=d.height,r.minWidth=c,r.minHeight=h,r.maxWidth=1/0,r.maxHeight=1/0}if(e)if(o>(l?0:1)){var u=n.width-r.width,f=n.height-r.height;r.minLeft=Math.min(0,u),r.minTop=Math.min(0,f),r.maxLeft=Math.max(0,u),r.maxTop=Math.max(0,f),l&&this.limited&&(r.minLeft=Math.min(a.left,a.left+(a.width-r.width)),r.minTop=Math.min(a.top,a.top+(a.height-r.height)),r.maxLeft=a.left,r.maxTop=a.top,2===o&&(r.width>=n.width&&(r.minLeft=Math.min(0,u),r.maxLeft=Math.max(0,u)),r.height>=n.height&&(r.minTop=Math.min(0,f),r.maxTop=Math.max(0,f))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=n.width,r.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var r=function(t){var e=t.width,i=t.height,n=t.degree;if(90===(n=Math.abs(n)%180))return{width:i,height:e};var r=n%90*Math.PI/180,a=Math.sin(r),o=Math.cos(r),s=e*o+i*a,l=e*a+i*o;return n>90?{width:l,height:s}:{width:s,height:l}}({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),a=r.width,o=r.height,s=i.width*(a/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=a/o,i.naturalWidth=a,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,Y(this.canvas,j({width:i.width,height:i.height},ct({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),r=i.naturalHeight*(e.height/e.naturalHeight);j(i,{width:n,height:r,left:(e.width-n)/2,top:(e.height-r)/2}),Y(this.image,j({width:i.width,height:i.height},ct(j({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,r={width:e.width,height:e.height};i&&(e.height*i>e.width?r.height=r.width/i:r.width=r.height*i),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*n),r.height=Math.max(r.minHeight,r.height*n),r.left=e.left+(e.width-r.width)/2,r.top=e.top+(e.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=j({},r)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,r=this.canvasData,a=this.cropBoxData,o=this.limited,s=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,c=Number(i.minCropBoxHeight)||0,h=o?Math.min(n.width,r.width,r.width+r.left,n.width-r.left):n.width,d=o?Math.min(n.height,r.height,r.height+r.top,n.height-r.top):n.height;l=Math.min(l,n.width),c=Math.min(c,n.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),d*s>h?d=h/s:h=d*s),a.minWidth=Math.min(l,h),a.minHeight=Math.min(c,d),a.maxWidth=h,a.maxHeight=d}e&&(o?(a.minLeft=Math.max(0,r.left),a.minTop=Math.max(0,r.top),a.maxLeft=Math.min(n.width,r.left+r.width)-a.width,a.maxTop=Math.min(n.height,r.top+r.height)-a.height):(a.minLeft=0,a.minTop=0,a.maxLeft=n.width-a.width,a.maxTop=n.height-a.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&J(this.face,y,i.width>=e.width&&i.height>=e.height?"move":"all"),Y(this.cropBox,j({width:i.width,height:i.height},ct({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),nt(this.element,"crop",this.getData())}},yt={initPreview:function(){var t=this.element,e=this.crossOrigin,i=this.options.preview,n=e?this.crossOriginUrl:this.url,r=t.alt||"The image to preview",a=document.createElement("img");if(e&&(a.crossOrigin=e),a.src=n,a.alt=r,this.viewBox.appendChild(a),this.viewBoxImage=a,i){var o=i;"string"===typeof i?o=t.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,F(o,function(t){var i=document.createElement("img");J(t,v,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(i.crossOrigin=e),i.src=n,i.alt=r,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(i)})}},resetPreview:function(){F(this.previews,function(t){var e=Z(t,v);Y(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(M(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(K(e)))}(t,v)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,r=i.height,a=t.width,o=t.height,s=i.left-e.left-t.left,l=i.top-e.top-t.top;this.cropped&&!this.disabled&&(Y(this.viewBoxImage,j({width:a,height:o},ct(j({translateX:-s,translateY:-l},t)))),F(this.previews,function(e){var i=Z(e,v),c=i.width,h=i.height,d=c,u=h,f=1;n&&(u=r*(f=c/n)),r&&u>h&&(d=n*(f=h/r),u=h),Y(e,{width:d,height:u}),Y(e.getElementsByTagName("img")[0],j({width:a*f,height:o*f},ct(j({translateX:-s*f,translateY:-l*f},t))))}))}},vt={bind:function(){var t=this.element,e=this.options,i=this.cropper;N(e.cropstart)&&it(t,"cropstart",e.cropstart),N(e.cropmove)&&it(t,"cropmove",e.cropmove),N(e.cropend)&&it(t,"cropend",e.cropend),N(e.crop)&&it(t,"crop",e.crop),N(e.zoom)&&it(t,"zoom",e.zoom),it(i,x,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&it(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&it(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),it(t.ownerDocument,S,this.onCropMove=this.cropMove.bind(this)),it(t.ownerDocument,E,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&it(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;N(e.cropstart)&&et(t,"cropstart",e.cropstart),N(e.cropmove)&&et(t,"cropmove",e.cropmove),N(e.cropend)&&et(t,"cropend",e.cropend),N(e.crop)&&et(t,"crop",e.crop),N(e.zoom)&&et(t,"zoom",e.zoom),et(i,x,this.onCropStart),e.zoomable&&e.zoomOnWheel&&et(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&et(i,"dblclick",this.onDblclick),et(t.ownerDocument,S,this.onCropMove),et(t.ownerDocument,E,this.onCropEnd),e.responsive&&et(window,"resize",this.onResize)}},bt={resize:function(){var t=this.options,e=this.container,i=this.containerData,n=Number(t.minContainerWidth)||200,r=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=n||i.height<=r)){var a,o,s=e.offsetWidth/i.width;1===s&&e.offsetHeight===i.height||(t.restore&&(a=this.getCanvasData(),o=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(F(a,function(t,e){a[e]=t*s})),this.setCropBoxData(F(o,function(t,e){o[e]=t*s}))))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=h,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(z(e)&&1!==e||z(i)&&0!==i||t.ctrlKey))){var n,r=this.options,a=this.pointers;t.changedTouches?F(t.changedTouches,function(t){a[t.identifier]=ht(t)}):a[t.pointerId||0]=ht(t),n=Object.keys(a).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":Z(t.target,y),U.test(n)&&!1!==nt(this.element,"cropstart",{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,V(this.dragBox,m)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==nt(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?F(t.changedTouches,function(t){j(i[t.identifier]||{},ht(t,!0))}):j(i[t.pointerId||0]||{},ht(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?F(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,q(this.dragBox,m,this.cropped&&this.options.modal)),nt(this.element,"cropend",{originalEvent:t,action:e}))}}},_t={change:function(t){var e,i=this.options,n=this.canvasData,a=this.containerData,o=this.cropBoxData,s=this.pointers,l=this.action,c=i.aspectRatio,h=o.left,d=o.top,f=o.width,p=o.height,m=h+f,g=d+p,y=0,v=0,b=a.width,_=a.height,w=!0;!c&&t.shiftKey&&(c=f&&p?f/p:1),this.limited&&(y=o.minLeft,v=o.minTop,b=y+Math.min(a.width,n.width,n.left+n.width),_=v+Math.min(a.height,n.height,n.top+n.height));var x=s[Object.keys(s)[0]],S={x:x.endX-x.startX,y:x.endY-x.startY},E=function(t){switch(t){case"e":m+S.x>b&&(S.x=b-m);break;case"w":h+S.x<y&&(S.x=y-h);break;case"n":d+S.y<v&&(S.y=v-d);break;case"s":g+S.y>_&&(S.y=_-g)}};switch(l){case"all":h+=S.x,d+=S.y;break;case"e":if(S.x>=0&&(m>=b||c&&(d<=v||g>=_))){w=!1;break}E("e"),(f+=S.x)<0&&(l="w",h-=f=-f),c&&(p=f/c,d+=(o.height-p)/2);break;case"n":if(S.y<=0&&(d<=v||c&&(h<=y||m>=b))){w=!1;break}E("n"),p-=S.y,d+=S.y,p<0&&(l="s",d-=p=-p),c&&(f=p*c,h+=(o.width-f)/2);break;case"w":if(S.x<=0&&(h<=y||c&&(d<=v||g>=_))){w=!1;break}E("w"),f-=S.x,h+=S.x,f<0&&(l="e",h-=f=-f),c&&(p=f/c,d+=(o.height-p)/2);break;case"s":if(S.y>=0&&(g>=_||c&&(h<=y||m>=b))){w=!1;break}E("s"),(p+=S.y)<0&&(l="n",d-=p=-p),c&&(f=p*c,h+=(o.width-f)/2);break;case"ne":if(c){if(S.y<=0&&(d<=v||m>=b)){w=!1;break}E("n"),p-=S.y,d+=S.y,f=p*c}else E("n"),E("e"),S.x>=0?m<b?f+=S.x:S.y<=0&&d<=v&&(w=!1):f+=S.x,S.y<=0?d>v&&(p-=S.y,d+=S.y):(p-=S.y,d+=S.y);f<0&&p<0?(l="sw",d-=p=-p,h-=f=-f):f<0?(l="nw",h-=f=-f):p<0&&(l="se",d-=p=-p);break;case"nw":if(c){if(S.y<=0&&(d<=v||h<=y)){w=!1;break}E("n"),p-=S.y,d+=S.y,f=p*c,h+=o.width-f}else E("n"),E("w"),S.x<=0?h>y?(f-=S.x,h+=S.x):S.y<=0&&d<=v&&(w=!1):(f-=S.x,h+=S.x),S.y<=0?d>v&&(p-=S.y,d+=S.y):(p-=S.y,d+=S.y);f<0&&p<0?(l="se",d-=p=-p,h-=f=-f):f<0?(l="ne",h-=f=-f):p<0&&(l="sw",d-=p=-p);break;case"sw":if(c){if(S.x<=0&&(h<=y||g>=_)){w=!1;break}E("w"),f-=S.x,h+=S.x,p=f/c}else E("s"),E("w"),S.x<=0?h>y?(f-=S.x,h+=S.x):S.y>=0&&g>=_&&(w=!1):(f-=S.x,h+=S.x),S.y>=0?g<_&&(p+=S.y):p+=S.y;f<0&&p<0?(l="ne",d-=p=-p,h-=f=-f):f<0?(l="se",h-=f=-f):p<0&&(l="nw",d-=p=-p);break;case"se":if(c){if(S.x>=0&&(m>=b||g>=_)){w=!1;break}E("e"),p=(f+=S.x)/c}else E("s"),E("e"),S.x>=0?m<b?f+=S.x:S.y>=0&&g>=_&&(w=!1):f+=S.x,S.y>=0?g<_&&(p+=S.y):p+=S.y;f<0&&p<0?(l="nw",d-=p=-p,h-=f=-f):f<0?(l="sw",h-=f=-f):p<0&&(l="ne",d-=p=-p);break;case"move":this.move(S.x,S.y),w=!1;break;case"zoom":this.zoom(function(t){var e=r({},t),i=[];return F(t,function(t,n){delete e[n],F(e,function(e){var n=Math.abs(t.startX-e.startX),r=Math.abs(t.startY-e.startY),a=Math.abs(t.endX-e.endX),o=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+r*r),l=(Math.sqrt(a*a+o*o)-s)/s;i.push(l)})}),i.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),i[0]}(s),t),w=!1;break;case"crop":if(!S.x||!S.y){w=!1;break}e=rt(this.cropper),h=x.startX-e.left,d=x.startY-e.top,f=o.minWidth,p=o.minHeight,S.x>0?l=S.y>0?"se":"ne":S.x<0&&(h-=f,l=S.y>0?"sw":"nw"),S.y<0&&(d-=p),this.cropped||(X(this.cropBox,u),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(o.width=f,o.height=p,o.left=h,o.top=d,this.action=l,this.renderCropBox()),F(s,function(t){t.startX=t.endX,t.startY=t.endY})}},wt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&V(this.dragBox,m),X(this.cropBox,u),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=j({},this.initialImageData),this.canvasData=j({},this.initialCanvasData),this.cropBoxData=j({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(j(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),X(this.dragBox,m),V(this.cropBox,u)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,F(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,X(this.cropper,d)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,V(this.cropper,d)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,r=i.top;return this.moveTo(I(t)?t:n+Number(t),I(e)?e:r+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(z(t)&&(i.left=t,n=!0),z(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,r=this.canvasData,a=r.width,o=r.height,s=r.naturalWidth,l=r.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*t,h=l*t;if(!1===nt(this.element,"zoom",{ratio:t,oldRatio:a/s,originalEvent:i}))return this;if(i){var d=this.pointers,u=rt(this.cropper),f=d&&Object.keys(d).length?function(t){var e=0,i=0,n=0;return F(t,function(t){var r=t.startX,a=t.startY;e+=r,i+=a,n+=1}),{pageX:e/=n,pageY:i/=n}}(d):{pageX:i.pageX,pageY:i.pageY};r.left-=(c-a)*((f.pageX-u.left-r.left)/a),r.top-=(h-o)*((f.pageY-u.top-r.top)/o)}else P(e)&&z(e.x)&&z(e.y)?(r.left-=(c-a)*((e.x-r.left)/a),r.top-=(h-o)*((e.y-r.top)/o)):(r.left-=(c-a)/2,r.top-=(h-o)/2);r.width=c,r.height=h,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return z(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,z(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(z(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(z(t)&&(i.scaleX=t,n=!0),z(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,r=this.canvasData,a=this.cropBoxData;if(this.ready&&this.cropped){t={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height};var o=n.width/n.naturalWidth;if(F(t,function(e,i){t[i]=e/o}),e){var s=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,r={};if(this.ready&&!this.disabled&&P(t)){var a=!1;e.rotatable&&z(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,a=!0),e.scalable&&(z(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,a=!0),z(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;z(t.x)&&(r.left=t.x*o+n.left),z(t.y)&&(r.top=t.y*o+n.top),z(t.width)&&(r.width=t.width*o),z(t.height)&&(r.height=t.height*o),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?j({},this.containerData):{}},getImageData:function(){return this.sized?j({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&F(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&P(t)&&(z(t.left)&&(e.left=t.left),z(t.top)&&(e.top=t.top),z(t.width)?(e.width=t.width,e.height=t.width/i):z(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&P(t)&&(z(t.left)&&(n.left=t.left),z(t.top)&&(n.top=t.top),z(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),z(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),r&&(e?n.height=n.width/r:i&&(n.width=n.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=ut(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),r=n.x,o=n.y,s=n.width,l=n.height,c=i.width/Math.floor(e.naturalWidth);1!==c&&(r*=c,o*=c,s*=c,l*=c);var h=s/l,d=dt({aspectRatio:h,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),u=dt({aspectRatio:h,width:t.minWidth||0,height:t.minHeight||0},"cover"),f=dt({aspectRatio:h,width:t.width||(1!==c?i.width:s),height:t.height||(1!==c?i.height:l)}),p=f.width,m=f.height;p=Math.min(d.width,Math.max(u.width,p)),m=Math.min(d.height,Math.max(u.height,m));var g=document.createElement("canvas"),y=g.getContext("2d");g.width=G(p),g.height=G(m),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,p,m);var v=t.imageSmoothingEnabled,b=void 0===v||v,_=t.imageSmoothingQuality;y.imageSmoothingEnabled=b,_&&(y.imageSmoothingQuality=_);var w,x,S,E,U,C,O=i.width,T=i.height,k=r,A=o;k<=-s||k>O?(k=0,w=0,S=0,U=0):k<=0?(S=-k,k=0,U=w=Math.min(O,s+k)):k<=O&&(S=0,U=w=Math.min(s,O-k)),w<=0||A<=-l||A>T?(A=0,x=0,E=0,C=0):A<=0?(E=-A,A=0,C=x=Math.min(T,l+A)):A<=T&&(E=0,C=x=Math.min(l,T-A));var z=[k,A,w,x];if(U>0&&C>0){var B=p/s;z.push(S*B,E*B,U*B,C*B)}return y.drawImage.apply(y,[i].concat(a(z.map(function(t){return Math.floor(G(t))})))),g},setAspectRatio:function(t){var e=this.options;return this.disabled||I(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var r="crop"===t,a=e.movable&&"move"===t;t=r||a?t:"none",e.dragMode=t,J(i,y,t),q(i,h,r),q(i,g,a),e.cropBoxMovable||(J(n,y,t),q(n,h,r),q(n,g,a))}return this}},xt=s.Cropper,St=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!T.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=j({},k,P(i)&&i),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var i,n,r;return i=t,r=[{key:"noConflict",value:function(){return window.Cropper=xt,t}},{key:"setDefaults",value:function(t){j(k,P(t)&&t)}}],(n=[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),n.checkOrientation&&window.ArrayBuffer)if(C.test(t))O.test(t)?this.read(function(t){var e=t.replace(pt,""),i=atob(e),n=new ArrayBuffer(i.length),r=new Uint8Array(n);return F(r,function(t,e){r[e]=i.charCodeAt(e)}),n}(t)):this.clone();else{var r=new XMLHttpRequest,a=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=a,r.onerror=a,r.ontimeout=a,r.onprogress=function(){"image/jpeg"!==r.getResponseHeader("content-type")&&r.abort()},r.onload=function(){e.read(r.response)},r.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&st(t)&&i.crossOrigin&&(t=lt(t)),r.open("GET",t),r.responseType="arraybuffer",r.withCredentials="use-credentials"===i.crossOrigin,r.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=mt(t),r=0,a=1,o=1;if(n>1){this.url=function(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(ft.apply(null,R(n.subarray(0,8192)))),n=n.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(i.join("")))}(t,"image/jpeg");var s=function(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}(n);r=s.rotate,a=s.scaleX,o=s.scaleY}e.rotatable&&(i.rotate=r),e.scalable&&(i.scaleX=a,i.scaleY=o),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,i=t.crossOrigin,n=e;this.options.checkCrossOrigin&&st(e)&&(i||(i="anonymous"),n=lt(e)),this.crossOrigin=i,this.crossOriginUrl=n;var r=document.createElement("img");i&&(r.crossOrigin=i),r.src=n||e,r.alt=t.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),V(r,f),t.parentNode.insertBefore(r,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=s.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(s.navigator.userAgent),n=function(e,i){j(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||i){var r=document.createElement("img"),a=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){n(r.width,r.height),i||a.removeChild(r)},r.src=e.src,i||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",a.appendChild(r))}else n(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var a=r.querySelector(".".concat("cropper","-container")),o=a.querySelector(".".concat("cropper","-canvas")),s=a.querySelector(".".concat("cropper","-drag-box")),l=a.querySelector(".".concat("cropper","-crop-box")),c=l.querySelector(".".concat("cropper","-face"));this.container=n,this.cropper=a,this.canvas=o,this.dragBox=s,this.cropBox=l,this.viewBox=a.querySelector(".".concat("cropper","-view-box")),this.face=c,o.appendChild(i),V(t,u),n.insertBefore(a,t.nextSibling),this.isImg||X(i,f),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,V(l,u),e.guides||V(l.getElementsByClassName("".concat("cropper","-dashed")),u),e.center||V(l.getElementsByClassName("".concat("cropper","-center")),u),e.background&&V(a,"".concat("cropper","-bg")),e.highlight||V(c,p),e.cropBoxMovable&&(V(c,g),J(c,y,"all")),e.cropBoxResizable||(V(l.getElementsByClassName("".concat("cropper","-line")),u),V(l.getElementsByClassName("".concat("cropper","-point")),u)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),N(e.ready)&&it(t,"ready",e.ready,{once:!0}),nt(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),X(this.element,u))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&e(i.prototype,n),r&&e(i,r),t}();return j(St.prototype,gt,yt,vt,bt,_t,wt),St}()},531:function(t,e,i){},537:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"};e.default=n},538:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"};e.default=n},551:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"}),"PollOutlined");e.default=a},560:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.default=a},571:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M7 9v6h4l5 5V4l-5 5H7z"}),"VolumeMute");e.default=a},572:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"}),"VolumeDown");e.default=a},573:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),"VolumeUp");e.default=a},574:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}),"Repeat");e.default=a},575:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4zm-4-2V9h-1l-2 1v1h1.5v4H13z"}),"RepeatOne");e.default=a},576:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"}),"Shuffle");e.default=a},579:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}),"SkipPrevious");e.default=a},580:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}),"SkipNext");e.default=a},590:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");e.default=a},593:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");e.default=a},598:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link");e.default=a},599:function(t,e,i){"use strict";var n=i(67);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(0)),a=(0,n(i(77)).default)(r.default.createElement("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");e.default=a},602:function(t,e,i){t.exports=i(603)},603:function(t,e,i){var n=i(604);e.iframeResize=n,e.iframeResizer=n,e.iframeResizerContentWindow=i(605)},604:function(t,e,i){var n,r,a;!function(i){if("undefined"!==typeof window){var o,s=0,l=!1,c=!1,h="message".length,d="[iFrameSizer]",u=d.length,f=null,p=window.requestAnimationFrame,m={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},g={},y=null,v={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){O("onMessage function not defined")},onResized:function(){},onScroll:function(){return!0}},b={};window.jQuery&&((o=window.jQuery).fn?o.fn.iFrameResize||(o.fn.iFrameResize=function(t){return this.filter("iframe").each(function(e,i){j(i,t)}).end()}):C("","Unable to bind to jQuery, it is not fully loaded.")),r=[],(a="function"===typeof(n=V)?n.apply(e,r):n)===i||(t.exports=a),window.iFrameResize=window.iFrameResize||V()}function _(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function w(t,e,i){t.addEventListener(e,i,!1)}function x(t,e,i){t.removeEventListener(e,i,!1)}function S(t){return d+"["+function(t){var e="Host page: "+t;return window.top!==window.self&&(e=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+t:"Nested host page: "+t),e}(t)+"]"}function E(t){return g[t]?g[t].log:l}function U(t,e){T("log",t,e,E(t))}function C(t,e){T("info",t,e,E(t))}function O(t,e){T("warn",t,e,!0)}function T(t,e,i,n){!0===n&&"object"===typeof window.console&&console[t](S(e),i)}function k(t){function e(){r("Height"),r("Width"),D(function(){N(y),M(v),p("onResized",y)},y,"init")}function i(t){return"border-box"!==t.boxSizing?0:(t.paddingTop?parseInt(t.paddingTop,10):0)+(t.paddingBottom?parseInt(t.paddingBottom,10):0)}function n(t){return"border-box"!==t.boxSizing?0:(t.borderTopWidth?parseInt(t.borderTopWidth,10):0)+(t.borderBottomWidth?parseInt(t.borderBottomWidth,10):0)}function r(t){var e=Number(g[v]["max"+t]),i=Number(g[v]["min"+t]),n=t.toLowerCase(),r=Number(y[n]);U(v,"Checking "+n+" is in range "+i+"-"+e),r<i&&(r=i,U(v,"Set "+n+" to min value")),r>e&&(r=e,U(v,"Set "+n+" to max value")),y[n]=""+r}function a(t){return m.substr(m.indexOf(":")+h+t)}function o(t,e){var i,n,r;i=function(){R("Send Page Info","pageInfo:"+function(){var t=document.body.getBoundingClientRect(),e=y.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:e.height,iframeWidth:e.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(e.top-t.top,10),offsetLeft:parseInt(e.left-t.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}(),t,e)},n=32,b[r=e]||(b[r]=setTimeout(function(){b[r]=null,i()},n))}function s(t){var e=t.getBoundingClientRect();return I(v),{x:Math.floor(Number(e.left)+Number(f.x)),y:Math.floor(Number(e.top)+Number(f.y))}}function l(t){var e=t?s(y.iframe):{x:0,y:0},i={x:Number(y.width)+e.x,y:Number(y.height)+e.y};U(v,"Reposition requested from iFrame (offset x:"+e.x+" y:"+e.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(t?"Offset":"")](i.x,i.y):O(v,"Unable to scroll to requested position, window.parentIFrame not found"):(f=i,c(),U(v,"--"))}function c(){!1!==p("onScroll",f)?M(v):L()}function p(t,e){return A(v,t,e)}var m=t.data,y={},v=null;"[iFrameResizerChild]Ready"===m?function(){for(var t in g)R("iFrame requested init",F(t),g[t].iframe,t)}():d===(""+m).substr(0,u)&&m.substr(u).split(":")[0]in g?(y=function(){var t=m.substr(u).split(":"),e=t[1]?parseInt(t[1],10):0,r=g[t[0]]&&g[t[0]].iframe,a=getComputedStyle(r);return{iframe:r,id:t[0],height:e+i(a)+n(a),width:t[2],type:t[3]}}(),v=y.id,g[v]&&(g[v].loaded=!0),!function(){var t=y.type in{true:1,false:1,undefined:1};return t&&U(v,"Ignoring init message from meta parent page"),t}()&&function(t){var e=!0;return g[t]||(e=!1,O(y.type+" No settings for "+t+". Message was: "+m)),e}(v)&&(U(v,"Received: "+m),function(){var t=!0;return null===y.iframe&&(O(v,"IFrame ("+y.id+") not found"),t=!1),t}()&&function(){var e=t.origin,i=g[v]&&g[v].checkOrigin;if(i&&""+e!=="null"&&!(i.constructor===Array?function(){var t=0,n=!1;for(U(v,"Checking connection is from allowed list of origins: "+i);t<i.length;t++)if(i[t]===e){n=!0;break}return n}():function(){var t=g[v]&&g[v].remoteHost;return U(v,"Checking connection is from: "+t),e===t}()))throw new Error("Unexpected message received from: "+e+" for "+y.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(g[v]&&g[v].firstRun&&g[v]&&(g[v].firstRun=!1),y.type){case"close":B(y.iframe);break;case"message":t=a(6),U(v,"onMessage passed: {iframe: "+y.iframe.id+", message: "+t+"}"),p("onMessage",{iframe:y.iframe,message:JSON.parse(t)}),U(v,"--");break;case"autoResize":g[v].autoResize=JSON.parse(a(9));break;case"scrollTo":l(!1);break;case"scrollToOffset":l(!0);break;case"pageInfo":o(g[v]&&g[v].iframe,v),function(){function t(t,n){function r(){g[i]?o(g[i].iframe,i):e()}["scroll","resize"].forEach(function(e){U(i,t+e+" listener for sendPageInfo"),n(window,e,r)})}function e(){t("Remove ",x)}var i=v;t("Add ",w),g[i]&&(g[i].stopPageInfo=e)}();break;case"pageInfoStop":g[v]&&g[v].stopPageInfo&&(g[v].stopPageInfo(),delete g[v].stopPageInfo);break;case"inPageLink":!function(t){var e=t.split("#")[1]||"",i=decodeURIComponent(e),n=document.getElementById(i)||document.getElementsByName(i)[0];n?function(){var t=s(n);U(v,"Moving to in page link (#"+e+") at x: "+t.x+" y: "+t.y),f={x:t.x,y:t.y},c(),U(v,"--")}():window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(e):U(v,"In page link #"+e+" not found and window.parentIFrame not found"):U(v,"In page link #"+e+" not found")}(a(9));break;case"reset":P(y);break;case"init":e(),p("onInit",y.iframe);break;default:e()}var t}())):C(v,"Ignored: "+m)}function A(t,e,i){var n=null,r=null;if(g[t]){if("function"!==typeof(n=g[t][e]))throw new TypeError(e+" on iFrame["+t+"] is not a function");r=n(i)}return r}function z(t){var e=t.id;delete g[e]}function B(t){var e=t.id;if(!1!==A(e,"onClose",e)){U(e,"Removing iFrame: "+e);try{t.parentNode&&t.parentNode.removeChild(t)}catch(i){O(i)}A(e,"onClosed",e),U(e,"--"),z(t)}else U(e,"Close iframe cancelled by onClose event")}function I(t){null===f&&U(t,"Get page position: "+(f={x:window.pageXOffset!==i?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==i?window.pageYOffset:document.documentElement.scrollTop}).x+","+f.y)}function M(t){null!==f&&(window.scrollTo(f.x,f.y),U(t,"Set page position: "+f.x+","+f.y),L())}function L(){f=null}function P(t){U(t.id,"Size reset requested by "+("init"===t.type?"host page":"iFrame")),I(t.id),D(function(){N(t),R("reset","reset",t.iframe,t.id)},t,"reset")}function N(t){function e(e){c||"0"!==t[e]||(c=!0,U(n,"Hidden iFrame detected, creating visibility listener"),function(){function t(){Object.keys(g).forEach(function(t){!function(t){function e(e){return"0px"===(g[t]&&g[t].iframe.style[e])}g[t]&&null!==g[t].iframe.offsetParent&&(e("height")||e("width"))&&R("Visibility change","resize",g[t].iframe,t)}(t)})}function e(e){U("window","Mutation observed: "+e[0].target+" "+e[0].type),H(t,16)}var i=_();i&&function(){var t=document.querySelector("body");new i(e).observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}()}())}function i(i){!function(e){t.id?(t.iframe.style[e]=t[e]+"px",U(t.id,"IFrame ("+n+") "+e+" set to "+t[e]+"px")):U("undefined","messageData id not set")}(i),e(i)}var n=t.iframe.id;g[n]&&(g[n].sizeHeight&&i("height"),g[n].sizeWidth&&i("width"))}function D(t,e,i){i!==e.type&&p&&!window.jasmine?(U(e.id,"Requesting animation frame"),p(t)):t()}function R(t,e,i,n,r){var a=!1;n=n||i.id,g[n]&&(i&&"contentWindow"in i&&null!==i.contentWindow?function(){var r=g[n]&&g[n].targetOrigin;U(n,"["+t+"] Sending msg to iframe["+n+"] ("+e+") targetOrigin: "+r),i.contentWindow.postMessage(d+e,r)}():O(n,"["+t+"] IFrame("+n+") not found"),r&&g[n]&&g[n].warningTimeout&&(g[n].msgTimeout=setTimeout(function(){!g[n]||g[n].loaded||a||(a=!0,O(n,"IFrame has not responded within "+g[n].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},g[n].warningTimeout)))}function F(t){return t+":"+g[t].bodyMarginV1+":"+g[t].sizeWidth+":"+g[t].log+":"+g[t].interval+":"+g[t].enablePublicMethods+":"+g[t].autoResize+":"+g[t].bodyMargin+":"+g[t].heightCalculationMethod+":"+g[t].bodyBackground+":"+g[t].bodyPadding+":"+g[t].tolerance+":"+g[t].inPageLinks+":"+g[t].resizeFrom+":"+g[t].widthCalculationMethod}function j(t,e){function n(t){var e=t.split("Callback");if(2===e.length){var i="on"+e[0].charAt(0).toUpperCase()+e[0].slice(1);this[i]=this[t],delete this[t],O(r,"Deprecated: '"+t+"' has been renamed '"+i+"'. The old method will be removed in the next major version.")}}var r=function(i){return""===i&&(t.id=i=function(){var t=e&&e.id||v.id+s++;return null!==document.getElementById(t)&&(t+=s++),t}(),l=(e||{}).log,U(i,"Added missing iframe ID: "+i+" ("+t.src+")")),i}(t.id);r in g&&"iFrameResizer"in t?O(r,"Ignored iFrame, already setup."):(!function(e){var i;e=e||{},g[r]={firstRun:!0,iframe:t,remoteHost:t.src&&t.src.split("/").slice(0,3).join("/")},function(t){if("object"!==typeof t)throw new TypeError("Options is not an object")}(e),Object.keys(e).forEach(n,e),function(t){for(var e in v)Object.prototype.hasOwnProperty.call(v,e)&&(g[r][e]=Object.prototype.hasOwnProperty.call(t,e)?t[e]:v[e])}(e),g[r]&&(g[r].targetOrigin=!0===g[r].checkOrigin?""===(i=g[r].remoteHost)||null!==i.match(/^(about:blank|javascript:|file:\/\/)/)?"*":i:"*")}(e),function(){switch(U(r,"IFrame scrolling "+(g[r]&&g[r].scrolling?"enabled":"disabled")+" for "+r),t.style.overflow=!1===(g[r]&&g[r].scrolling)?"hidden":"auto",g[r]&&g[r].scrolling){case"omit":break;case!0:t.scrolling="yes";break;case!1:t.scrolling="no";break;default:t.scrolling=g[r]?g[r].scrolling:"no"}}(),function(){function e(e){1/0!==g[r][e]&&0!==g[r][e]&&(t.style[e]=g[r][e]+"px",U(r,"Set "+e+" = "+g[r][e]+"px"))}function i(t){if(g[r]["min"+t]>g[r]["max"+t])throw new Error("Value for min"+t+" can not be greater than max"+t)}i("Height"),i("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),"number"!==typeof(g[r]&&g[r].bodyMargin)&&"0"!==(g[r]&&g[r].bodyMargin)||(g[r].bodyMarginV1=g[r].bodyMargin,g[r].bodyMargin=g[r].bodyMargin+"px"),function(e){var n=_();n&&function(e){t.parentNode&&new e(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===t&&B(t)})})}).observe(t.parentNode,{childList:!0})}(n),w(t,"load",function(){R("iFrame.onload",e,t,i,!0),function(){var e=g[r]&&g[r].firstRun,i=g[r]&&g[r].heightCalculationMethod in m;!e&&i&&P({iframe:t,height:0,width:0,type:"init"})}()}),R("init",e,t,i,!0)}(F(r)),g[r]&&(g[r].iframe.iFrameResizer={close:B.bind(null,g[r].iframe),removeListeners:z.bind(null,g[r].iframe),resize:R.bind(null,"Window resize","resize",g[r].iframe),moveToAnchor:function(t){R("Move to anchor","moveToAnchor:"+t,g[r].iframe,r)},sendMessage:function(t){R("Send Message","message:"+(t=JSON.stringify(t)),g[r].iframe,r)}}))}function H(t,e){null===y&&(y=setTimeout(function(){y=null,t()},e))}function G(){"hidden"!==document.visibilityState&&(U("document","Trigger event: Visiblity change"),H(function(){W("Tab Visable","resize")},16))}function W(t,e){Object.keys(g).forEach(function(i){(function(t){return g[t]&&"parent"===g[t].resizeFrom&&g[t].autoResize&&!g[t].firstRun})(i)&&R(t,e,g[i].iframe,i)})}function Y(){w(window,"message",k),w(window,"resize",function(){var t;U("window","Trigger event: "+(t="resize")),H(function(){W("Window "+t,"resize")},16)}),w(document,"visibilitychange",G),w(document,"-webkit-visibilitychange",G)}function V(){function t(t,i){i&&(!function(){if(!i.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==i.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+i.tagName+">")}(),j(i,t),e.push(i))}var e;return function(){var t,e=["moz","webkit","o","ms"];for(t=0;t<e.length&&!p;t+=1)p=window[e[t]+"RequestAnimationFrame"];p?p=p.bind(window):U("setup","RequestAnimationFrame not supported")}(),Y(),function(n,r){switch(e=[],function(t){t&&t.enablePublicMethods&&O("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(n),typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),t.bind(i,n));break;case"object":t(n,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")")}return e}}}()},605:function(t,e,i){!function(e){if("undefined"!==typeof window){var i=!0,n=10,r="",a=0,o="",s=null,l="",c=!1,h={resize:1,click:1},d=128,u=!0,f=1,p="bodyOffset",m=p,g=!0,y="",v={},b=32,_=null,w=!1,x="[iFrameSizer]",S=x.length,E="",U={max:1,min:1,bodyScroll:1,documentElementScroll:1},C="child",O=!0,T=window.parent,k="*",A=0,z=!1,B=null,I=16,M=1,L="scroll",P=L,N=window,D=function(){tt("onMessage function not defined")},R=function(){},F=function(){},j={height:function(){return tt("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return tt("Custom width calculation function not defined"),document.body.scrollWidth}},H={},G=!1;try{var W=Object.create({},{passive:{get:function(){G=!0}}});window.addEventListener("test",$,W),window.removeEventListener("test",$,W)}catch(St){}var Y=Date.now||function(){return(new Date).getTime()},V={bodyOffset:function(){return document.body.offsetHeight+dt("marginTop")+dt("marginBottom")},offset:function(){return V.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return j.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ft(V))},min:function(){return Math.min.apply(null,ft(V))},grow:function(){return V.max()},lowestElement:function(){return Math.max(V.bodyOffset()||V.documentElementOffset(),ut("bottom",mt()))},taggedElement:function(){return pt("bottom","data-iframe-height")}},X={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return j.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(X.bodyScroll(),X.documentElementScroll())},max:function(){return Math.max.apply(null,ft(X))},min:function(){return Math.min.apply(null,ft(X))},rightMostElement:function(){return ut("right",mt())},taggedElement:function(){return pt("right","data-iframe-width")}},q=function(t){var e,i,n,r=null,a=0,o=function(){a=Y(),r=null,n=t.apply(e,i),r||(e=i=null)};return function(){var s=Y();a||(a=s);var l=I-(s-a);return e=this,i=arguments,l<=0||l>I?(r&&(clearTimeout(r),r=null),a=s,n=t.apply(e,i),r||(e=i=null)):r||(r=setTimeout(o,l)),n}}(gt);K(window,"message",function(e){var i={init:function(){y=e.data,T=e.source,et(),u=!1,setTimeout(function(){g=!1},d)},reset:function(){g?Q("Page reset ignored by init"):(Q("Page size reset by host page"),bt("resetPage"))},resize:function(){yt("resizeParent","Parent window requested size check")},moveToAnchor:function(){v.findTarget(r())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var t=r();Q("PageInfoFromParent called from parent: "+t),F(JSON.parse(t)),Q(" --")},message:function(){var t=r();Q("onMessage called from parent: "+t),D(JSON.parse(t)),Q(" --")}};function n(){return e.data.split("]")[1].split(":")[0]}function r(){return e.data.substr(e.data.indexOf(":")+1)}function a(){return e.data.split(":")[2]in{true:1,false:1}}function o(){var r=n();r in i?i[r]():!t.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||a()||tt("Unexpected message ("+e.data+")")}x===(""+e.data).substr(0,S)&&(!1===u?o():a()?i.init():Q('Ignored message of type "'+n()+'". Received before initialization.'))}),K(window,"readystatechange",xt),xt()}function $(){}function K(t,e,i,n){t.addEventListener(e,i,!!G&&(n||{}))}function Z(t){return t.charAt(0).toUpperCase()+t.slice(1)}function J(t){return x+"["+E+"] "+t}function Q(t){w&&"object"===typeof window.console&&console.log(J(t))}function tt(t){"object"===typeof window.console&&console.warn(J(t))}function et(){!function(){function t(t){return"true"===t}var n=y.substr(S).split(":");E=n[0],a=e!==n[1]?Number(n[1]):a,c=e!==n[2]?t(n[2]):c,w=e!==n[3]?t(n[3]):w,b=e!==n[4]?Number(n[4]):b,i=e!==n[6]?t(n[6]):i,o=n[7],m=e!==n[8]?n[8]:m,r=n[9],l=n[10],A=e!==n[11]?Number(n[11]):A,v.enable=e!==n[12]&&t(n[12]),C=e!==n[13]?n[13]:C,P=e!==n[14]?n[14]:P}(),Q("Initialising iFrame ("+location.href+")"),function(){function t(t,e){return"function"===typeof t&&(Q("Setup custom "+e+"CalcMethod"),j[e]=t,t="custom"),t}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(!function(){var t=window.iFrameResizer;Q("Reading data from page: "+JSON.stringify(t)),Object.keys(t).forEach(it,t),D="onMessage"in t?t.onMessage:D,R="onReady"in t?t.onReady:R,k="targetOrigin"in t?t.targetOrigin:k,m="heightCalculationMethod"in t?t.heightCalculationMethod:m,P="widthCalculationMethod"in t?t.widthCalculationMethod:P}(),m=t(m,"height"),P=t(P,"width"));Q("TargetOrigin for parent set to: "+k)}(),function(){e===o&&(o=a+"px");nt("margin",function(t,e){-1!==e.indexOf("-")&&(tt("Negative CSS value ignored for "+t),e="");return e}("margin",o))}(),nt("background",r),nt("padding",l),function(){var t=document.createElement("div");t.style.clear="both",t.style.display="block",t.style.height="0",document.body.appendChild(t)}(),st(),lt(),document.documentElement.style.height="",document.body.style.height="",Q('HTML & body height set to "auto"'),Q("Enable public methods"),N.parentIFrame={autoResize:function(t){return!0===t&&!1===i?(i=!0,ct()):!1===t&&!0===i&&(i=!1,at("remove"),null!==s&&s.disconnect(),clearInterval(_)),wt(0,0,"autoResize",JSON.stringify(i)),i},close:function(){wt(0,0,"close")},getId:function(){return E},getPageInfo:function(t){"function"===typeof t?(F=t,wt(0,0,"pageInfo")):(F=function(){},wt(0,0,"pageInfoStop"))},moveToAnchor:function(t){v.findTarget(t)},reset:function(){_t("parentIFrame.reset")},scrollTo:function(t,e){wt(e,t,"scrollTo")},scrollToOffset:function(t,e){wt(e,t,"scrollToOffset")},sendMessage:function(t,e){wt(0,0,"message",JSON.stringify(t),e)},setHeightCalculationMethod:function(t){m=t,st()},setWidthCalculationMethod:function(t){P=t,lt()},setTargetOrigin:function(t){Q("Set targetOrigin: "+t),k=t},size:function(t,e){yt("size","parentIFrame.size("+(t||"")+(e?","+e:"")+")",t,e)}},ct(),v=function(){function t(t){var i=t.getBoundingClientRect(),n={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(i.left,10)+parseInt(n.x,10),y:parseInt(i.top,10)+parseInt(n.y,10)}}function i(i){var n=i.split("#")[1]||i,r=decodeURIComponent(n),a=document.getElementById(r)||document.getElementsByName(r)[0];e!==a?function(e){var i=t(e);Q("Moving to in page link (#"+n+") at x: "+i.x+" y: "+i.y),wt(i.y,i.x,"scrollToOffset")}(a):(Q("In page link (#"+n+") not found in iFrame, so sending to parent"),wt(0,0,"inPageLink","#"+n))}function n(){""!==location.hash&&"#"!==location.hash&&i(location.href)}v.enable?Array.prototype.forEach&&document.querySelectorAll?(Q("Setting up location.hash handlers"),Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),function(t){"#"!==t.getAttribute("href")&&K(t,"click",function(t){t.preventDefault(),i(this.getAttribute("href"))})}),K(window,"hashchange",n),setTimeout(n,d)):tt("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):Q("In page linking not enabled");return{findTarget:i}}(),yt("init","Init message from host page"),R()}function it(t){var e=t.split("Callback");if(2===e.length){var i="on"+e[0].charAt(0).toUpperCase()+e[0].slice(1);this[i]=this[t],delete this[t],tt("Deprecated: '"+t+"' has been renamed '"+i+"'. The old method will be removed in the next major version.")}}function nt(t,i){e!==i&&""!==i&&"null"!==i&&(document.body.style[t]=i,Q("Body "+t+' set to "'+i+'"'))}function rt(t){var e={add:function(e){function i(){yt(t.eventName,t.eventType)}H[e]=i,K(window,e,i,{passive:!0})},remove:function(t){var e,i,n,r=H[t];delete H[t],e=window,i=t,n=r,e.removeEventListener(i,n,!1)}};t.eventNames&&Array.prototype.map?(t.eventName=t.eventNames[0],t.eventNames.map(e[t.method])):e[t.method](t.eventName),Q(Z(t.method)+" event listener: "+t.eventType)}function at(t){rt({method:t,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),rt({method:t,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),rt({method:t,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),rt({method:t,eventType:"Input",eventName:"input"}),rt({method:t,eventType:"Mouse Up",eventName:"mouseup"}),rt({method:t,eventType:"Mouse Down",eventName:"mousedown"}),rt({method:t,eventType:"Orientation Change",eventName:"orientationchange"}),rt({method:t,eventType:"Print",eventName:["afterprint","beforeprint"]}),rt({method:t,eventType:"Ready State Change",eventName:"readystatechange"}),rt({method:t,eventType:"Touch Start",eventName:"touchstart"}),rt({method:t,eventType:"Touch End",eventName:"touchend"}),rt({method:t,eventType:"Touch Cancel",eventName:"touchcancel"}),rt({method:t,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),rt({method:t,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),rt({method:t,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===C&&rt({method:t,eventType:"IFrame Resized",eventName:"resize"})}function ot(t,e,i,n){return e!==t&&(t in i||(tt(t+" is not a valid option for "+n+"CalculationMethod."),t=e),Q(n+' calculation method set to "'+t+'"')),t}function st(){m=ot(m,p,V,"height")}function lt(){P=ot(P,L,X,"width")}function ct(){!0===i?(at("add"),function(){var t=0>b;window.MutationObserver||window.WebKitMutationObserver?t?ht():s=function(){function t(t){function e(t){!1===t.complete&&(Q("Attach listeners to "+t.src),t.addEventListener("load",r,!1),t.addEventListener("error",a,!1),s.push(t))}"attributes"===t.type&&"src"===t.attributeName?e(t.target):"childList"===t.type&&Array.prototype.forEach.call(t.target.querySelectorAll("img"),e)}function i(t){Q("Remove listeners from "+t.src),t.removeEventListener("load",r,!1),t.removeEventListener("error",a,!1),function(t){s.splice(s.indexOf(t),1)}(t)}function n(t,n,r){i(t.target),yt(n,r+": "+t.target.src,e,e)}function r(t){n(t,"imageLoad","Image loaded")}function a(t){n(t,"imageLoadFailed","Image load failed")}function o(e){yt("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}var s=[],l=window.MutationObserver||window.WebKitMutationObserver,c=function(){var t=document.querySelector("body");return c=new l(o),Q("Create body MutationObserver"),c.observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),c}();return{disconnect:function(){"disconnect"in c&&(Q("Disconnect body MutationObserver"),c.disconnect(),s.forEach(i))}}}():(Q("MutationObserver not supported in this browser!"),ht())}()):Q("Auto Resize disabled")}function ht(){0!==b&&(Q("setInterval: "+b+"ms"),_=setInterval(function(){yt("interval","setInterval: "+b)},Math.abs(b)))}function dt(t,e){var i=0;return e=e||document.body,i=null!==(i=document.defaultView.getComputedStyle(e,null))?i[t]:0,parseInt(i,n)}function ut(t,e){for(var i=e.length,n=0,r=0,a=Z(t),o=Y(),s=0;s<i;s++)(n=e[s].getBoundingClientRect()[t]+dt("margin"+a,e[s]))>r&&(r=n);return o=Y()-o,Q("Parsed "+i+" HTML elements"),Q("Element position calculated in "+o+"ms"),function(t){t>I/2&&Q("Event throttle increased to "+(I=2*t)+"ms")}(o),r}function ft(t){return[t.bodyOffset(),t.bodyScroll(),t.documentElementOffset(),t.documentElementScroll()]}function pt(t,e){var i=document.querySelectorAll("["+e+"]");return 0===i.length&&(tt("No tagged elements ("+e+") found on page"),document.querySelectorAll("body *")),ut(t,i)}function mt(){return document.querySelectorAll("body *")}function gt(t,i,n,r){var a,o;!function(){function t(t,e){return!(Math.abs(t-e)<=A)}return a=e!==n?n:V[m](),o=e!==r?r:X[P](),t(f,a)||c&&t(M,o)}()&&"init"!==t?t in{init:1,interval:1,size:1}||!(m in U||c&&P in U)?t in{interval:1}||Q("No change in size detected"):_t(i):(vt(),wt(f=a,M=o,t))}function yt(t,e,i,n){z&&t in h?Q("Trigger event cancelled: "+t):(t in{reset:1,resetPage:1,init:1}||Q("Trigger event: "+e),"init"===t?gt(t,e,i,n):q(t,e,i,n))}function vt(){z||(z=!0,Q("Trigger event lock on")),clearTimeout(B),B=setTimeout(function(){z=!1,Q("Trigger event lock off"),Q("--")},d)}function bt(t){f=V[m](),M=X[P](),wt(f,M,t)}function _t(t){var e=m;m=p,Q("Reset trigger event: "+t),vt(),bt("reset"),m=e}function wt(t,i,n,r,a){!0===O&&(e===a?a=k:Q("Message targetOrigin: "+a),function(){var o=E+":"+(t+":"+i)+":"+n+(e!==r?":"+r:"");Q("Sending message to host page ("+o+")"),T.postMessage(x+o,a)}())}function xt(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()},613:function(t,e,i){var n=function(){var t=new Date,e=4;return{setLogLevel:function(t){e=t==this.debug?1:t==this.info?2:t==this.warn?3:(this.error,4)},debug:function(i,r){void 0===console.debug&&(console.debug=console.log),1>=e&&console.debug("["+n.getDurationString(new Date-t,1e3)+"]","["+i+"]",r)},log:function(t,e){this.debug(t.msg)},info:function(i,r){2>=e&&console.info("["+n.getDurationString(new Date-t,1e3)+"]","["+i+"]",r)},warn:function(i,r){3>=e&&console.warn("["+n.getDurationString(new Date-t,1e3)+"]","["+i+"]",r)},error:function(i,r){4>=e&&console.error("["+n.getDurationString(new Date-t,1e3)+"]","["+i+"]",r)}}}();n.getDurationString=function(t,e){var i;function n(t,e){for(var i=(""+t).split(".");i[0].length<e;)i[0]="0"+i[0];return i.join(".")}t<0?(i=!0,t=-t):i=!1;var r=t/(e||1),a=Math.floor(r/3600);r-=3600*a;var o=Math.floor(r/60),s=1e3*(r-=60*o);return s-=1e3*(r=Math.floor(r)),s=Math.floor(s),(i?"-":"")+a+":"+n(o,2)+":"+n(r,2)+"."+n(s,3)},n.printRanges=function(t){var e=t.length;if(e>0){for(var i="",r=0;r<e;r++)r>0&&(i+=","),i+="["+n.getDurationString(t.start(r))+","+n.getDurationString(t.end(r))+"]";return i}return"(empty)"},e.Log=n;var r=function(t){if(!(t instanceof ArrayBuffer))throw"Needs an array buffer";this.buffer=t,this.dataview=new DataView(t),this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(t){var e=Math.max(0,Math.min(this.buffer.byteLength,t));return this.position=isNaN(e)||!isFinite(e)?0:e,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(t,e){var i=0;if(this.position+t<=this.buffer.byteLength){switch(t){case 1:i=e?this.dataview.getInt8(this.position):this.dataview.getUint8(this.position);break;case 2:i=e?this.dataview.getInt16(this.position):this.dataview.getUint16(this.position);break;case 3:if(e)throw"No method for reading signed 24 bits values";i=this.dataview.getUint8(this.position)<<16,i|=this.dataview.getUint8(this.position)<<8,i|=this.dataview.getUint8(this.position);break;case 4:i=e?this.dataview.getInt32(this.position):this.dataview.getUint32(this.position);break;case 8:if(e)throw"No method for reading signed 64 bits values";i=this.dataview.getUint32(this.position)<<32,i|=this.dataview.getUint32(this.position);break;default:throw"readInt method not implemented for size: "+t}return this.position+=t,i}throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(t){if(this.position+t<=this.buffer.byteLength){for(var e="",i=0;i<t;i++)e+=String.fromCharCode(this.readUint8());return e}throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var t=[];;){var e=this.readUint8();if(0===e)break;t.push(e)}return String.fromCharCode.apply(null,t)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(t){for(var e=new Uint8Array(t),i=0;i<t;i++)e[i]=this.readUint8();return e},r.prototype.readInt16Array=function(t){for(var e=new Int16Array(t),i=0;i<t;i++)e[i]=this.readInt16();return e},r.prototype.readUint16Array=function(t){for(var e=new Int16Array(t),i=0;i<t;i++)e[i]=this.readUint16();return e},r.prototype.readUint32Array=function(t){for(var e=new Uint32Array(t),i=0;i<t;i++)e[i]=this.readUint32();return e},r.prototype.readInt32Array=function(t){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=this.readInt32();return e},e.MP4BoxStream=r;var a=function t(e,i,n){this._byteOffset=i||0,e instanceof ArrayBuffer?this.buffer=e:"object"==typeof e?(this.dataView=e,i&&(this._byteOffset+=i)):this.buffer=new ArrayBuffer(e||0),this.position=0,this.endianness=null==n?t.LITTLE_ENDIAN:n};(a.prototype={}).getPosition=function(){return this.position},a.prototype._realloc=function(t){if(this._dynamicSize){var e=this._byteOffset+this.position+t,i=this._buffer.byteLength;if(e<=i)e>this._byteLength&&(this._byteLength=e);else{for(i<1&&(i=1);e>i;)i*=2;var n=new ArrayBuffer(i),r=new Uint8Array(this._buffer);new Uint8Array(n,0,r.length).set(r),this.buffer=n,this._byteLength=e}}},a.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var t=new ArrayBuffer(this._byteLength),e=new Uint8Array(t),i=new Uint8Array(this._buffer,0,e.length);e.set(i),this.buffer=t}},a.BIG_ENDIAN=!1,a.LITTLE_ENDIAN=!0,a.prototype._byteLength=0,Object.defineProperty(a.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(t){this._buffer=t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(a.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(t){this._byteOffset=t,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(a.prototype,"dataView",{get:function(){return this._dataView},set:function(t){this._byteOffset=t.byteOffset,this._buffer=t.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+t.byteLength}}),a.prototype.seek=function(t){var e=Math.max(0,Math.min(this.byteLength,t));this.position=isNaN(e)||!isFinite(e)?0:e},a.prototype.isEof=function(){return this.position>=this._byteLength},a.prototype.mapUint8Array=function(t){this._realloc(1*t);var e=new Uint8Array(this._buffer,this.byteOffset+this.position,t);return this.position+=1*t,e},a.prototype.readInt32Array=function(t,e){t=null==t?this.byteLength-this.position/4:t;var i=new Int32Array(t);return a.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),a.arrayToNative(i,null==e?this.endianness:e),this.position+=i.byteLength,i},a.prototype.readInt16Array=function(t,e){t=null==t?this.byteLength-this.position/2:t;var i=new Int16Array(t);return a.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),a.arrayToNative(i,null==e?this.endianness:e),this.position+=i.byteLength,i},a.prototype.readInt8Array=function(t){t=null==t?this.byteLength-this.position:t;var e=new Int8Array(t);return a.memcpy(e.buffer,0,this.buffer,this.byteOffset+this.position,t*e.BYTES_PER_ELEMENT),this.position+=e.byteLength,e},a.prototype.readUint32Array=function(t,e){t=null==t?this.byteLength-this.position/4:t;var i=new Uint32Array(t);return a.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),a.arrayToNative(i,null==e?this.endianness:e),this.position+=i.byteLength,i},a.prototype.readUint16Array=function(t,e){t=null==t?this.byteLength-this.position/2:t;var i=new Uint16Array(t);return a.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),a.arrayToNative(i,null==e?this.endianness:e),this.position+=i.byteLength,i},a.prototype.readUint8Array=function(t){t=null==t?this.byteLength-this.position:t;var e=new Uint8Array(t);return a.memcpy(e.buffer,0,this.buffer,this.byteOffset+this.position,t*e.BYTES_PER_ELEMENT),this.position+=e.byteLength,e},a.prototype.readFloat64Array=function(t,e){t=null==t?this.byteLength-this.position/8:t;var i=new Float64Array(t);return a.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),a.arrayToNative(i,null==e?this.endianness:e),this.position+=i.byteLength,i},a.prototype.readFloat32Array=function(t,e){t=null==t?this.byteLength-this.position/4:t;var i=new Float32Array(t);return a.memcpy(i.buffer,0,this.buffer,this.byteOffset+this.position,t*i.BYTES_PER_ELEMENT),a.arrayToNative(i,null==e?this.endianness:e),this.position+=i.byteLength,i},a.prototype.readInt32=function(t){var e=this._dataView.getInt32(this.position,null==t?this.endianness:t);return this.position+=4,e},a.prototype.readInt16=function(t){var e=this._dataView.getInt16(this.position,null==t?this.endianness:t);return this.position+=2,e},a.prototype.readInt8=function(){var t=this._dataView.getInt8(this.position);return this.position+=1,t},a.prototype.readUint32=function(t){var e=this._dataView.getUint32(this.position,null==t?this.endianness:t);return this.position+=4,e},a.prototype.readUint16=function(t){var e=this._dataView.getUint16(this.position,null==t?this.endianness:t);return this.position+=2,e},a.prototype.readUint8=function(){var t=this._dataView.getUint8(this.position);return this.position+=1,t},a.prototype.readFloat32=function(t){var e=this._dataView.getFloat32(this.position,null==t?this.endianness:t);return this.position+=4,e},a.prototype.readFloat64=function(t){var e=this._dataView.getFloat64(this.position,null==t?this.endianness:t);return this.position+=8,e},a.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,a.memcpy=function(t,e,i,n,r){var a=new Uint8Array(t,e,r),o=new Uint8Array(i,n,r);a.set(o)},a.arrayToNative=function(t,e){return e==this.endianness?t:this.flipArrayEndianness(t)},a.nativeToEndian=function(t,e){return this.endianness==e?t:this.flipArrayEndianness(t)},a.flipArrayEndianness=function(t){for(var e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i=0;i<t.byteLength;i+=t.BYTES_PER_ELEMENT)for(var n=i+t.BYTES_PER_ELEMENT-1,r=i;n>r;n--,r++){var a=e[r];e[r]=e[n],e[n]=a}return t},a.prototype.failurePosition=0,String.fromCharCodeUint8=function(t){for(var e=[],i=0;i<t.length;i++)e[i]=t[i];return String.fromCharCode.apply(null,e)},a.prototype.readString=function(t,e){return null==e||"ASCII"==e?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(null==t?this.byteLength-this.position:t)]):new TextDecoder(e).decode(this.mapUint8Array(t))},a.prototype.readCString=function(t){var e=this.byteLength-this.position,i=new Uint8Array(this._buffer,this._byteOffset+this.position),n=e;null!=t&&(n=Math.min(t,e));for(var r=0;r<n&&0!==i[r];r++);var a=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(r)]);return null!=t?this.position+=n-r:r!=e&&(this.position+=1),a};var o=Math.pow(2,32);a.prototype.readInt64=function(){return this.readInt32()*o+this.readUint32()},a.prototype.readUint64=function(){return this.readUint32()*o+this.readUint32()},a.prototype.readInt64=function(){return this.readUint32()*o+this.readUint32()},a.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},e.DataStream=a,a.prototype.save=function(t){var e=new Blob([this.buffer]);if(!window.URL||!URL.createObjectURL)throw"DataStream.save: Can't create object URL.";var i=window.URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.setAttribute("href",i),n.setAttribute("download",t),n.setAttribute("target","_self"),n.click(),window.URL.revokeObjectURL(i)},a.prototype._dynamicSize=!0,Object.defineProperty(a.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(t){t||this._trimAlloc(),this._dynamicSize=t}}),a.prototype.shift=function(t){var e=new ArrayBuffer(this._byteLength-t),i=new Uint8Array(e),n=new Uint8Array(this._buffer,t,i.length);i.set(n),this.buffer=e,this.position-=t},a.prototype.writeInt32Array=function(t,e){if(this._realloc(4*t.length),t instanceof Int32Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt32Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeInt32(t[i],e)},a.prototype.writeInt16Array=function(t,e){if(this._realloc(2*t.length),t instanceof Int16Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt16Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeInt16(t[i],e)},a.prototype.writeInt8Array=function(t){if(this._realloc(1*t.length),t instanceof Int8Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapInt8Array(t.length);else for(var e=0;e<t.length;e++)this.writeInt8(t[e])},a.prototype.writeUint32Array=function(t,e){if(this._realloc(4*t.length),t instanceof Uint32Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint32Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeUint32(t[i],e)},a.prototype.writeUint16Array=function(t,e){if(this._realloc(2*t.length),t instanceof Uint16Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint16Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeUint16(t[i],e)},a.prototype.writeUint8Array=function(t){if(this._realloc(1*t.length),t instanceof Uint8Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapUint8Array(t.length);else for(var e=0;e<t.length;e++)this.writeUint8(t[e])},a.prototype.writeFloat64Array=function(t,e){if(this._realloc(8*t.length),t instanceof Float64Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapFloat64Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeFloat64(t[i],e)},a.prototype.writeFloat32Array=function(t,e){if(this._realloc(4*t.length),t instanceof Float32Array&&this.byteOffset+this.position%t.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,t.buffer,0,t.byteLength),this.mapFloat32Array(t.length,e);else for(var i=0;i<t.length;i++)this.writeFloat32(t[i],e)},a.prototype.writeInt32=function(t,e){this._realloc(4),this._dataView.setInt32(this.position,t,null==e?this.endianness:e),this.position+=4},a.prototype.writeInt16=function(t,e){this._realloc(2),this._dataView.setInt16(this.position,t,null==e?this.endianness:e),this.position+=2},a.prototype.writeInt8=function(t){this._realloc(1),this._dataView.setInt8(this.position,t),this.position+=1},a.prototype.writeUint32=function(t,e){this._realloc(4),this._dataView.setUint32(this.position,t,null==e?this.endianness:e),this.position+=4},a.prototype.writeUint16=function(t,e){this._realloc(2),this._dataView.setUint16(this.position,t,null==e?this.endianness:e),this.position+=2},a.prototype.writeUint8=function(t){this._realloc(1),this._dataView.setUint8(this.position,t),this.position+=1},a.prototype.writeFloat32=function(t,e){this._realloc(4),this._dataView.setFloat32(this.position,t,null==e?this.endianness:e),this.position+=4},a.prototype.writeFloat64=function(t,e){this._realloc(8),this._dataView.setFloat64(this.position,t,null==e?this.endianness:e),this.position+=8},a.prototype.writeUCS2String=function(t,e,i){null==i&&(i=t.length);for(var n=0;n<t.length&&n<i;n++)this.writeUint16(t.charCodeAt(n),e);for(;n<i;n++)this.writeUint16(0)},a.prototype.writeString=function(t,e,i){var n=0;if(null==e||"ASCII"==e)if(null!=i){var r=Math.min(t.length,i);for(n=0;n<r;n++)this.writeUint8(t.charCodeAt(n));for(;n<i;n++)this.writeUint8(0)}else for(n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));else this.writeUint8Array(new TextEncoder(e).encode(t.substring(0,i)))},a.prototype.writeCString=function(t,e){var i=0;if(null!=e){var n=Math.min(t.length,e);for(i=0;i<n;i++)this.writeUint8(t.charCodeAt(i));for(;i<e;i++)this.writeUint8(0)}else{for(i=0;i<t.length;i++)this.writeUint8(t.charCodeAt(i));this.writeUint8(0)}},a.prototype.writeStruct=function(t,e){for(var i=0;i<t.length;i+=2){var n=t[i+1];this.writeType(n,e[t[i]],e)}},a.prototype.writeType=function(t,e,i){var n;if("function"==typeof t)return t(this,e);if("object"==typeof t&&!(t instanceof Array))return t.set(this,e,i);var r=null,o="ASCII",s=this.position;switch("string"==typeof t&&/:/.test(t)&&(n=t.split(":"),t=n[0],r=parseInt(n[1])),"string"==typeof t&&/,/.test(t)&&(n=t.split(","),t=n[0],o=parseInt(n[1])),t){case"uint8":this.writeUint8(e);break;case"int8":this.writeInt8(e);break;case"uint16":this.writeUint16(e,this.endianness);break;case"int16":this.writeInt16(e,this.endianness);break;case"uint32":this.writeUint32(e,this.endianness);break;case"int32":this.writeInt32(e,this.endianness);break;case"float32":this.writeFloat32(e,this.endianness);break;case"float64":this.writeFloat64(e,this.endianness);break;case"uint16be":this.writeUint16(e,a.BIG_ENDIAN);break;case"int16be":this.writeInt16(e,a.BIG_ENDIAN);break;case"uint32be":this.writeUint32(e,a.BIG_ENDIAN);break;case"int32be":this.writeInt32(e,a.BIG_ENDIAN);break;case"float32be":this.writeFloat32(e,a.BIG_ENDIAN);break;case"float64be":this.writeFloat64(e,a.BIG_ENDIAN);break;case"uint16le":this.writeUint16(e,a.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(e,a.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(e,a.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(e,a.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(e,a.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(e,a.LITTLE_ENDIAN);break;case"cstring":this.writeCString(e,r);break;case"string":this.writeString(e,o,r);break;case"u16string":this.writeUCS2String(e,this.endianness,r);break;case"u16stringle":this.writeUCS2String(e,a.LITTLE_ENDIAN,r);break;case"u16stringbe":this.writeUCS2String(e,a.BIG_ENDIAN,r);break;default:if(3==t.length){for(var l=t[1],c=0;c<e.length;c++)this.writeType(l,e[c]);break}this.writeStruct(t,e)}null!=r&&(this.position=s,this._realloc(r),this.position=s+r)},a.prototype.writeUint64=function(t){var e=Math.floor(t/o);this.writeUint32(e),this.writeUint32(4294967295&t)},a.prototype.writeUint24=function(t){this.writeUint8((16711680&t)>>16),this.writeUint8((65280&t)>>8),this.writeUint8(255&t)},a.prototype.adjustUint32=function(t,e){var i=this.position;this.seek(t),this.writeUint32(e),this.seek(i)},a.prototype.mapInt32Array=function(t,e){this._realloc(4*t);var i=new Int32Array(this._buffer,this.byteOffset+this.position,t);return a.arrayToNative(i,null==e?this.endianness:e),this.position+=4*t,i},a.prototype.mapInt16Array=function(t,e){this._realloc(2*t);var i=new Int16Array(this._buffer,this.byteOffset+this.position,t);return a.arrayToNative(i,null==e?this.endianness:e),this.position+=2*t,i},a.prototype.mapInt8Array=function(t){this._realloc(1*t);var e=new Int8Array(this._buffer,this.byteOffset+this.position,t);return this.position+=1*t,e},a.prototype.mapUint32Array=function(t,e){this._realloc(4*t);var i=new Uint32Array(this._buffer,this.byteOffset+this.position,t);return a.arrayToNative(i,null==e?this.endianness:e),this.position+=4*t,i},a.prototype.mapUint16Array=function(t,e){this._realloc(2*t);var i=new Uint16Array(this._buffer,this.byteOffset+this.position,t);return a.arrayToNative(i,null==e?this.endianness:e),this.position+=2*t,i},a.prototype.mapFloat64Array=function(t,e){this._realloc(8*t);var i=new Float64Array(this._buffer,this.byteOffset+this.position,t);return a.arrayToNative(i,null==e?this.endianness:e),this.position+=8*t,i},a.prototype.mapFloat32Array=function(t,e){this._realloc(4*t);var i=new Float32Array(this._buffer,this.byteOffset+this.position,t);return a.arrayToNative(i,null==e?this.endianness:e),this.position+=4*t,i};var s=function(t){this.buffers=[],this.bufferIndex=-1,t&&(this.insertBuffer(t),this.bufferIndex=0)};(s.prototype=new a(new ArrayBuffer,0,a.BIG_ENDIAN)).initialized=function(){var t;return this.bufferIndex>-1||(this.buffers.length>0?0===(t=this.buffers[0]).fileStart?(this.buffer=t,this.bufferIndex=0,n.debug("MultiBufferStream","Stream ready for parsing"),!0):(n.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1):(n.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1))},ArrayBuffer.concat=function(t,e){n.debug("ArrayBuffer","Trying to create a new buffer of size: "+(t.byteLength+e.byteLength));var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t),0),i.set(new Uint8Array(e),t.byteLength),i.buffer},s.prototype.reduceBuffer=function(t,e,i){var n;return(n=new Uint8Array(i)).set(new Uint8Array(t,e,i)),n.buffer.fileStart=t.fileStart+e,n.buffer.usedBytes=0,n.buffer},s.prototype.insertBuffer=function(t){for(var e=!0,i=0;i<this.buffers.length;i++){var r=this.buffers[i];if(t.fileStart<=r.fileStart){if(t.fileStart===r.fileStart){if(t.byteLength>r.byteLength){this.buffers.splice(i,1),i--;continue}n.warn("MultiBufferStream","Buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+") already appended, ignoring")}else t.fileStart+t.byteLength<=r.fileStart||(t=this.reduceBuffer(t,0,r.fileStart-t.fileStart)),n.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.splice(i,0,t),0===i&&(this.buffer=t);e=!1;break}if(t.fileStart<r.fileStart+r.byteLength){var a=r.fileStart+r.byteLength-t.fileStart,o=t.byteLength-a;if(!(o>0)){e=!1;break}t=this.reduceBuffer(t,a,o)}}e&&(n.debug("MultiBufferStream","Appending new buffer (fileStart: "+t.fileStart+" - Length: "+t.byteLength+")"),this.buffers.push(t),0===i&&(this.buffer=t))},s.prototype.logBufferLevel=function(t){var e,i,r,a,o,s=[],l="";for(r=0,a=0,e=0;e<this.buffers.length;e++)i=this.buffers[e],0===e?(o={},s.push(o),o.start=i.fileStart,o.end=i.fileStart+i.byteLength,l+="["+o.start+"-"):o.end===i.fileStart?o.end=i.fileStart+i.byteLength:((o={}).start=i.fileStart,l+=s[s.length-1].end-1+"], ["+o.start+"-",o.end=i.fileStart+i.byteLength,s.push(o)),r+=i.usedBytes,a+=i.byteLength;s.length>0&&(l+=o.end-1+"]");var c=t?n.info:n.debug;0===this.buffers.length?c("MultiBufferStream","No more buffer in memory"):c("MultiBufferStream",this.buffers.length+" stored buffer(s) ("+r+"/"+a+" bytes): "+l)},s.prototype.cleanBuffers=function(){var t,e;for(t=0;t<this.buffers.length;t++)(e=this.buffers[t]).usedBytes===e.byteLength&&(n.debug("MultiBufferStream","Removing buffer #"+t),this.buffers.splice(t,1),t--)},s.prototype.mergeNextBuffer=function(){var t;if(this.bufferIndex+1<this.buffers.length){if((t=this.buffers[this.bufferIndex+1]).fileStart===this.buffer.fileStart+this.buffer.byteLength){var e=this.buffer.byteLength,i=this.buffer.usedBytes,r=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,t),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=i,this.buffer.fileStart=r,n.debug("ISOFile","Concatenating buffer for box parsing (length: "+e+"->"+this.buffer.byteLength+")"),!0}return!1}return!1},s.prototype.findPosition=function(t,e,i){var r,a=null,o=-1;for(r=!0===t?0:this.bufferIndex;r<this.buffers.length&&(a=this.buffers[r]).fileStart<=e;)o=r,i&&(a.fileStart+a.byteLength<=e?a.usedBytes=a.byteLength:a.usedBytes=e-a.fileStart,this.logBufferLevel()),r++;return-1!==o&&(a=this.buffers[o]).fileStart+a.byteLength>=e?(n.debug("MultiBufferStream","Found position in existing buffer #"+o),o):-1},s.prototype.findEndContiguousBuf=function(t){var e,i,n,r=void 0!==t?t:this.bufferIndex;if(i=this.buffers[r],this.buffers.length>r+1)for(e=r+1;e<this.buffers.length&&(n=this.buffers[e]).fileStart===i.fileStart+i.byteLength;e++)i=n;return i.fileStart+i.byteLength},s.prototype.getEndFilePositionAfter=function(t){var e=this.findPosition(!0,t,!1);return-1!==e?this.findEndContiguousBuf(e):t},s.prototype.addUsedBytes=function(t){this.buffer.usedBytes+=t,this.logBufferLevel()},s.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},s.prototype.seek=function(t,e,i){var r;return-1!==(r=this.findPosition(e,t,i))?(this.buffer=this.buffers[r],this.bufferIndex=r,this.position=t-this.buffer.fileStart,n.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(n.debug("MultiBufferStream","Position "+t+" not found in buffered data"),!1)},s.prototype.getPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},s.prototype.getLength=function(){return this.byteLength},s.prototype.getEndPosition=function(){if(-1===this.bufferIndex||null===this.buffers[this.bufferIndex])throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},e.MultiBufferStream=s;var l=function(){var t=[];t[3]="ES_Descriptor",t[4]="DecoderConfigDescriptor",t[5]="DecoderSpecificInfo",t[6]="SLConfigDescriptor",this.getDescriptorName=function(e){return t[e]};var e=this,i={};return this.parseOneDescriptor=function(e){var r,a,o,s=0;for(r=e.readUint8(),0,o=e.readUint8(),0;128&o;)s=(127&o)<<7,o=e.readUint8(),0;return s+=127&o,n.debug("MPEG4DescriptorParser","Found "+(t[r]||"Descriptor "+r)+", size "+s+" at position "+e.getPosition()),(a=t[r]?new i[t[r]](s):new i.Descriptor(s)).parse(e),a},i.Descriptor=function(t,e){this.tag=t,this.size=e,this.descs=[]},i.Descriptor.prototype.parse=function(t){this.data=t.readUint8Array(this.size)},i.Descriptor.prototype.findDescriptor=function(t){for(var e=0;e<this.descs.length;e++)if(this.descs[e].tag==t)return this.descs[e];return null},i.Descriptor.prototype.parseRemainingDescriptors=function(t){for(var i=t.position;t.position<i+this.size;){var n=e.parseOneDescriptor(t);this.descs.push(n)}},i.ES_Descriptor=function(t){i.Descriptor.call(this,3,t)},i.ES_Descriptor.prototype=new i.Descriptor,i.ES_Descriptor.prototype.parse=function(t){if(this.ES_ID=t.readUint16(),this.flags=t.readUint8(),this.size-=3,128&this.flags?(this.dependsOn_ES_ID=t.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,64&this.flags){var e=t.readUint8();this.URL=t.readString(e),this.size-=e+1}else this.URL="";32&this.flags?(this.OCR_ES_ID=t.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(t)},i.ES_Descriptor.prototype.getOTI=function(t){var e=this.findDescriptor(4);return e?e.oti:0},i.ES_Descriptor.prototype.getAudioConfig=function(t){var e=this.findDescriptor(4);if(!e)return null;var i=e.findDescriptor(5);if(i&&i.data){var n=(248&i.data[0])>>3;return 31===n&&i.data.length>=2&&(n=32+((7&i.data[0])<<3)+((224&i.data[1])>>5)),n}return null},i.DecoderConfigDescriptor=function(t){i.Descriptor.call(this,4,t)},i.DecoderConfigDescriptor.prototype=new i.Descriptor,i.DecoderConfigDescriptor.prototype.parse=function(t){this.oti=t.readUint8(),this.streamType=t.readUint8(),this.bufferSize=t.readUint24(),this.maxBitrate=t.readUint32(),this.avgBitrate=t.readUint32(),this.size-=13,this.parseRemainingDescriptors(t)},i.DecoderSpecificInfo=function(t){i.Descriptor.call(this,5,t)},i.DecoderSpecificInfo.prototype=new i.Descriptor,i.SLConfigDescriptor=function(t){i.Descriptor.call(this,6,t)},i.SLConfigDescriptor.prototype=new i.Descriptor,this};e.MPEG4DescriptorParser=l;var c={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){c.FullBox.prototype=new c.Box,c.ContainerBox.prototype=new c.Box,c.SampleEntry.prototype=new c.Box,c.TrackGroupTypeBox.prototype=new c.FullBox,c.BASIC_BOXES.forEach(function(t){c.createBoxCtor(t)}),c.FULL_BOXES.forEach(function(t){c.createFullBoxCtor(t)}),c.CONTAINER_BOXES.forEach(function(t){c.createContainerBoxCtor(t[0],null,t[1])})},Box:function(t,e,i){this.type=t,this.size=e,this.uuid=i},FullBox:function(t,e,i){c.Box.call(this,t,e,i),this.flags=0,this.version=0},ContainerBox:function(t,e,i){c.Box.call(this,t,e,i),this.boxes=[]},SampleEntry:function(t,e,i,n){c.ContainerBox.call(this,t,e),this.hdr_size=i,this.start=n},SampleGroupEntry:function(t){this.grouping_type=t},TrackGroupTypeBox:function(t,e){c.FullBox.call(this,t,e)},createBoxCtor:function(t,e){c.boxCodes.push(t),c[t+"Box"]=function(e){c.Box.call(this,t,e)},c[t+"Box"].prototype=new c.Box,e&&(c[t+"Box"].prototype.parse=e)},createFullBoxCtor:function(t,e){c[t+"Box"]=function(e){c.FullBox.call(this,t,e)},c[t+"Box"].prototype=new c.FullBox,c[t+"Box"].prototype.parse=function(t){this.parseFullHeader(t),e&&e.call(this,t)}},addSubBoxArrays:function(t){if(t){this.subBoxNames=t;for(var e=t.length,i=0;i<e;i++)this[t[i]+"s"]=[]}},createContainerBoxCtor:function(t,e,i){c[t+"Box"]=function(e){c.ContainerBox.call(this,t,e),c.addSubBoxArrays.call(this,i)},c[t+"Box"].prototype=new c.ContainerBox,e&&(c[t+"Box"].prototype.parse=e)},createMediaSampleEntryCtor:function(t,e,i){c.sampleEntryCodes[t]=[],c[t+"SampleEntry"]=function(t,e){c.SampleEntry.call(this,t,e),c.addSubBoxArrays.call(this,i)},c[t+"SampleEntry"].prototype=new c.SampleEntry,e&&(c[t+"SampleEntry"].prototype.parse=e)},createSampleEntryCtor:function(t,e,i,n){c.sampleEntryCodes[t].push(e),c[e+"SampleEntry"]=function(i){c[t+"SampleEntry"].call(this,e,i),c.addSubBoxArrays.call(this,n)},c[e+"SampleEntry"].prototype=new c[t+"SampleEntry"],i&&(c[e+"SampleEntry"].prototype.parse=i)},createEncryptedSampleEntryCtor:function(t,e,i){c.createSampleEntryCtor.call(this,t,e,i,["sinf"])},createSampleGroupCtor:function(t,e){c[t+"SampleGroupEntry"]=function(e){c.SampleGroupEntry.call(this,t,e)},c[t+"SampleGroupEntry"].prototype=new c.SampleGroupEntry,e&&(c[t+"SampleGroupEntry"].prototype.parse=e)},createTrackGroupCtor:function(t,e){c[t+"TrackGroupTypeBox"]=function(e){c.TrackGroupTypeBox.call(this,t,e)},c[t+"TrackGroupTypeBox"].prototype=new c.TrackGroupTypeBox,e&&(c[t+"TrackGroupTypeBox"].prototype.parse=e)},createUUIDBox:function(t,e,i,n){c.UUIDs.push(t),c.UUIDBoxes[t]=function(n){e?c.FullBox.call(this,"uuid",n,t):i?c.ContainerBox.call(this,"uuid",n,t):c.Box.call(this,"uuid",n,t)},c.UUIDBoxes[t].prototype=e?new c.FullBox:i?new c.ContainerBox:new c.Box,n&&(c.UUIDBoxes[t].prototype.parse=e?function(t){this.parseFullHeader(t),n&&n.call(this,t)}:n)}};c.initialize(),c.TKHD_FLAG_ENABLED=1,c.TKHD_FLAG_IN_MOVIE=2,c.TKHD_FLAG_IN_PREVIEW=4,c.TFHD_FLAG_BASE_DATA_OFFSET=1,c.TFHD_FLAG_SAMPLE_DESC=2,c.TFHD_FLAG_SAMPLE_DUR=8,c.TFHD_FLAG_SAMPLE_SIZE=16,c.TFHD_FLAG_SAMPLE_FLAGS=32,c.TFHD_FLAG_DUR_EMPTY=65536,c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,c.TRUN_FLAGS_DATA_OFFSET=1,c.TRUN_FLAGS_FIRST_FLAG=4,c.TRUN_FLAGS_DURATION=256,c.TRUN_FLAGS_SIZE=512,c.TRUN_FLAGS_FLAGS=1024,c.TRUN_FLAGS_CTS_OFFSET=2048,c.Box.prototype.add=function(t){return this.addBox(new c[t+"Box"])},c.Box.prototype.addBox=function(t){return this.boxes.push(t),this[t.type+"s"]?this[t.type+"s"].push(t):this[t.type]=t,t},c.Box.prototype.set=function(t,e){return this[t]=e,this},c.Box.prototype.addEntry=function(t,e){var i=e||"entries";return this[i]||(this[i]=[]),this[i].push(t),this},e.BoxParser=c,c.parseUUID=function(t){return c.parseHex16(t)},c.parseHex16=function(t){for(var e="",i=0;i<16;i++){var n=t.readUint8().toString(16);e+=1===n.length?"0"+n:n}return e},c.parseOneBox=function(t,e,i){var r,a,o,s=t.getPosition(),l=0;if(t.getEndPosition()-s<8)return n.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:c.ERR_NOT_ENOUGH_DATA};if(i&&i<8)return n.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:c.ERR_NOT_ENOUGH_DATA};var h=t.readUint32(),d=t.readString(4),u=d;if(n.debug("BoxParser","Found box of type '"+d+"' and size "+h+" at position "+s),l=8,"uuid"==d){if(t.getEndPosition()-t.getPosition()<16||i-l<16)return t.seek(s),n.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:c.ERR_NOT_ENOUGH_DATA};l+=16,u=o=c.parseUUID(t)}if(1==h){if(t.getEndPosition()-t.getPosition()<8||i&&i-l<8)return t.seek(s),n.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+d+'" box'),{code:c.ERR_NOT_ENOUGH_DATA};h=t.readUint64(),l+=8}else if(0===h)if(i)h=i;else if("mdat"!==d)return n.error("BoxParser","Unlimited box size not supported for type: '"+d+"'"),r=new c.Box(d,h),{code:c.OK,box:r,size:r.size};return h<l?(n.error("BoxParser","Box of type "+d+" has an invalid size "+h+" (too small to be a box)"),{code:c.ERR_NOT_ENOUGH_DATA,type:d,size:h,hdr_size:l,start:s}):i&&h>i?(n.error("BoxParser","Box of type '"+d+"' has a size "+h+" greater than its container size "+i),{code:c.ERR_NOT_ENOUGH_DATA,type:d,size:h,hdr_size:l,start:s}):s+h>t.getEndPosition()?(t.seek(s),n.info("BoxParser","Not enough data in stream to parse the entire '"+d+"' box"),{code:c.ERR_NOT_ENOUGH_DATA,type:d,size:h,hdr_size:l,start:s}):e?{code:c.OK,type:d,size:h,hdr_size:l,start:s}:(c[d+"Box"]?r=new c[d+"Box"](h):"uuid"!==d?(n.warn("BoxParser","Unknown box type: '"+d+"'"),(r=new c.Box(d,h)).has_unparsed_data=!0):c.UUIDBoxes[o]?r=new c.UUIDBoxes[o](h):(n.warn("BoxParser","Unknown uuid type: '"+o+"'"),(r=new c.Box(d,h)).uuid=o,r.has_unparsed_data=!0),r.hdr_size=l,r.start=s,r.write===c.Box.prototype.write&&"mdat"!==r.type&&(n.info("BoxParser","'"+u+"' box writing not yet implemented, keeping unparsed data in memory for later write"),r.parseDataAndRewind(t)),r.parse(t),(a=t.getPosition()-(r.start+r.size))<0?(n.warn("BoxParser","Parsing of box '"+u+"' did not read the entire indicated box data size (missing "+-a+" bytes), seeking forward"),t.seek(r.start+r.size)):a>0&&(n.error("BoxParser","Parsing of box '"+u+"' read "+a+" more bytes than the indicated box data size, seeking backwards"),t.seek(r.start+r.size)),{code:c.OK,box:r,size:r.size})},c.Box.prototype.parse=function(t){"mdat"!=this.type?this.data=t.readUint8Array(this.size-this.hdr_size):0===this.size?t.seek(t.getEndPosition()):t.seek(this.start+this.size)},c.Box.prototype.parseDataAndRewind=function(t){this.data=t.readUint8Array(this.size-this.hdr_size),t.position-=this.size-this.hdr_size},c.FullBox.prototype.parseDataAndRewind=function(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,t.position-=this.size-this.hdr_size},c.FullBox.prototype.parseFullHeader=function(t){this.version=t.readUint8(),this.flags=t.readUint24(),this.hdr_size+=4},c.FullBox.prototype.parse=function(t){this.parseFullHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size)},c.ContainerBox.prototype.parse=function(t){for(var e,i;t.getPosition()<this.start+this.size;){if((e=c.parseOneBox(t,!1,this.size-(t.getPosition()-this.start))).code!==c.OK)return;if(i=e.box,this.boxes.push(i),this.subBoxNames&&-1!=this.subBoxNames.indexOf(i.type))this[this.subBoxNames[this.subBoxNames.indexOf(i.type)]+"s"].push(i);else{var r="uuid"!==i.type?i.type:i.uuid;this[r]?n.warn("Box of type "+r+" already stored in field of this type"):this[r]=i}}},c.Box.prototype.parseLanguage=function(t){this.language=t.readUint16();var e=[];e[0]=this.language>>10&31,e[1]=this.language>>5&31,e[2]=31&this.language,this.languageString=String.fromCharCode(e[0]+96,e[1]+96,e[2]+96)},c.SAMPLE_ENTRY_TYPE_VISUAL="Visual",c.SAMPLE_ENTRY_TYPE_AUDIO="Audio",c.SAMPLE_ENTRY_TYPE_HINT="Hint",c.SAMPLE_ENTRY_TYPE_METADATA="Metadata",c.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",c.SAMPLE_ENTRY_TYPE_SYSTEM="System",c.SAMPLE_ENTRY_TYPE_TEXT="Text",c.SampleEntry.prototype.parseHeader=function(t){t.readUint8Array(6),this.data_reference_index=t.readUint16(),this.hdr_size+=8},c.SampleEntry.prototype.parse=function(t){this.parseHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size)},c.SampleEntry.prototype.parseDataAndRewind=function(t){this.parseHeader(t),this.data=t.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,t.position-=this.size-this.hdr_size},c.SampleEntry.prototype.parseFooter=function(t){c.ContainerBox.prototype.parse.call(this,t)},c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_HINT),c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA),c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE),c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SYSTEM),c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_TEXT),c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,function(t){this.parseHeader(t),t.readUint16(),t.readUint16(),t.readUint32Array(3),this.width=t.readUint16(),this.height=t.readUint16(),this.horizresolution=t.readUint32(),this.vertresolution=t.readUint32(),t.readUint32(),this.frame_count=t.readUint16(),compressorname_length=Math.min(31,t.readUint8()),this.compressorname=t.readString(compressorname_length),compressorname_length<31&&t.readString(31-compressorname_length),this.depth=t.readUint16(),t.readUint16(),this.parseFooter(t)}),c.createMediaSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO,function(t){this.parseHeader(t),t.readUint32Array(2),this.channel_count=t.readUint16(),this.samplesize=t.readUint16(),t.readUint16(),t.readUint16(),this.samplerate=t.readUint32()/65536,this.parseFooter(t)}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_TEXT,"enct"),c.createEncryptedSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA,"encm"),c.createBoxCtor("av1C",function(t){var e=t.readUint8();if(e>>7&!1)n.error("av1C marker problem");else if(this.version=127&e,1===this.version)if(e=t.readUint8(),this.seq_profile=e>>5&7,this.seq_level_idx_0=31&e,e=t.readUint8(),this.seq_tier_0=e>>7&1,this.high_bitdepth=e>>6&1,this.twelve_bit=e>>5&1,this.monochrome=e>>4&1,this.chroma_subsampling_x=e>>3&1,this.chroma_subsampling_y=e>>2&1,this.chroma_sample_position=3&e,e=t.readUint8(),this.reserved_1=e>>5&7,0===this.reserved_1){if(this.initial_presentation_delay_present=e>>4&1,1===this.initial_presentation_delay_present)this.initial_presentation_delay_minus_one=15&e;else if(this.reserved_2=15&e,0!==this.reserved_2)return void n.error("av1C reserved_2 parsing problem");var i=this.size-this.hdr_size-4;this.configOBUs=t.readUint8Array(i)}else n.error("av1C reserved_1 parsing problem");else n.error("av1C version "+this.version+" not supported")}),c.createBoxCtor("avcC",function(t){var e,i;for(this.configurationVersion=t.readUint8(),this.AVCProfileIndication=t.readUint8(),this.profile_compatibility=t.readUint8(),this.AVCLevelIndication=t.readUint8(),this.lengthSizeMinusOne=3&t.readUint8(),this.nb_SPS_nalus=31&t.readUint8(),i=this.size-this.hdr_size-6,this.SPS=[],e=0;e<this.nb_SPS_nalus;e++)this.SPS[e]={},this.SPS[e].length=t.readUint16(),this.SPS[e].nalu=t.readUint8Array(this.SPS[e].length),i-=2+this.SPS[e].length;for(this.nb_PPS_nalus=t.readUint8(),i--,this.PPS=[],e=0;e<this.nb_PPS_nalus;e++)this.PPS[e]={},this.PPS[e].length=t.readUint16(),this.PPS[e].nalu=t.readUint8Array(this.PPS[e].length),i-=2+this.PPS[e].length;i>0&&(this.ext=t.readUint8Array(i))}),c.createBoxCtor("btrt",function(t){this.bufferSizeDB=t.readUint32(),this.maxBitrate=t.readUint32(),this.avgBitrate=t.readUint32()}),c.createBoxCtor("clap",function(t){this.cleanApertureWidthN=t.readUint32(),this.cleanApertureWidthD=t.readUint32(),this.cleanApertureHeightN=t.readUint32(),this.cleanApertureHeightD=t.readUint32(),this.horizOffN=t.readUint32(),this.horizOffD=t.readUint32(),this.vertOffN=t.readUint32(),this.vertOffD=t.readUint32()}),c.createBoxCtor("clli",function(t){this.max_content_light_level=t.readUint16(),this.max_pic_average_light_level=t.readUint16()}),c.createFullBoxCtor("co64",function(t){var e,i;if(e=t.readUint32(),this.chunk_offsets=[],0===this.version)for(i=0;i<e;i++)this.chunk_offsets.push(t.readUint64())}),c.createFullBoxCtor("CoLL",function(t){this.maxCLL=t.readUint16(),this.maxFALL=t.readUint16()}),c.createBoxCtor("colr",function(t){if(this.colour_type=t.readString(4),"nclx"===this.colour_type){this.colour_primaries=t.readUint16(),this.transfer_characteristics=t.readUint16(),this.matrix_coefficients=t.readUint16();var e=t.readUint8();this.full_range_flag=e>>7}else"rICC"===this.colour_type?this.ICC_profile=t.readUint8Array(this.size-4):"prof"===this.colour_type&&(this.ICC_profile=t.readUint8Array(this.size-4))}),c.createFullBoxCtor("cprt",function(t){this.parseLanguage(t),this.notice=t.readCString()}),c.createFullBoxCtor("cslg",function(t){0===this.version&&(this.compositionToDTSShift=t.readInt32(),this.leastDecodeToDisplayDelta=t.readInt32(),this.greatestDecodeToDisplayDelta=t.readInt32(),this.compositionStartTime=t.readInt32(),this.compositionEndTime=t.readInt32())}),c.createFullBoxCtor("ctts",function(t){var e,i;if(e=t.readUint32(),this.sample_counts=[],this.sample_offsets=[],0===this.version)for(i=0;i<e;i++){this.sample_counts.push(t.readUint32());var r=t.readInt32();r<0&&n.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(r)}else if(1==this.version)for(i=0;i<e;i++)this.sample_counts.push(t.readUint32()),this.sample_offsets.push(t.readInt32())}),c.createBoxCtor("dac3",function(t){var e=t.readUint8(),i=t.readUint8(),n=t.readUint8();this.fscod=e>>6,this.bsid=e>>1&31,this.bsmod=(1&e)<<2|i>>6&3,this.acmod=i>>3&7,this.lfeon=i>>2&1,this.bit_rate_code=3&i|n>>5&7}),c.createBoxCtor("dec3",function(t){var e=t.readUint16();this.data_rate=e>>3,this.num_ind_sub=7&e,this.ind_subs=[];for(var i=0;i<this.num_ind_sub+1;i++){var n={};this.ind_subs.push(n);var r=t.readUint8(),a=t.readUint8(),o=t.readUint8();n.fscod=r>>6,n.bsid=r>>1&31,n.bsmod=(1&r)<<4|a>>4&15,n.acmod=a>>1&7,n.lfeon=1&a,n.num_dep_sub=o>>1&15,n.num_dep_sub>0&&(n.chan_loc=(1&o)<<8|t.readUint8())}}),c.createFullBoxCtor("dfLa",function(t){var e=[],i=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];for(this.parseFullHeader(t);;){var n=t.readUint8(),r=Math.min(127&n,i.length-1);if(r?t.readUint8Array(t.readUint24()):(t.readUint8Array(13),this.samplerate=t.readUint32()>>12,t.readUint8Array(20)),e.push(i[r]),128&n)break}this.numMetadataBlocks=e.length+" ("+e.join(", ")+")"}),c.createBoxCtor("dimm",function(t){this.bytessent=t.readUint64()}),c.createBoxCtor("dmax",function(t){this.time=t.readUint32()}),c.createBoxCtor("dmed",function(t){this.bytessent=t.readUint64()}),c.createFullBoxCtor("dref",function(t){var e,i;this.entries=[];for(var n=t.readUint32(),r=0;r<n;r++){if((e=c.parseOneBox(t,!1,this.size-(t.getPosition()-this.start))).code!==c.OK)return;i=e.box,this.entries.push(i)}}),c.createBoxCtor("drep",function(t){this.bytessent=t.readUint64()}),c.createFullBoxCtor("elng",function(t){this.extended_language=t.readString(this.size-this.hdr_size)}),c.createFullBoxCtor("elst",function(t){this.entries=[];for(var e=t.readUint32(),i=0;i<e;i++){var n={};this.entries.push(n),1===this.version?(n.segment_duration=t.readUint64(),n.media_time=t.readInt64()):(n.segment_duration=t.readUint32(),n.media_time=t.readInt32()),n.media_rate_integer=t.readInt16(),n.media_rate_fraction=t.readInt16()}}),c.createFullBoxCtor("emsg",function(t){this.scheme_id_uri=t.readCString(),this.value=t.readCString(),this.timescale=t.readUint32(),this.presentation_time_delta=t.readUint32(),this.event_duration=t.readUint32(),this.id=t.readUint32();var e=this.size-this.hdr_size-(16+(this.scheme_id_uri.length+1)+(this.value.length+1));this.message_data=t.readUint8Array(e)}),c.createFullBoxCtor("esds",function(t){var e=t.readUint8Array(this.size-this.hdr_size),i=new l;this.esd=i.parseOneDescriptor(new a(e.buffer,0,a.BIG_ENDIAN))}),c.createBoxCtor("fiel",function(t){this.fieldCount=t.readUint8(),this.fieldOrdering=t.readUint8()}),c.createBoxCtor("frma",function(t){this.data_format=t.readString(4)}),c.createBoxCtor("ftyp",function(t){var e=this.size-this.hdr_size;this.major_brand=t.readString(4),this.minor_version=t.readUint32(),e-=8,this.compatible_brands=[];for(var i=0;e>=4;)this.compatible_brands[i]=t.readString(4),e-=4,i++}),c.createFullBoxCtor("hdlr",function(t){0===this.version&&(t.readUint32(),this.handler=t.readString(4),t.readUint32Array(3),this.name=t.readString(this.size-this.hdr_size-20),"\0"===this.name[this.name.length-1]&&(this.name=this.name.slice(0,-1)))}),c.createBoxCtor("hvcC",function(t){var e,i,n,r;this.configurationVersion=t.readUint8(),r=t.readUint8(),this.general_profile_space=r>>6,this.general_tier_flag=(32&r)>>5,this.general_profile_idc=31&r,this.general_profile_compatibility=t.readUint32(),this.general_constraint_indicator=t.readUint8Array(6),this.general_level_idc=t.readUint8(),this.min_spatial_segmentation_idc=4095&t.readUint16(),this.parallelismType=3&t.readUint8(),this.chroma_format_idc=3&t.readUint8(),this.bit_depth_luma_minus8=7&t.readUint8(),this.bit_depth_chroma_minus8=7&t.readUint8(),this.avgFrameRate=t.readUint16(),r=t.readUint8(),this.constantFrameRate=r>>6,this.numTemporalLayers=(13&r)>>3,this.temporalIdNested=(4&r)>>2,this.lengthSizeMinusOne=3&r,this.nalu_arrays=[];var a=t.readUint8();for(e=0;e<a;e++){var o=[];this.nalu_arrays.push(o),r=t.readUint8(),o.completeness=(128&r)>>7,o.nalu_type=63&r;var s=t.readUint16();for(i=0;i<s;i++){var l={};o.push(l),n=t.readUint16(),l.data=t.readUint8Array(n)}}}),c.createFullBoxCtor("iinf",function(t){var e;0===this.version?this.entry_count=t.readUint16():this.entry_count=t.readUint32(),this.item_infos=[];for(var i=0;i<this.entry_count;i++){if((e=c.parseOneBox(t,!1,this.size-(t.getPosition()-this.start))).code!==c.OK)return;"infe"!==e.box.type&&n.error("BoxParser","Expected 'infe' box, got "+e.box.type),this.item_infos[i]=e.box}}),c.createFullBoxCtor("iloc",function(t){var e;e=t.readUint8(),this.offset_size=e>>4&15,this.length_size=15&e,e=t.readUint8(),this.base_offset_size=e>>4&15,1===this.version||2===this.version?this.index_size=15&e:this.index_size=0,this.items=[];var i=0;if(this.version<2)i=t.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";i=t.readUint32()}for(var n=0;n<i;n++){var r={};if(this.items.push(r),this.version<2)r.item_ID=t.readUint16();else{if(2!==this.version)throw"version of iloc box not supported";r.item_ID=t.readUint16()}switch(1===this.version||2===this.version?r.construction_method=15&t.readUint16():r.construction_method=0,r.data_reference_index=t.readUint16(),this.base_offset_size){case 0:r.base_offset=0;break;case 4:r.base_offset=t.readUint32();break;case 8:r.base_offset=t.readUint64();break;default:throw"Error reading base offset size"}var a=t.readUint16();r.extents=[];for(var o=0;o<a;o++){var s={};if(r.extents.push(s),1===this.version||2===this.version)switch(this.index_size){case 0:s.extent_index=0;break;case 4:s.extent_index=t.readUint32();break;case 8:s.extent_index=t.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:s.extent_offset=0;break;case 4:s.extent_offset=t.readUint32();break;case 8:s.extent_offset=t.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:s.extent_length=0;break;case 4:s.extent_length=t.readUint32();break;case 8:s.extent_length=t.readUint64();break;default:throw"Error reading extent index"}}}}),c.createFullBoxCtor("infe",function(t){if(0!==this.version&&1!==this.version||(this.item_ID=t.readUint16(),this.item_protection_index=t.readUint16(),this.item_name=t.readCString(),this.content_type=t.readCString(),this.content_encoding=t.readCString()),1===this.version)return this.extension_type=t.readString(4),n.warn("BoxParser","Cannot parse extension type"),void t.seek(this.start+this.size);this.version>=2&&(2===this.version?this.item_ID=t.readUint16():3===this.version&&(this.item_ID=t.readUint32()),this.item_protection_index=t.readUint16(),this.item_type=t.readString(4),this.item_name=t.readCString(),"mime"===this.item_type?(this.content_type=t.readCString(),this.content_encoding=t.readCString()):"uri "===this.item_type&&(this.item_uri_type=t.readCString()))}),c.createFullBoxCtor("ipma",function(t){var e,i;for(entry_count=t.readUint32(),this.associations=[],e=0;e<entry_count;e++){var n={};this.associations.push(n),this.version<1?n.id=t.readUint16():n.id=t.readUint32();var r=t.readUint8();for(n.props=[],i=0;i<r;i++){var a=t.readUint8(),o={};n.props.push(o),o.essential=(128&a)>>7===1,1&this.flags?o.property_index=(127&a)<<8|t.readUint8():o.property_index=127&a}}}),c.createFullBoxCtor("iref",function(t){var e,i;for(this.references=[];t.getPosition()<this.start+this.size;){if((e=c.parseOneBox(t,!0,this.size-(t.getPosition()-this.start))).code!==c.OK)return;(i=0===this.version?new c.SingleItemTypeReferenceBox(e.type,e.size,e.hdr_size,e.start):new c.SingleItemTypeReferenceBoxLarge(e.type,e.size,e.hdr_size,e.start)).write===c.Box.prototype.write&&"mdat"!==i.type&&(n.warn("BoxParser",i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(t)),i.parse(t),this.references.push(i)}}),c.createBoxCtor("irot",function(t){this.angle=3&t.readUint8()}),c.createFullBoxCtor("ispe",function(t){this.image_width=t.readUint32(),this.image_height=t.readUint32()}),c.createFullBoxCtor("kind",function(t){this.schemeURI=t.readCString(),this.value=t.readCString()}),c.createFullBoxCtor("leva",function(t){var e=t.readUint8();this.levels=[];for(var i=0;i<e;i++){var r={};this.levels[i]=r,r.track_ID=t.readUint32();var a=t.readUint8();switch(r.padding_flag=a>>7,r.assignment_type=127&a,r.assignment_type){case 0:r.grouping_type=t.readString(4);break;case 1:r.grouping_type=t.readString(4),r.grouping_type_parameter=t.readUint32();break;case 2:case 3:break;case 4:r.sub_track_id=t.readUint32();break;default:n.warn("BoxParser","Unknown leva assignement type")}}}),c.createBoxCtor("maxr",function(t){this.period=t.readUint32(),this.bytes=t.readUint32()}),c.createBoxCtor("mdcv",function(t){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=t.readUint16(),this.display_primaries[0].y=t.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=t.readUint16(),this.display_primaries[1].y=t.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=t.readUint16(),this.display_primaries[2].y=t.readUint16(),this.white_point={},this.white_point.x=t.readUint16(),this.white_point.y=t.readUint16(),this.max_display_mastering_luminance=t.readUint32(),this.min_display_mastering_luminance=t.readUint32()}),c.createFullBoxCtor("mdhd",function(t){1==this.version?(this.creation_time=t.readUint64(),this.modification_time=t.readUint64(),this.timescale=t.readUint32(),this.duration=t.readUint64()):(this.creation_time=t.readUint32(),this.modification_time=t.readUint32(),this.timescale=t.readUint32(),this.duration=t.readUint32()),this.parseLanguage(t),t.readUint16()}),c.createFullBoxCtor("mehd",function(t){1&this.flags&&(n.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),1==this.version?this.fragment_duration=t.readUint64():this.fragment_duration=t.readUint32()}),c.createFullBoxCtor("meta",function(t){this.boxes=[],c.ContainerBox.prototype.parse.call(this,t)}),c.createFullBoxCtor("mfhd",function(t){this.sequence_number=t.readUint32()}),c.createFullBoxCtor("mfro",function(t){this._size=t.readUint32()}),c.createFullBoxCtor("mvhd",function(t){1==this.version?(this.creation_time=t.readUint64(),this.modification_time=t.readUint64(),this.timescale=t.readUint32(),this.duration=t.readUint64()):(this.creation_time=t.readUint32(),this.modification_time=t.readUint32(),this.timescale=t.readUint32(),this.duration=t.readUint32()),this.rate=t.readUint32(),this.volume=t.readUint16()>>8,t.readUint16(),t.readUint32Array(2),this.matrix=t.readUint32Array(9),t.readUint32Array(6),this.next_track_id=t.readUint32()}),c.createBoxCtor("npck",function(t){this.packetssent=t.readUint32()}),c.createBoxCtor("nump",function(t){this.packetssent=t.readUint64()}),c.createFullBoxCtor("padb",function(t){var e=t.readUint32();this.padbits=[];for(var i=0;i<Math.floor((e+1)/2);i++)this.padbits=t.readUint8()}),c.createBoxCtor("pasp",function(t){this.hSpacing=t.readUint32(),this.vSpacing=t.readUint32()}),c.createBoxCtor("payl",function(t){this.text=t.readString(this.size-this.hdr_size)}),c.createBoxCtor("payt",function(t){this.payloadID=t.readUint32();var e=t.readUint8();this.rtpmap_string=t.readString(e)}),c.createFullBoxCtor("pdin",function(t){var e=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var i=0;i<e;i++)this.rate[i]=t.readUint32(),this.initial_delay[i]=t.readUint32()}),c.createFullBoxCtor("pitm",function(t){0===this.version?this.item_id=t.readUint16():this.item_id=t.readUint32()}),c.createFullBoxCtor("pixi",function(t){var e;for(this.num_channels=t.readUint8(),this.bits_per_channels=[],e=0;e<this.num_channels;e++)this.bits_per_channels[e]=t.readUint8()}),c.createBoxCtor("pmax",function(t){this.bytes=t.readUint32()}),c.createFullBoxCtor("prft",function(t){this.ref_track_id=t.readUint32(),this.ntp_timestamp=t.readUint64(),0===this.version?this.media_time=t.readUint32():this.media_time=t.readUint64()}),c.createFullBoxCtor("pssh",function(t){if(this.system_id=c.parseHex16(t),this.version>0){var e=t.readUint32();this.kid=[];for(var i=0;i<e;i++)this.kid[i]=c.parseHex16(t)}var n=t.readUint32();n>0&&(this.data=t.readUint8Array(n))}),c.createFullBoxCtor("clef",function(t){this.width=t.readUint32(),this.height=t.readUint32()}),c.createFullBoxCtor("enof",function(t){this.width=t.readUint32(),this.height=t.readUint32()}),c.createFullBoxCtor("prof",function(t){this.width=t.readUint32(),this.height=t.readUint32()}),c.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),c.createBoxCtor("rtp ",function(t){this.descriptionformat=t.readString(4),this.sdptext=t.readString(this.size-this.hdr_size-4)}),c.createFullBoxCtor("saio",function(t){1&this.flags&&(this.aux_info_type=t.readUint32(),this.aux_info_type_parameter=t.readUint32());var e=t.readUint32();this.offset=[];for(var i=0;i<e;i++)0===this.version?this.offset[i]=t.readUint32():this.offset[i]=t.readUint64()}),c.createFullBoxCtor("saiz",function(t){1&this.flags&&(this.aux_info_type=t.readUint32(),this.aux_info_type_parameter=t.readUint32()),this.default_sample_info_size=t.readUint8();var e=t.readUint32();if(this.sample_info_size=[],0===this.default_sample_info_size)for(var i=0;i<e;i++)this.sample_info_size[i]=t.readUint8()}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.mime_format=t.readCString(),this.parseFooter(t)}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.namespace=t.readCString(),this.schema_location=t.readCString(),this.parseFooter(t)}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.mime_format=t.readCString(),this.parseFooter(t)}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(t){this.parseHeader(t),this.namespace=t.readCString(),this.schema_location=t.readCString(),this.auxiliary_mime_types=t.readCString(),this.parseFooter(t)}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(t){this.parseHeader(t),this.content_encoding=t.readCString(),this.mime_format=t.readCString(),this.parseFooter(t)}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(t){this.parseHeader(t),this.displayFlags=t.readUint32(),this.horizontal_justification=t.readInt8(),this.vertical_justification=t.readInt8(),this.bg_color_rgba=t.readUint8Array(4),this.box_record=t.readInt16Array(4),this.style_record=t.readUint8Array(12),this.parseFooter(t)}),c.createSampleEntryCtor(c.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(t){this.parseHeader(t),this.parseFooter(t)}),c.createSampleGroupCtor("alst",function(t){var e,i=t.readUint16();for(this.first_output_sample=t.readUint16(),this.sample_offset=[],e=0;e<i;e++)this.sample_offset[e]=t.readUint32();var n=this.description_length-4-4*i;for(this.num_output_samples=[],this.num_total_samples=[],e=0;e<n/4;e++)this.num_output_samples[e]=t.readUint16(),this.num_total_samples[e]=t.readUint16()}),c.createSampleGroupCtor("avll",function(t){this.layerNumber=t.readUint8(),this.accurateStatisticsFlag=t.readUint8(),this.avgBitRate=t.readUint16(),this.avgFrameRate=t.readUint16()}),c.createSampleGroupCtor("avss",function(t){this.subSequenceIdentifier=t.readUint16(),this.layerNumber=t.readUint8();var e=t.readUint8();this.durationFlag=e>>7,this.avgRateFlag=e>>6&1,this.durationFlag&&(this.duration=t.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=t.readUint8(),this.avgBitRate=t.readUint16(),this.avgFrameRate=t.readUint16()),this.dependency=[];for(var i=t.readUint8(),n=0;n<i;n++){var r={};this.dependency.push(r),r.subSeqDirectionFlag=t.readUint8(),r.layerNumber=t.readUint8(),r.subSequenceIdentifier=t.readUint16()}}),c.createSampleGroupCtor("dtrt",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createSampleGroupCtor("mvif",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createSampleGroupCtor("prol",function(t){this.roll_distance=t.readInt16()}),c.createSampleGroupCtor("rap ",function(t){var e=t.readUint8();this.num_leading_samples_known=e>>7,this.num_leading_samples=127&e}),c.createSampleGroupCtor("rash",function(t){if(this.operation_point_count=t.readUint16(),this.description_length!==2+(1===this.operation_point_count?2:6*this.operation_point_count)+9)n.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=t.readUint8Array(this.description_length-2);else{if(1===this.operation_point_count)this.target_rate_share=t.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var e=0;e<this.operation_point_count;e++)this.available_bitrate[e]=t.readUint32(),this.target_rate_share[e]=t.readUint16()}this.maximum_bitrate=t.readUint32(),this.minimum_bitrate=t.readUint32(),this.discard_priority=t.readUint8()}}),c.createSampleGroupCtor("roll",function(t){this.roll_distance=t.readInt16()}),c.SampleGroupEntry.prototype.parse=function(t){n.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=t.readUint8Array(this.description_length)},c.createSampleGroupCtor("scif",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createSampleGroupCtor("scnm",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createSampleGroupCtor("seig",function(t){this.reserved=t.readUint8();var e=t.readUint8();this.crypt_byte_block=e>>4,this.skip_byte_block=15&e,this.isProtected=t.readUint8(),this.Per_Sample_IV_Size=t.readUint8(),this.KID=c.parseHex16(t),this.constant_IV_size=0,this.constant_IV=0,1===this.isProtected&&0===this.Per_Sample_IV_Size&&(this.constant_IV_size=t.readUint8(),this.constant_IV=t.readUint8Array(this.constant_IV_size))}),c.createSampleGroupCtor("stsa",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createSampleGroupCtor("sync",function(t){var e=t.readUint8();this.NAL_unit_type=63&e}),c.createSampleGroupCtor("tele",function(t){var e=t.readUint8();this.level_independently_decodable=e>>7}),c.createSampleGroupCtor("tsas",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createSampleGroupCtor("tscl",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createSampleGroupCtor("vipr",function(t){n.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),c.createFullBoxCtor("sbgp",function(t){this.grouping_type=t.readString(4),1===this.version?this.grouping_type_parameter=t.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var e=t.readUint32(),i=0;i<e;i++){var n={};this.entries.push(n),n.sample_count=t.readInt32(),n.group_description_index=t.readInt32()}}),c.createFullBoxCtor("schm",function(t){this.scheme_type=t.readString(4),this.scheme_version=t.readUint32(),1&this.flags&&(this.scheme_uri=t.readString(this.size-this.hdr_size-8))}),c.createBoxCtor("sdp ",function(t){this.sdptext=t.readString(this.size-this.hdr_size)}),c.createFullBoxCtor("sdtp",function(t){var e,i=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var n=0;n<i;n++)e=t.readUint8(),this.is_leading[n]=e>>6,this.sample_depends_on[n]=e>>4&3,this.sample_is_depended_on[n]=e>>2&3,this.sample_has_redundancy[n]=3&e}),c.createFullBoxCtor("senc"),c.createFullBoxCtor("sgpd",function(t){this.grouping_type=t.readString(4),n.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),1===this.version?this.default_length=t.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=t.readUint32()),this.entries=[];for(var e=t.readUint32(),i=0;i<e;i++){var r;r=c[this.grouping_type+"SampleGroupEntry"]?new c[this.grouping_type+"SampleGroupEntry"](this.grouping_type):new c.SampleGroupEntry(this.grouping_type),this.entries.push(r),1===this.version&&0===this.default_length?r.description_length=t.readUint32():r.description_length=this.default_length,r.write===c.SampleGroupEntry.prototype.write&&(n.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),r.data=t.readUint8Array(r.description_length),t.position-=r.description_length),r.parse(t)}}),c.createFullBoxCtor("sidx",function(t){this.reference_ID=t.readUint32(),this.timescale=t.readUint32(),0===this.version?(this.earliest_presentation_time=t.readUint32(),this.first_offset=t.readUint32()):(this.earliest_presentation_time=t.readUint64(),this.first_offset=t.readUint64()),t.readUint16(),this.references=[];for(var e=t.readUint16(),i=0;i<e;i++){var n={};this.references.push(n);var r=t.readUint32();n.reference_type=r>>31&1,n.referenced_size=2147483647&r,n.subsegment_duration=t.readUint32(),r=t.readUint32(),n.starts_with_SAP=r>>31&1,n.SAP_type=r>>28&7,n.SAP_delta_time=268435455&r}}),c.SingleItemTypeReferenceBox=function(t,e,i,n){c.Box.call(this,t,e),this.hdr_size=i,this.start=n},c.SingleItemTypeReferenceBox.prototype=new c.Box,c.SingleItemTypeReferenceBox.prototype.parse=function(t){this.from_item_ID=t.readUint16();var e=t.readUint16();this.references=[];for(var i=0;i<e;i++)this.references[i]=t.readUint16()},c.SingleItemTypeReferenceBoxLarge=function(t,e,i,n){c.Box.call(this,t,e),this.hdr_size=i,this.start=n},c.SingleItemTypeReferenceBoxLarge.prototype=new c.Box,c.SingleItemTypeReferenceBoxLarge.prototype.parse=function(t){this.from_item_ID=t.readUint32();var e=t.readUint16();this.references=[];for(var i=0;i<e;i++)this.references[i]=t.readUint32()},c.createFullBoxCtor("SmDm",function(t){this.primaryRChromaticity_x=t.readUint16(),this.primaryRChromaticity_y=t.readUint16(),this.primaryGChromaticity_x=t.readUint16(),this.primaryGChromaticity_y=t.readUint16(),this.primaryBChromaticity_x=t.readUint16(),this.primaryBChromaticity_y=t.readUint16(),this.whitePointChromaticity_x=t.readUint16(),this.whitePointChromaticity_y=t.readUint16(),this.luminanceMax=t.readUint32(),this.luminanceMin=t.readUint32()}),c.createFullBoxCtor("smhd",function(t){this.balance=t.readUint16(),t.readUint16()}),c.createFullBoxCtor("ssix",function(t){this.subsegments=[];for(var e=t.readUint32(),i=0;i<e;i++){var n={};this.subsegments.push(n),n.ranges=[];for(var r=t.readUint32(),a=0;a<r;a++){var o={};n.ranges.push(o),o.level=t.readUint8(),o.range_size=t.readUint24()}}}),c.createFullBoxCtor("stco",function(t){var e;if(e=t.readUint32(),this.chunk_offsets=[],0===this.version)for(var i=0;i<e;i++)this.chunk_offsets.push(t.readUint32())}),c.createFullBoxCtor("stdp",function(t){var e=(this.size-this.hdr_size)/2;this.priority=[];for(var i=0;i<e;i++)this.priority[i]=t.readUint16()}),c.createFullBoxCtor("sthd"),c.createFullBoxCtor("stri",function(t){this.switch_group=t.readUint16(),this.alternate_group=t.readUint16(),this.sub_track_id=t.readUint32();var e=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var i=0;i<e;i++)this.attribute_list[i]=t.readUint32()}),c.createFullBoxCtor("stsc",function(t){var e,i;if(e=t.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],0===this.version)for(i=0;i<e;i++)this.first_chunk.push(t.readUint32()),this.samples_per_chunk.push(t.readUint32()),this.sample_description_index.push(t.readUint32())}),c.createFullBoxCtor("stsd",function(t){var e,i,r,a;for(this.entries=[],r=t.readUint32(),e=1;e<=r;e++){if((i=c.parseOneBox(t,!0,this.size-(t.getPosition()-this.start))).code!==c.OK)return;c[i.type+"SampleEntry"]?((a=new c[i.type+"SampleEntry"](i.size)).hdr_size=i.hdr_size,a.start=i.start):(n.warn("BoxParser","Unknown sample entry type: "+i.type),a=new c.SampleEntry(i.type,i.size,i.hdr_size,i.start)),a.write===c.SampleEntry.prototype.write&&(n.info("BoxParser","SampleEntry "+a.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),a.parseDataAndRewind(t)),a.parse(t),this.entries.push(a)}}),c.createFullBoxCtor("stsg",function(t){this.grouping_type=t.readUint32();var e=t.readUint16();this.group_description_index=[];for(var i=0;i<e;i++)this.group_description_index[i]=t.readUint32()}),c.createFullBoxCtor("stsh",function(t){var e,i;if(e=t.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],0===this.version)for(i=0;i<e;i++)this.shadowed_sample_numbers.push(t.readUint32()),this.sync_sample_numbers.push(t.readUint32())}),c.createFullBoxCtor("stss",function(t){var e,i;if(i=t.readUint32(),0===this.version)for(this.sample_numbers=[],e=0;e<i;e++)this.sample_numbers.push(t.readUint32())}),c.createFullBoxCtor("stsz",function(t){var e;if(this.sample_sizes=[],0===this.version)for(this.sample_size=t.readUint32(),this.sample_count=t.readUint32(),e=0;e<this.sample_count;e++)0===this.sample_size?this.sample_sizes.push(t.readUint32()):this.sample_sizes[e]=this.sample_size}),c.createFullBoxCtor("stts",function(t){var e,i,r;if(e=t.readUint32(),this.sample_counts=[],this.sample_deltas=[],0===this.version)for(i=0;i<e;i++)this.sample_counts.push(t.readUint32()),(r=t.readInt32())<0&&(n.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),r=1),this.sample_deltas.push(r)}),c.createFullBoxCtor("stvi",function(t){var e=t.readUint32();this.single_view_allowed=3&e,this.stereo_scheme=t.readUint32();var i,n,r=t.readUint32();for(this.stereo_indication_type=t.readString(r),this.boxes=[];t.getPosition()<this.start+this.size;){if((i=c.parseOneBox(t,!1,this.size-(t.getPosition()-this.start))).code!==c.OK)return;n=i.box,this.boxes.push(n),this[n.type]=n}}),c.createBoxCtor("styp",function(t){c.ftypBox.prototype.parse.call(this,t)}),c.createFullBoxCtor("stz2",function(t){var e,i;if(this.sample_sizes=[],0===this.version)if(this.reserved=t.readUint24(),this.field_size=t.readUint8(),i=t.readUint32(),4===this.field_size)for(e=0;e<i;e+=2){var r=t.readUint8();this.sample_sizes[e]=r>>4&15,this.sample_sizes[e+1]=15&r}else if(8===this.field_size)for(e=0;e<i;e++)this.sample_sizes[e]=t.readUint8();else if(16===this.field_size)for(e=0;e<i;e++)this.sample_sizes[e]=t.readUint16();else n.error("BoxParser","Error in length field in stz2 box")}),c.createFullBoxCtor("subs",function(t){var e,i,n,r;for(n=t.readUint32(),this.entries=[],e=0;e<n;e++){var a={};if(this.entries[e]=a,a.sample_delta=t.readUint32(),a.subsamples=[],(r=t.readUint16())>0)for(i=0;i<r;i++){var o={};a.subsamples.push(o),1==this.version?o.size=t.readUint32():o.size=t.readUint16(),o.priority=t.readUint8(),o.discardable=t.readUint8(),o.codec_specific_parameters=t.readUint32()}}}),c.createFullBoxCtor("tenc",function(t){if(t.readUint8(),0===this.version)t.readUint8();else{var e=t.readUint8();this.default_crypt_byte_block=e>>4&15,this.default_skip_byte_block=15&e}this.default_isProtected=t.readUint8(),this.default_Per_Sample_IV_Size=t.readUint8(),this.default_KID=c.parseHex16(t),1===this.default_isProtected&&0===this.default_Per_Sample_IV_Size&&(this.default_constant_IV_size=t.readUint8(),this.default_constant_IV=t.readUint8Array(this.default_constant_IV_size))}),c.createFullBoxCtor("tfdt",function(t){1==this.version?this.baseMediaDecodeTime=t.readUint64():this.baseMediaDecodeTime=t.readUint32()}),c.createFullBoxCtor("tfhd",function(t){var e=0;this.track_id=t.readUint32(),this.size-this.hdr_size>e&&this.flags&c.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=t.readUint64(),e+=8):this.base_data_offset=0,this.size-this.hdr_size>e&&this.flags&c.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=t.readUint32(),e+=4):this.default_sample_description_index=0,this.size-this.hdr_size>e&&this.flags&c.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=t.readUint32(),e+=4):this.default_sample_duration=0,this.size-this.hdr_size>e&&this.flags&c.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=t.readUint32(),e+=4):this.default_sample_size=0,this.size-this.hdr_size>e&&this.flags&c.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=t.readUint32(),e+=4):this.default_sample_flags=0}),c.createFullBoxCtor("tfra",function(t){this.track_ID=t.readUint32(),t.readUint24();var e=t.readUint8();this.length_size_of_traf_num=e>>4&3,this.length_size_of_trun_num=e>>2&3,this.length_size_of_sample_num=3&e,this.entries=[];for(var i=t.readUint32(),n=0;n<i;n++)1===this.version?(this.time=t.readUint64(),this.moof_offset=t.readUint64()):(this.time=t.readUint32(),this.moof_offset=t.readUint32()),this.traf_number=t["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=t["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=t["readUint"+8*(this.length_size_of_sample_num+1)]()}),c.createFullBoxCtor("tkhd",function(t){1==this.version?(this.creation_time=t.readUint64(),this.modification_time=t.readUint64(),this.track_id=t.readUint32(),t.readUint32(),this.duration=t.readUint64()):(this.creation_time=t.readUint32(),this.modification_time=t.readUint32(),this.track_id=t.readUint32(),t.readUint32(),this.duration=t.readUint32()),t.readUint32Array(2),this.layer=t.readInt16(),this.alternate_group=t.readInt16(),this.volume=t.readInt16()>>8,t.readUint16(),this.matrix=t.readInt32Array(9),this.width=t.readUint32(),this.height=t.readUint32()}),c.createBoxCtor("tmax",function(t){this.time=t.readUint32()}),c.createBoxCtor("tmin",function(t){this.time=t.readUint32()}),c.createBoxCtor("totl",function(t){this.bytessent=t.readUint32()}),c.createBoxCtor("tpay",function(t){this.bytessent=t.readUint32()}),c.createBoxCtor("tpyl",function(t){this.bytessent=t.readUint64()}),c.TrackGroupTypeBox.prototype.parse=function(t){this.parseFullHeader(t),this.track_group_id=t.readUint32()},c.createTrackGroupCtor("msrc"),c.TrackReferenceTypeBox=function(t,e,i,n){c.Box.call(this,t,e),this.hdr_size=i,this.start=n},c.TrackReferenceTypeBox.prototype=new c.Box,c.TrackReferenceTypeBox.prototype.parse=function(t){this.track_ids=t.readUint32Array((this.size-this.hdr_size)/4)},c.trefBox.prototype.parse=function(t){for(var e,i;t.getPosition()<this.start+this.size;){if((e=c.parseOneBox(t,!0,this.size-(t.getPosition()-this.start))).code!==c.OK)return;(i=new c.TrackReferenceTypeBox(e.type,e.size,e.hdr_size,e.start)).write===c.Box.prototype.write&&"mdat"!==i.type&&(n.info("BoxParser","TrackReference "+i.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),i.parseDataAndRewind(t)),i.parse(t),this.boxes.push(i)}},c.createFullBoxCtor("trep",function(t){for(this.track_ID=t.readUint32(),this.boxes=[];t.getPosition()<this.start+this.size;){if(ret=c.parseOneBox(t,!1,this.size-(t.getPosition()-this.start)),ret.code!==c.OK)return;box=ret.box,this.boxes.push(box)}}),c.createFullBoxCtor("trex",function(t){this.track_id=t.readUint32(),this.default_sample_description_index=t.readUint32(),this.default_sample_duration=t.readUint32(),this.default_sample_size=t.readUint32(),this.default_sample_flags=t.readUint32()}),c.createBoxCtor("trpy",function(t){this.bytessent=t.readUint64()}),c.createFullBoxCtor("trun",function(t){var e=0;if(this.sample_count=t.readUint32(),e+=4,this.size-this.hdr_size>e&&this.flags&c.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=t.readInt32(),e+=4):this.data_offset=0,this.size-this.hdr_size>e&&this.flags&c.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=t.readUint32(),e+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>e)for(var i=0;i<this.sample_count;i++)this.flags&c.TRUN_FLAGS_DURATION&&(this.sample_duration[i]=t.readUint32()),this.flags&c.TRUN_FLAGS_SIZE&&(this.sample_size[i]=t.readUint32()),this.flags&c.TRUN_FLAGS_FLAGS&&(this.sample_flags[i]=t.readUint32()),this.flags&c.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?this.sample_composition_time_offset[i]=t.readUint32():this.sample_composition_time_offset[i]=t.readInt32())}),c.createFullBoxCtor("tsel",function(t){this.switch_group=t.readUint32();var e=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var i=0;i<e;i++)this.attribute_list[i]=t.readUint32()}),c.createFullBoxCtor("txtC",function(t){this.config=t.readCString()}),c.createFullBoxCtor("url ",function(t){1!==this.flags&&(this.location=t.readCString())}),c.createFullBoxCtor("urn ",function(t){this.name=t.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=t.readCString())}),c.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(t){this.LiveServerManifest=t.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),c.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(t){this.system_id=c.parseHex16(t);var e=t.readUint32();e>0&&(this.data=t.readUint8Array(e))}),c.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),c.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(t){this.default_AlgorithmID=t.readUint24(),this.default_IV_size=t.readUint8(),this.default_KID=c.parseHex16(t)}),c.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(t){this.fragment_count=t.readUint8(),this.entries=[];for(var e=0;e<this.fragment_count;e++){var i={},n=0,r=0;1===this.version?(n=t.readUint64(),r=t.readUint64()):(n=t.readUint32(),r=t.readUint32()),i.absolute_time=n,i.absolute_duration=r,this.entries.push(i)}}),c.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(t){1===this.version?(this.absolute_time=t.readUint64(),this.duration=t.readUint64()):(this.absolute_time=t.readUint32(),this.duration=t.readUint32())}),c.createFullBoxCtor("vmhd",function(t){this.graphicsmode=t.readUint16(),this.opcolor=t.readUint16Array(3)}),c.createFullBoxCtor("vpcC",function(t){var e;1===this.version?(this.profile=t.readUint8(),this.level=t.readUint8(),e=t.readUint8(),this.bitDepth=e>>4,this.chromaSubsampling=e>>1&7,this.videoFullRangeFlag=1&e,this.colourPrimaries=t.readUint8(),this.transferCharacteristics=t.readUint8(),this.matrixCoefficients=t.readUint8(),this.codecIntializationDataSize=t.readUint16(),this.codecIntializationData=t.readUint8Array(this.codecIntializationDataSize)):(this.profile=t.readUint8(),this.level=t.readUint8(),e=t.readUint8(),this.bitDepth=e>>4&15,this.colorSpace=15&e,e=t.readUint8(),this.chromaSubsampling=e>>4&15,this.transferFunction=e>>1&7,this.videoFullRangeFlag=1&e,this.codecIntializationDataSize=t.readUint16(),this.codecIntializationData=t.readUint8Array(this.codecIntializationDataSize))}),c.createBoxCtor("vttC",function(t){this.text=t.readString(this.size-this.hdr_size)}),c.SampleEntry.prototype.isVideo=function(){return!1},c.SampleEntry.prototype.isAudio=function(){return!1},c.SampleEntry.prototype.isSubtitle=function(){return!1},c.SampleEntry.prototype.isMetadata=function(){return!1},c.SampleEntry.prototype.isHint=function(){return!1},c.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},c.SampleEntry.prototype.getWidth=function(){return""},c.SampleEntry.prototype.getHeight=function(){return""},c.SampleEntry.prototype.getChannelCount=function(){return""},c.SampleEntry.prototype.getSampleRate=function(){return""},c.SampleEntry.prototype.getSampleSize=function(){return""},c.VisualSampleEntry.prototype.isVideo=function(){return!0},c.VisualSampleEntry.prototype.getWidth=function(){return this.width},c.VisualSampleEntry.prototype.getHeight=function(){return this.height},c.AudioSampleEntry.prototype.isAudio=function(){return!0},c.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},c.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},c.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},c.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},c.MetadataSampleEntry.prototype.isMetadata=function(){return!0},c.decimalToHex=function(t,e){var i=Number(t).toString(16);for(e="undefined"===typeof e||null===e?e=2:e;i.length<e;)i="0"+i;return i},c.avc1SampleEntry.prototype.getCodec=c.avc2SampleEntry.prototype.getCodec=c.avc3SampleEntry.prototype.getCodec=c.avc4SampleEntry.prototype.getCodec=function(){var t=c.SampleEntry.prototype.getCodec.call(this);return this.avcC?t+"."+c.decimalToHex(this.avcC.AVCProfileIndication)+c.decimalToHex(this.avcC.profile_compatibility)+c.decimalToHex(this.avcC.AVCLevelIndication):t},c.hev1SampleEntry.prototype.getCodec=c.hvc1SampleEntry.prototype.getCodec=function(){var t,e=c.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(e+=".",this.hvcC.general_profile_space){case 0:e+="";break;case 1:e+="A";break;case 2:e+="B";break;case 3:e+="C"}e+=this.hvcC.general_profile_idc,e+=".";var i=this.hvcC.general_profile_compatibility,n=0;for(t=0;t<32&&(n|=1&i,31!=t);t++)n<<=1,i>>=1;e+=c.decimalToHex(n,0),e+=".",0===this.hvcC.general_tier_flag?e+="L":e+="H",e+=this.hvcC.general_level_idc;var r=!1,a="";for(t=5;t>=0;t--)(this.hvcC.general_constraint_indicator[t]||r)&&(a="."+c.decimalToHex(this.hvcC.general_constraint_indicator[t],0)+a,r=!0);e+=a}return e},c.mp4aSampleEntry.prototype.getCodec=function(){var t=c.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var e=this.esds.esd.getOTI(),i=this.esds.esd.getAudioConfig();return t+"."+c.decimalToHex(e)+(i?"."+i:"")}return t},c.stxtSampleEntry.prototype.getCodec=function(){var t=c.SampleEntry.prototype.getCodec.call(this);return this.mime_format?t+"."+this.mime_format:t},c.av01SampleEntry.prototype.getCodec=function(){var t,e=c.SampleEntry.prototype.getCodec.call(this);return 2===this.av1C.seq_profile&&1===this.av1C.high_bitdepth?t=1===this.av1C.twelve_bit?12:10:this.av1C.seq_profile<=2&&(t=1===this.av1C.high_bitdepth?10:8),e+"."+this.av1C.seq_profile+"."+this.av1C.seq_level_idx_0+(this.av1C.seq_tier_0?"H":"M")+"."+t+"."+this.av1C.monochrome+"."+this.av1C.chroma_subsampling_x+this.av1C.chroma_subsampling_y+this.av1C.chroma_sample_position},c.Box.prototype.writeHeader=function(t,e){this.size+=8,this.size>o&&(this.size+=8),"uuid"===this.type&&(this.size+=16),n.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+t.getPosition()+(e||"")),this.size>o?t.writeUint32(1):(this.sizePosition=t.getPosition(),t.writeUint32(this.size)),t.writeString(this.type,null,4),"uuid"===this.type&&t.writeUint8Array(this.uuid),this.size>o&&t.writeUint64(this.size)},c.FullBox.prototype.writeHeader=function(t){this.size+=4,c.Box.prototype.writeHeader.call(this,t," v="+this.version+" f="+this.flags),t.writeUint8(this.version),t.writeUint24(this.flags)},c.Box.prototype.write=function(t){"mdat"===this.type?this.data&&(this.size=this.data.length,this.writeHeader(t),t.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(t),this.data&&t.writeUint8Array(this.data))},c.ContainerBox.prototype.write=function(t){this.size=0,this.writeHeader(t);for(var e=0;e<this.boxes.length;e++)this.boxes[e]&&(this.boxes[e].write(t),this.size+=this.boxes[e].size);n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)},c.TrackReferenceTypeBox.prototype.write=function(t){this.size=4*this.track_ids.length,this.writeHeader(t),t.writeUint32Array(this.track_ids)},c.avcCBox.prototype.write=function(t){var e;for(this.size=7,e=0;e<this.SPS.length;e++)this.size+=2+this.SPS[e].length;for(e=0;e<this.PPS.length;e++)this.size+=2+this.PPS[e].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(t),t.writeUint8(this.configurationVersion),t.writeUint8(this.AVCProfileIndication),t.writeUint8(this.profile_compatibility),t.writeUint8(this.AVCLevelIndication),t.writeUint8(this.lengthSizeMinusOne+252),t.writeUint8(this.SPS.length+224),e=0;e<this.SPS.length;e++)t.writeUint16(this.SPS[e].length),t.writeUint8Array(this.SPS[e].nalu);for(t.writeUint8(this.PPS.length),e=0;e<this.PPS.length;e++)t.writeUint16(this.PPS[e].length),t.writeUint8Array(this.PPS[e].nalu);this.ext&&t.writeUint8Array(this.ext)},c.co64Box.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(t),t.writeUint32(this.chunk_offsets.length),e=0;e<this.chunk_offsets.length;e++)t.writeUint64(this.chunk_offsets[e])},c.cslgBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=20,this.writeHeader(t),t.writeInt32(this.compositionToDTSShift),t.writeInt32(this.leastDecodeToDisplayDelta),t.writeInt32(this.greatestDecodeToDisplayDelta),t.writeInt32(this.compositionStartTime),t.writeInt32(this.compositionEndTime)},c.cttsBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(t),t.writeUint32(this.sample_counts.length),e=0;e<this.sample_counts.length;e++)t.writeUint32(this.sample_counts[e]),1===this.version?t.writeInt32(this.sample_offsets[e]):t.writeUint32(this.sample_offsets[e])},c.drefBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4,this.writeHeader(t),t.writeUint32(this.entries.length);for(var e=0;e<this.entries.length;e++)this.entries[e].write(t),this.size+=this.entries[e].size;n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)},c.elngBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(t),t.writeString(this.extended_language)},c.elstBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(t),t.writeUint32(this.entries.length);for(var e=0;e<this.entries.length;e++){var i=this.entries[e];t.writeUint32(i.segment_duration),t.writeInt32(i.media_time),t.writeInt16(i.media_rate_integer),t.writeInt16(i.media_rate_fraction)}},c.emsgBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=16+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(t),t.writeCString(this.scheme_id_uri),t.writeCString(this.value),t.writeUint32(this.timescale),t.writeUint32(this.presentation_time_delta),t.writeUint32(this.event_duration),t.writeUint32(this.id),t.writeUint8Array(this.message_data)},c.ftypBox.prototype.write=function(t){this.size=8+4*this.compatible_brands.length,this.writeHeader(t),t.writeString(this.major_brand,null,4),t.writeUint32(this.minor_version);for(var e=0;e<this.compatible_brands.length;e++)t.writeString(this.compatible_brands[e],null,4)},c.hdlrBox.prototype.write=function(t){this.size=20+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(t),t.writeUint32(0),t.writeString(this.handler,null,4),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeCString(this.name)},c.kindBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(t),t.writeCString(this.schemeURI),t.writeCString(this.value)},c.mdhdBox.prototype.write=function(t){this.size=20,this.flags=0,this.version=0,this.writeHeader(t),t.writeUint32(this.creation_time),t.writeUint32(this.modification_time),t.writeUint32(this.timescale),t.writeUint32(this.duration),t.writeUint16(this.language),t.writeUint16(0)},c.mehdBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4,this.writeHeader(t),t.writeUint32(this.fragment_duration)},c.mfhdBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4,this.writeHeader(t),t.writeUint32(this.sequence_number)},c.mvhdBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=96,this.writeHeader(t),t.writeUint32(this.creation_time),t.writeUint32(this.modification_time),t.writeUint32(this.timescale),t.writeUint32(this.duration),t.writeUint32(this.rate),t.writeUint16(this.volume<<8),t.writeUint16(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32Array(this.matrix),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(this.next_track_id)},c.SampleEntry.prototype.writeHeader=function(t){this.size=8,c.Box.prototype.writeHeader.call(this,t),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint8(0),t.writeUint16(this.data_reference_index)},c.SampleEntry.prototype.writeFooter=function(t){for(var e=0;e<this.boxes.length;e++)this.boxes[e].write(t),this.size+=this.boxes[e].size;n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)},c.SampleEntry.prototype.write=function(t){this.writeHeader(t),t.writeUint8Array(this.data),this.size+=this.data.length,n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)},c.VisualSampleEntry.prototype.write=function(t){this.writeHeader(t),this.size+=70,t.writeUint16(0),t.writeUint16(0),t.writeUint32(0),t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.width),t.writeUint16(this.height),t.writeUint32(this.horizresolution),t.writeUint32(this.vertresolution),t.writeUint32(0),t.writeUint16(this.frame_count),t.writeUint8(Math.min(31,this.compressorname.length)),t.writeString(this.compressorname,null,31),t.writeUint16(this.depth),t.writeInt16(-1),this.writeFooter(t)},c.AudioSampleEntry.prototype.write=function(t){this.writeHeader(t),this.size+=20,t.writeUint32(0),t.writeUint32(0),t.writeUint16(this.channel_count),t.writeUint16(this.samplesize),t.writeUint16(0),t.writeUint16(0),t.writeUint32(this.samplerate<<16),this.writeFooter(t)},c.stppSampleEntry.prototype.write=function(t){this.writeHeader(t),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,t.writeCString(this.namespace),t.writeCString(this.schema_location),t.writeCString(this.auxiliary_mime_types),this.writeFooter(t)},c.SampleGroupEntry.prototype.write=function(t){t.writeUint8Array(this.data)},c.sbgpBox.prototype.write=function(t){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(t),t.writeString(this.grouping_type,null,4),t.writeUint32(this.grouping_type_parameter),t.writeUint32(this.entries.length);for(var e=0;e<this.entries.length;e++){var i=this.entries[e];t.writeInt32(i.sample_count),t.writeInt32(i.group_description_index)}},c.sgpdBox.prototype.write=function(t){var e,i;for(this.flags=0,this.size=12,e=0;e<this.entries.length;e++)i=this.entries[e],1===this.version&&(0===this.default_length&&(this.size+=4),this.size+=i.data.length);for(this.writeHeader(t),t.writeString(this.grouping_type,null,4),1===this.version&&t.writeUint32(this.default_length),this.version>=2&&t.writeUint32(this.default_sample_description_index),t.writeUint32(this.entries.length),e=0;e<this.entries.length;e++)i=this.entries[e],1===this.version&&0===this.default_length&&t.writeUint32(i.description_length),i.write(t)},c.sidxBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=20+12*this.references.length,this.writeHeader(t),t.writeUint32(this.reference_ID),t.writeUint32(this.timescale),t.writeUint32(this.earliest_presentation_time),t.writeUint32(this.first_offset),t.writeUint16(0),t.writeUint16(this.references.length);for(var e=0;e<this.references.length;e++){var i=this.references[e];t.writeUint32(i.reference_type<<31|i.referenced_size),t.writeUint32(i.subsegment_duration),t.writeUint32(i.starts_with_SAP<<31|i.SAP_type<<28|i.SAP_delta_time)}},c.stcoBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(t),t.writeUint32(this.chunk_offsets.length),t.writeUint32Array(this.chunk_offsets)},c.stscBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(t),t.writeUint32(this.first_chunk.length),e=0;e<this.first_chunk.length;e++)t.writeUint32(this.first_chunk[e]),t.writeUint32(this.samples_per_chunk[e]),t.writeUint32(this.sample_description_index[e])},c.stsdBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(t),t.writeUint32(this.entries.length),this.size+=4,e=0;e<this.entries.length;e++)this.entries[e].write(t),this.size+=this.entries[e].size;n.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),t.adjustUint32(this.sizePosition,this.size)},c.stshBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(t),t.writeUint32(this.shadowed_sample_numbers.length),e=0;e<this.shadowed_sample_numbers.length;e++)t.writeUint32(this.shadowed_sample_numbers[e]),t.writeUint32(this.sync_sample_numbers[e])},c.stssBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(t),t.writeUint32(this.sample_numbers.length),t.writeUint32Array(this.sample_numbers)},c.stszBox.prototype.write=function(t){var e,i=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(e=0;e+1<this.sample_sizes.length;){if(this.sample_sizes[e+1]!==this.sample_sizes[0]){i=!1;break}e++}else i=!1;this.size=8,i||(this.size+=4*this.sample_sizes.length),this.writeHeader(t),i?t.writeUint32(this.sample_sizes[0]):t.writeUint32(0),t.writeUint32(this.sample_sizes.length),i||t.writeUint32Array(this.sample_sizes)},c.sttsBox.prototype.write=function(t){var e;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(t),t.writeUint32(this.sample_counts.length),e=0;e<this.sample_counts.length;e++)t.writeUint32(this.sample_counts[e]),t.writeUint32(this.sample_deltas[e])},c.tfdtBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=4,1===this.version&&(this.size+=4),this.writeHeader(t),1===this.version?t.writeUint64(this.baseMediaDecodeTime):t.writeUint32(this.baseMediaDecodeTime)},c.tfhdBox.prototype.write=function(t){this.version=0,this.size=4,this.flags&c.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&c.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&c.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&c.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&c.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(t),t.writeUint32(this.track_id),this.flags&c.TFHD_FLAG_BASE_DATA_OFFSET&&t.writeUint64(this.base_data_offset),this.flags&c.TFHD_FLAG_SAMPLE_DESC&&t.writeUint32(this.default_sample_description_index),this.flags&c.TFHD_FLAG_SAMPLE_DUR&&t.writeUint32(this.default_sample_duration),this.flags&c.TFHD_FLAG_SAMPLE_SIZE&&t.writeUint32(this.default_sample_size),this.flags&c.TFHD_FLAG_SAMPLE_FLAGS&&t.writeUint32(this.default_sample_flags)},c.tkhdBox.prototype.write=function(t){this.version=0,this.size=80,this.writeHeader(t),t.writeUint32(this.creation_time),t.writeUint32(this.modification_time),t.writeUint32(this.track_id),t.writeUint32(0),t.writeUint32(this.duration),t.writeUint32(0),t.writeUint32(0),t.writeInt16(this.layer),t.writeInt16(this.alternate_group),t.writeInt16(this.volume<<8),t.writeUint16(0),t.writeInt32Array(this.matrix),t.writeUint32(this.width),t.writeUint32(this.height)},c.trexBox.prototype.write=function(t){this.version=0,this.flags=0,this.size=20,this.writeHeader(t),t.writeUint32(this.track_id),t.writeUint32(this.default_sample_description_index),t.writeUint32(this.default_sample_duration),t.writeUint32(this.default_sample_size),t.writeUint32(this.default_sample_flags)},c.trunBox.prototype.write=function(t){this.version=0,this.size=4,this.flags&c.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&c.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&c.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&c.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&c.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&c.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(t),t.writeUint32(this.sample_count),this.flags&c.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=t.getPosition(),t.writeInt32(this.data_offset)),this.flags&c.TRUN_FLAGS_FIRST_FLAG&&t.writeUint32(this.first_sample_flags);for(var e=0;e<this.sample_count;e++)this.flags&c.TRUN_FLAGS_DURATION&&t.writeUint32(this.sample_duration[e]),this.flags&c.TRUN_FLAGS_SIZE&&t.writeUint32(this.sample_size[e]),this.flags&c.TRUN_FLAGS_FLAGS&&t.writeUint32(this.sample_flags[e]),this.flags&c.TRUN_FLAGS_CTS_OFFSET&&(0===this.version?t.writeUint32(this.sample_composition_time_offset[e]):t.writeInt32(this.sample_composition_time_offset[e]))},c["url Box"].prototype.write=function(t){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(t),this.location&&t.writeCString(this.location)},c["urn Box"].prototype.write=function(t){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(t),t.writeCString(this.name),this.location&&t.writeCString(this.location)},c.vmhdBox.prototype.write=function(t){this.version=0,this.flags=1,this.size=8,this.writeHeader(t),t.writeUint16(this.graphicsmode),t.writeUint16Array(this.opcolor)},c.cttsBox.prototype.unpack=function(t){var e,i,n;for(n=0,e=0;e<this.sample_counts.length;e++)for(i=0;i<this.sample_counts[e];i++)t[n].pts=t[n].dts+this.sample_offsets[e],n++},c.sttsBox.prototype.unpack=function(t){var e,i,n;for(n=0,e=0;e<this.sample_counts.length;e++)for(i=0;i<this.sample_counts[e];i++)t[n].dts=0===n?0:t[n-1].dts+this.sample_deltas[e],n++},c.stcoBox.prototype.unpack=function(t){var e;for(e=0;e<this.chunk_offsets.length;e++)t[e].offset=this.chunk_offsets[e]},c.stscBox.prototype.unpack=function(t){var e,i,n,r,a;for(r=0,a=0,e=0;e<this.first_chunk.length;e++)for(i=0;i<(e+1<this.first_chunk.length?this.first_chunk[e+1]:1/0);i++)for(a++,n=0;n<this.samples_per_chunk[e];n++){if(!t[r])return;t[r].description_index=this.sample_description_index[e],t[r].chunk_index=a,r++}},c.stszBox.prototype.unpack=function(t){var e;for(e=0;e<this.sample_sizes.length;e++)t[e].size=this.sample_sizes[e]},c.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],c.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],c.boxEqualFields=function(t,e){if(t&&!e)return!1;var i;for(i in t)if(!(c.DIFF_BOXES_PROP_NAMES.indexOf(i)>-1)&&!(t[i]instanceof c.Box||e[i]instanceof c.Box)&&"undefined"!==typeof t[i]&&"undefined"!==typeof e[i]&&"function"!==typeof t[i]&&"function"!==typeof e[i]&&!(t.subBoxNames&&t.subBoxNames.indexOf(i.slice(0,4))>-1||e.subBoxNames&&e.subBoxNames.indexOf(i.slice(0,4))>-1)&&"data"!==i&&"start"!==i&&"size"!==i&&"creation_time"!==i&&"modification_time"!==i&&!(c.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(i)>-1)&&t[i]!==e[i])return!1;return!0},c.boxEqual=function(t,e){if(!c.boxEqualFields(t,e))return!1;for(var i=0;i<c.DIFF_BOXES_PROP_NAMES.length;i++){var n=c.DIFF_BOXES_PROP_NAMES[i];if(t[n]&&e[n]&&!c.boxEqual(t[n],e[n]))return!1}return!0};var h=function(){};h.prototype.parseSample=function(t){var e,i,n=new r(t.buffer);for(e=[];!n.isEos();)(i=c.parseOneBox(n,!1)).code===c.OK&&"vttc"===i.box.type&&e.push(i.box);return e},h.prototype.getText=function(t,e,i){function n(t,e,i){return i=i||"0",(t+="").length>=e?t:new Array(e-t.length+1).join(i)+t}function r(t){var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),r=Math.floor(t-3600*e-60*i),a=Math.floor(1e3*(t-3600*e-60*i-r));return n(e,2)+":"+n(i,2)+":"+n(r,2)+"."+n(a,3)}for(var a=this.parseSample(i),o="",s=0;s<a.length;s++){var l=a[s];o+=r(t)+" --\x3e "+r(e)+"\r\n",o+=l.payl.text}return o};var d=function(){};d.prototype.parseSample=function(t){var e,i={};i.resources=[];var n=new r(t.data.buffer);if(t.subsamples&&0!==t.subsamples.length){if(i.documentString=n.readString(t.subsamples[0].size),t.subsamples.length>1)for(e=1;e<t.subsamples.length;e++)i.resources[e]=n.readUint8Array(t.subsamples[e].size)}else i.documentString=n.readString(t.data.length);return"undefined"!==typeof DOMParser&&(i.document=(new DOMParser).parseFromString(i.documentString,"application/xml")),i};var u=function(){};u.prototype.parseSample=function(t){return new r(t.data.buffer).readString(t.data.length)},u.prototype.parseConfig=function(t){var e=new r(t.buffer);return e.readUint32(),e.readCString()},e.XMLSubtitlein4Parser=d,e.Textin4Parser=u;var f=function(t){this.stream=t||new s,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};f.prototype.setSegmentOptions=function(t,e,i){var n=this.getTrackById(t);if(n){var r={};this.fragmentedTracks.push(r),r.id=t,r.user=e,r.trak=n,n.nextSample=0,r.segmentStream=null,r.nb_samples=1e3,r.rapAlignement=!0,i&&(i.nbSamples&&(r.nb_samples=i.nbSamples),i.rapAlignement&&(r.rapAlignement=i.rapAlignement))}},f.prototype.unsetSegmentOptions=function(t){for(var e=-1,i=0;i<this.fragmentedTracks.length;i++){this.fragmentedTracks[i].id==t&&(e=i)}e>-1&&this.fragmentedTracks.splice(e,1)},f.prototype.setExtractionOptions=function(t,e,i){var n=this.getTrackById(t);if(n){var r={};this.extractedTracks.push(r),r.id=t,r.user=e,r.trak=n,n.nextSample=0,r.nb_samples=1e3,r.samples=[],i&&i.nbSamples&&(r.nb_samples=i.nbSamples)}},f.prototype.unsetExtractionOptions=function(t){for(var e=-1,i=0;i<this.extractedTracks.length;i++){this.extractedTracks[i].id==t&&(e=i)}e>-1&&this.extractedTracks.splice(e,1)},f.prototype.parse=function(){var t,e;if(!this.restoreParsePosition||this.restoreParsePosition())for(;;){if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}if(this.saveParsePosition&&this.saveParsePosition(),(t=c.parseOneBox(this.stream,!1)).code===c.ERR_NOT_ENOUGH_DATA){if(this.processIncompleteBox){if(this.processIncompleteBox(t))continue;return}return}var i;switch(i="uuid"!==(e=t.box).type?e.type:e.uuid,this.boxes.push(e),i){case"mdat":this.mdats.push(e);break;case"moof":this.moofs.push(e);break;case"moov":this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0);default:void 0!==this[i]&&n.warn("ISOFile","Duplicate Box of type: "+i+", overriding previous occurrence"),this[i]=e}this.updateUsedBytes&&this.updateUsedBytes(e,t)}},f.prototype.checkBuffer=function(t){if(null===t||void 0===t)throw"Buffer must be defined and non empty";if(void 0===t.fileStart)throw"Buffer must have a fileStart property";return 0===t.byteLength?(n.warn("ISOFile","Ignoring empty buffer (fileStart: "+t.fileStart+")"),this.stream.logBufferLevel(),!1):(n.info("ISOFile","Processing buffer (fileStart: "+t.fileStart+")"),t.usedBytes=0,this.stream.insertBuffer(t),this.stream.logBufferLevel(),!!this.stream.initialized()||(n.warn("ISOFile","Not ready to start parsing"),!1))},f.prototype.appendBuffer=function(t,e){var i;if(this.checkBuffer(t))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(e),this.nextSeekPosition?(i=this.nextSeekPosition,this.nextSeekPosition=void 0):i=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(i=this.stream.getEndFilePositionAfter(i))):i=this.nextParsePosition?this.nextParsePosition:0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(n.info("ISOFile","Done processing buffer (fileStart: "+t.fileStart+") - next buffer to fetch should have a fileStart position of "+i),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),n.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),i},f.prototype.getInfo=function(){var t,e,i,n,r,a={},o=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(a.hasMoov=!0,a.duration=this.moov.mvhd.duration,a.timescale=this.moov.mvhd.timescale,a.isFragmented=null!=this.moov.mvex,a.isFragmented&&this.moov.mvex.mehd&&(a.fragment_duration=this.moov.mvex.mehd.fragment_duration),a.isProgressive=this.isProgressive,a.hasIOD=null!=this.moov.iods,a.brands=[],a.brands.push(this.ftyp.major_brand),a.brands=a.brands.concat(this.ftyp.compatible_brands),a.created=new Date(o+1e3*this.moov.mvhd.creation_time),a.modified=new Date(o+1e3*this.moov.mvhd.modification_time),a.tracks=[],a.audioTracks=[],a.videoTracks=[],a.subtitleTracks=[],a.metadataTracks=[],a.hintTracks=[],a.otherTracks=[],t=0;t<this.moov.traks.length;t++){if(r=(i=this.moov.traks[t]).mdia.minf.stbl.stsd.entries[0],n={},a.tracks.push(n),n.id=i.tkhd.track_id,n.name=i.mdia.hdlr.name,n.references=[],i.tref)for(e=0;e<i.tref.boxes.length;e++)ref={},n.references.push(ref),ref.type=i.tref.boxes[e].type,ref.track_ids=i.tref.boxes[e].track_ids;i.edts&&(n.edits=i.edts.elst.entries),n.created=new Date(o+1e3*i.tkhd.creation_time),n.modified=new Date(o+1e3*i.tkhd.modification_time),n.movie_duration=i.tkhd.duration,n.movie_timescale=a.timescale,n.layer=i.tkhd.layer,n.alternate_group=i.tkhd.alternate_group,n.volume=i.tkhd.volume,n.matrix=i.tkhd.matrix,n.track_width=i.tkhd.width/65536,n.track_height=i.tkhd.height/65536,n.timescale=i.mdia.mdhd.timescale,n.cts_shift=i.mdia.minf.stbl.cslg,n.duration=i.mdia.mdhd.duration,n.samples_duration=i.samples_duration,n.codec=r.getCodec(),n.kind=i.udta&&i.udta.kinds.length?i.udta.kinds[0]:{schemeURI:"",value:""},n.language=i.mdia.elng?i.mdia.elng.extended_language:i.mdia.mdhd.languageString,n.nb_samples=i.samples.length,n.size=i.samples_size,n.bitrate=8*n.size*n.timescale/n.samples_duration,r.isAudio()?(n.type="audio",a.audioTracks.push(n),n.audio={},n.audio.sample_rate=r.getSampleRate(),n.audio.channel_count=r.getChannelCount(),n.audio.sample_size=r.getSampleSize()):r.isVideo()?(n.type="video",a.videoTracks.push(n),n.video={},n.video.width=r.getWidth(),n.video.height=r.getHeight()):r.isSubtitle()?(n.type="subtitles",a.subtitleTracks.push(n)):r.isHint()?(n.type="metadata",a.hintTracks.push(n)):r.isMetadata()?(n.type="metadata",a.metadataTracks.push(n)):(n.type="metadata",a.otherTracks.push(n))}else a.hasMoov=!1;if(a.mime="",a.hasMoov&&a.tracks){for(a.videoTracks&&a.videoTracks.length>0?a.mime+='video/mp4; codecs="':a.audioTracks&&a.audioTracks.length>0?a.mime+='audio/mp4; codecs="':a.mime+='application/mp4; codecs="',t=0;t<a.tracks.length;t++)0!==t&&(a.mime+=","),a.mime+=a.tracks[t].codec;a.mime+='"; profiles="',a.mime+=this.ftyp.compatible_brands.join(),a.mime+='"'}return a},f.prototype.processSamples=function(t){var e,i;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&null!==this.onSegment)for(e=0;e<this.fragmentedTracks.length;e++){var r=this.fragmentedTracks[e];for(i=r.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){n.debug("ISOFile","Creating media fragment on track #"+r.id+" for sample "+i.nextSample);var a=this.createFragment(r.id,i.nextSample,r.segmentStream);if(!a)break;if(r.segmentStream=a,i.nextSample++,(i.nextSample%r.nb_samples===0||t&&i.nextSample>=i.samples.length)&&(n.info("ISOFile","Sending fragmented data on track #"+r.id+" for samples ["+Math.max(0,i.nextSample-r.nb_samples)+","+(i.nextSample-1)+"]"),n.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(r.id,r.user,r.segmentStream.buffer,i.nextSample,t&&i.nextSample>=i.samples.length),r.segmentStream=null,r!==this.fragmentedTracks[e]))break}}if(null!==this.onSamples)for(e=0;e<this.extractedTracks.length;e++){var o=this.extractedTracks[e];for(i=o.trak;i.nextSample<i.samples.length&&this.sampleProcessingStarted;){n.debug("ISOFile","Exporting on track #"+o.id+" sample #"+i.nextSample);var s=this.getSample(i,i.nextSample);if(!s)break;if(i.nextSample++,o.samples.push(s),(i.nextSample%o.nb_samples===0||i.nextSample>=i.samples.length)&&(n.debug("ISOFile","Sending samples on track #"+o.id+" for sample "+i.nextSample),this.onSamples&&this.onSamples(o.id,o.user,o.samples),o.samples=[],o!==this.extractedTracks[e]))break}}}},f.prototype.getBox=function(t){var e=this.getBoxes(t,!0);return e.length?e[0]:null},f.prototype.getBoxes=function(t,e){var i=[];return f._sweep.call(this,t,i,e),i},f._sweep=function(t,e,i){for(var n in this.type&&this.type==t&&e.push(this),this.boxes){if(e.length&&i)return;f._sweep.call(this.boxes[n],t,e,i)}},f.prototype.getTrackSamplesInfo=function(t){var e=this.getTrackById(t);return e?e.samples:void 0},f.prototype.getTrackSample=function(t,e){var i=this.getTrackById(t);return this.getSample(i,e)},f.prototype.releaseUsedSamples=function(t,e){var i=0,r=this.getTrackById(t);r.lastValidSample||(r.lastValidSample=0);for(var a=r.lastValidSample;a<e;a++)i+=this.releaseSample(r,a);n.info("ISOFile","Track #"+t+" released samples up to "+e+" (released size: "+i+", remaining: "+this.samplesDataSize+")"),r.lastValidSample=e},f.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},f.prototype.stop=function(){this.sampleProcessingStarted=!1},f.prototype.flush=function(){n.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},f.prototype.seekTrack=function(t,e,i){var r,a,o,s,l=0,c=0;if(0===i.samples.length)return n.info("ISOFile","No sample in track, cannot seek! Using time "+n.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(r=0;r<i.samples.length;r++){if(a=i.samples[r],0===r)c=0,s=a.timescale;else if(a.cts>t*a.timescale){c=r-1;break}e&&a.is_sync&&(l=r)}for(e&&(c=l),t=i.samples[c].cts,i.nextSample=c;i.samples[c].alreadyRead===i.samples[c].size&&i.samples[c+1];)c++;return o=i.samples[c].offset+i.samples[c].alreadyRead,n.info("ISOFile","Seeking to "+(e?"RAP":"")+" sample #"+i.nextSample+" on track "+i.tkhd.track_id+", time "+n.getDurationString(t,s)+" and offset: "+o),{offset:o,time:t/s}},f.prototype.seek=function(t,e){var i,r,a,o=this.moov,s={offset:1/0,time:1/0};if(this.moov){for(a=0;a<o.traks.length;a++)i=o.traks[a],(r=this.seekTrack(t,e,i)).offset<s.offset&&(s.offset=r.offset),r.time<s.time&&(s.time=r.time);return n.info("ISOFile","Seeking at time "+n.getDurationString(s.time,1)+" needs a buffer with a fileStart position of "+s.offset),s.offset===1/0?s={offset:this.nextParsePosition,time:0}:s.offset=this.stream.getEndFilePositionAfter(s.offset),n.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+s.offset),s}throw"Cannot seek: moov not received!"},f.prototype.equal=function(t){for(var e=0;e<this.boxes.length&&e<t.boxes.length;){var i=this.boxes[e],n=t.boxes[e];if(!c.boxEqual(i,n))return!1;e++}return!0},e.ISOFile=f,f.prototype.lastBoxStartPosition=0,f.prototype.parsingMdat=null,f.prototype.nextParsePosition=0,f.prototype.discardMdatData=!1,f.prototype.processIncompleteBox=function(t){var e;return"mdat"===t.type?(e=new c[t.type+"Box"](t.size),this.parsingMdat=e,this.boxes.push(e),this.mdats.push(e),e.start=t.start,e.hdr_size=t.hdr_size,this.stream.addUsedBytes(e.hdr_size),this.lastBoxStartPosition=e.start+e.size,this.stream.seek(e.start+e.size,!1,this.discardMdatData)?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=e.start+e.size,!1)):("moov"===t.type&&(this.moovStartFound=!0,0===this.mdats.length&&(this.isProgressive=!0)),!!this.stream.mergeNextBuffer&&this.stream.mergeNextBuffer()?(this.nextParsePosition=this.stream.getEndPosition(),!0):(t.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+t.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},f.prototype.hasIncompleteMdat=function(){return null!==this.parsingMdat},f.prototype.processIncompleteMdat=function(){var t;return t=this.parsingMdat,this.stream.seek(t.start+t.size,!1,this.discardMdatData)?(n.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},f.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},f.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},f.prototype.updateUsedBytes=function(t,e){this.stream.addUsedBytes&&("mdat"===t.type?(this.stream.addUsedBytes(t.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(t.size-t.hdr_size)):this.stream.addUsedBytes(t.size))},f.prototype.add=c.Box.prototype.add,f.prototype.addBox=c.Box.prototype.addBox,f.prototype.init=function(t){var e=t||{},i=(this.add("ftyp").set("major_brand",e.brands&&e.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",e.brands||["iso4"]),this.add("moov"));return i.add("mvhd").set("timescale",e.timescale||600).set("rate",e.rate||1).set("creation_time",0).set("modification_time",0).set("duration",e.duration||0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("next_track_id",1),i.add("mvex"),this},f.prototype.addTrack=function(t){this.moov||this.init(t);var e=t||{};e.width=e.width||320,e.height=e.height||320,e.id=e.id||this.moov.mvhd.next_track_id,e.type=e.type||"avc1";var i=this.moov.add("trak");this.moov.mvhd.next_track_id=e.id+1,i.add("tkhd").set("flags",c.TKHD_FLAG_ENABLED|c.TKHD_FLAG_IN_MOVIE|c.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",e.id).set("duration",e.duration||0).set("layer",e.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",e.width).set("height",e.height);var n=i.add("mdia");n.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",e.timescale||1).set("duration",e.media_duration||0).set("language",e.language||0),n.add("hdlr").set("handler",e.hdlr||"vide").set("name",e.name||"Track created with MP4Box.js"),n.add("elng").set("extended_language",e.language||"fr-FR");var r=n.add("minf");if(void 0!==c[e.type+"SampleEntry"]){var a=new c[e.type+"SampleEntry"];a.data_reference_index=1;var o="";for(var s in c.sampleEntryCodes)for(var l=c.sampleEntryCodes[s],h=0;h<l.length;h++)if(l.indexOf(e.type)>-1){o=s;break}switch(o){case"Visual":r.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),a.set("width",e.width).set("height",e.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",e.type+" Compressor").set("depth",24);break;case"Audio":r.add("smhd").set("balance",e.balance||0),a.set("channel_count",e.channel_count||2).set("samplesize",e.samplesize||16).set("samplerate",e.samplerate||65536);break;case"Hint":r.add("hmhd");break;case"Subtitle":switch(r.add("sthd"),e.type){case"stpp":a.set("namespace",e.namespace||"nonamespace").set("schema_location",e.schema_location||"").set("auxiliary_mime_types",e.auxiliary_mime_types||"")}break;case"Metadata":case"System":default:r.add("nmhd")}e.description&&a.addBox(e.description),r.add("dinf").add("dref").addEntry((new c["url Box"]).set("flags",1));var d=r.add("stbl");return d.add("stsd").addEntry(a),d.add("stts").set("sample_counts",[]).set("sample_deltas",[]),d.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),d.add("stco").set("chunk_offsets",[]),d.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",e.id).set("default_sample_description_index",e.default_sample_description_index||1).set("default_sample_duration",e.default_sample_duration||0).set("default_sample_size",e.default_sample_size||0).set("default_sample_flags",e.default_sample_flags||0),this.buildTrakSampleLists(i),e.id}},c.Box.prototype.computeSize=function(t){var e=t||new a;e.endianness=a.BIG_ENDIAN,this.write(e)},f.prototype.addSample=function(t,e,i){var n=i||{},r={},a=this.getTrackById(t);if(null!==a){r.number=a.samples.length,r.track_id=a.tkhd.track_id,r.timescale=a.mdia.mdhd.timescale,r.description_index=n.sample_description_index?n.sample_description_index-1:0,r.description=a.mdia.minf.stbl.stsd.entries[r.description_index],r.data=e,r.size=e.length,r.alreadyRead=r.size,r.duration=n.duration||1,r.cts=n.cts||0,r.dts=n.dts||0,r.is_sync=n.is_sync||!1,r.is_leading=n.is_leading||0,r.depends_on=n.depends_on||0,r.is_depended_on=n.is_depended_on||0,r.has_redundancy=n.has_redundancy||0,r.degradation_priority=n.degradation_priority||0,r.offset=0,r.subsamples=n.subsamples,a.samples.push(r),a.samples_size+=r.size,a.samples_duration+=r.duration,this.processSamples();var o=f.createSingleSampleMoof(r);return this.addBox(o),o.computeSize(),o.trafs[0].truns[0].data_offset=o.size+8,this.add("mdat").data=e,r}},f.createSingleSampleMoof=function(t){var e=new c.moofBox;e.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var i=e.add("traf");return i.add("tfhd").set("track_id",t.track_id).set("flags",c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),i.add("tfdt").set("baseMediaDecodeTime",t.dts),i.add("trun").set("flags",c.TRUN_FLAGS_DATA_OFFSET|c.TRUN_FLAGS_DURATION|c.TRUN_FLAGS_SIZE|c.TRUN_FLAGS_FLAGS|c.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[t.duration]).set("sample_size",[t.size]).set("sample_flags",[0]).set("sample_composition_time_offset",[t.cts-t.dts]),e},f.prototype.lastMoofIndex=0,f.prototype.samplesDataSize=0,f.prototype.resetTables=function(){var t,e,i,n,r,a;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,t=0;t<this.moov.traks.length;t++){(e=this.moov.traks[t]).tkhd.duration=0,e.mdia.mdhd.duration=0,(e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64).chunk_offsets=[],(i=e.mdia.minf.stbl.stsc).first_chunk=[],i.samples_per_chunk=[],i.sample_description_index=[],(e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2).sample_sizes=[],(n=e.mdia.minf.stbl.stts).sample_counts=[],n.sample_deltas=[],(r=e.mdia.minf.stbl.ctts)&&(r.sample_counts=[],r.sample_offsets=[]),a=e.mdia.minf.stbl.stss;var o=e.mdia.minf.stbl.boxes.indexOf(a);-1!=o&&(e.mdia.minf.stbl.boxes[o]=null)}},f.initSampleGroups=function(t,e,i,n,r){var a,o,s,l;function c(t,e,i){this.grouping_type=t,this.grouping_type_parameter=e,this.sbgp=i,this.last_sample_in_run=-1,this.entry_index=-1}for(e&&(e.sample_groups_info=[]),t.sample_groups_info||(t.sample_groups_info=[]),o=0;o<i.length;o++){for(l=i[o].grouping_type+"/"+i[o].grouping_type_parameter,s=new c(i[o].grouping_type,i[o].grouping_type_parameter,i[o]),e&&(e.sample_groups_info[l]=s),t.sample_groups_info[l]||(t.sample_groups_info[l]=s),a=0;a<n.length;a++)n[a].grouping_type===i[o].grouping_type&&(s.description=n[a],s.description.used=!0);if(r)for(a=0;a<r.length;a++)r[a].grouping_type===i[o].grouping_type&&(s.fragment_description=r[a],s.fragment_description.used=!0,s.is_fragment=!0)}if(e){if(r)for(o=0;o<r.length;o++)!r[o].used&&r[o].version>=2&&(l=r[o].grouping_type+"/0",(s=new c(r[o].grouping_type,0)).is_fragment=!0,e.sample_groups_info[l]||(e.sample_groups_info[l]=s))}else for(o=0;o<n.length;o++)!n[o].used&&n[o].version>=2&&(l=n[o].grouping_type+"/0",s=new c(n[o].grouping_type,0),t.sample_groups_info[l]||(t.sample_groups_info[l]=s))},f.setSampleGroupProperties=function(t,e,i,n){var r,a;for(r in e.sample_groups=[],n){var o;if(e.sample_groups[r]={},e.sample_groups[r].grouping_type=n[r].grouping_type,e.sample_groups[r].grouping_type_parameter=n[r].grouping_type_parameter,i>=n[r].last_sample_in_run&&(n[r].last_sample_in_run<0&&(n[r].last_sample_in_run=0),n[r].entry_index++,n[r].entry_index<=n[r].sbgp.entries.length-1&&(n[r].last_sample_in_run+=n[r].sbgp.entries[n[r].entry_index].sample_count)),n[r].entry_index<=n[r].sbgp.entries.length-1?e.sample_groups[r].group_description_index=n[r].sbgp.entries[n[r].entry_index].group_description_index:e.sample_groups[r].group_description_index=-1,0!==e.sample_groups[r].group_description_index)o=n[r].fragment_description?n[r].fragment_description:n[r].description,e.sample_groups[r].group_description_index>0?(a=e.sample_groups[r].group_description_index>65535?(e.sample_groups[r].group_description_index>>16)-1:e.sample_groups[r].group_description_index-1,o&&a>=0&&(e.sample_groups[r].description=o.entries[a])):o&&o.version>=2&&o.default_group_description_index>0&&(e.sample_groups[r].description=o.entries[o.default_group_description_index-1])}},f.process_sdtp=function(t,e,i){e&&(t?(e.is_leading=t.is_leading[i],e.depends_on=t.sample_depends_on[i],e.is_depended_on=t.sample_is_depended_on[i],e.has_redundancy=t.sample_has_redundancy[i]):(e.is_leading=0,e.depends_on=0,e.is_depended_on=0,e.has_redundancy=0))},f.prototype.buildSampleLists=function(){var t;for(t=0;t<this.moov.traks.length;t++)trak=this.moov.traks[t],this.buildTrakSampleLists(trak)},f.prototype.buildTrakSampleLists=function(t){var e,i,n,r,a,o,s,l,c,h,d,u,p,m,g,y,v,b,_,w,x,S,E,U;if(t.samples=[],t.samples_duration=0,t.samples_size=0,i=t.mdia.minf.stbl.stco||t.mdia.minf.stbl.co64,n=t.mdia.minf.stbl.stsc,r=t.mdia.minf.stbl.stsz||t.mdia.minf.stbl.stz2,a=t.mdia.minf.stbl.stts,o=t.mdia.minf.stbl.ctts,s=t.mdia.minf.stbl.stss,l=t.mdia.minf.stbl.stsd,c=t.mdia.minf.stbl.subs,u=t.mdia.minf.stbl.stdp,h=t.mdia.minf.stbl.sbgps,d=t.mdia.minf.stbl.sgpds,b=-1,_=-1,w=-1,x=-1,S=0,E=0,U=0,f.initSampleGroups(t,null,h,d),"undefined"!==typeof r){for(e=0;e<r.sample_sizes.length;e++){var C={};C.number=e,C.track_id=t.tkhd.track_id,C.timescale=t.mdia.mdhd.timescale,C.alreadyRead=0,t.samples[e]=C,C.size=r.sample_sizes[e],t.samples_size+=C.size,0===e?(m=1,p=0,C.chunk_index=m,C.chunk_run_index=p,v=n.samples_per_chunk[p],y=0,g=p+1<n.first_chunk.length?n.first_chunk[p+1]-1:1/0):e<v?(C.chunk_index=m,C.chunk_run_index=p):(m++,C.chunk_index=m,y=0,m<=g||(g=++p+1<n.first_chunk.length?n.first_chunk[p+1]-1:1/0),C.chunk_run_index=p,v+=n.samples_per_chunk[p]),C.description_index=n.sample_description_index[C.chunk_run_index]-1,C.description=l.entries[C.description_index],C.offset=i.chunk_offsets[C.chunk_index-1]+y,y+=C.size,e>b&&(_++,b<0&&(b=0),b+=a.sample_counts[_]),e>0?(t.samples[e-1].duration=a.sample_deltas[_],t.samples_duration+=t.samples[e-1].duration,C.dts=t.samples[e-1].dts+t.samples[e-1].duration):C.dts=0,o?(e>=w&&(x++,w<0&&(w=0),w+=o.sample_counts[x]),C.cts=t.samples[e].dts+o.sample_offsets[x]):C.cts=C.dts,s?(e==s.sample_numbers[S]-1?(C.is_sync=!0,S++):(C.is_sync=!1,C.degradation_priority=0),c&&c.entries[E].sample_delta+U==e+1&&(C.subsamples=c.entries[E].subsamples,U+=c.entries[E].sample_delta,E++)):C.is_sync=!0,f.process_sdtp(t.mdia.minf.stbl.sdtp,C,C.number),C.degradation_priority=u?u.priority[e]:0,c&&c.entries[E].sample_delta+U==e&&(C.subsamples=c.entries[E].subsamples,U+=c.entries[E].sample_delta),(h.length>0||d.length>0)&&f.setSampleGroupProperties(t,C,e,t.sample_groups_info)}e>0&&(t.samples[e-1].duration=Math.max(t.mdia.mdhd.duration-t.samples[e-1].dts,0),t.samples_duration+=t.samples[e-1].duration)}},f.prototype.updateSampleLists=function(){var t,e,i,n,r,a,o,s,l,h,d,u,p,m,g;if(void 0!==this.moov)for(;this.lastMoofIndex<this.moofs.length;)if(l=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,"moof"==l.type)for(h=l,t=0;t<h.trafs.length;t++){for(d=h.trafs[t],u=this.getTrackById(d.tfhd.track_id),p=this.getTrexById(d.tfhd.track_id),n=d.tfhd.flags&c.TFHD_FLAG_SAMPLE_DESC?d.tfhd.default_sample_description_index:p?p.default_sample_description_index:1,r=d.tfhd.flags&c.TFHD_FLAG_SAMPLE_DUR?d.tfhd.default_sample_duration:p?p.default_sample_duration:0,a=d.tfhd.flags&c.TFHD_FLAG_SAMPLE_SIZE?d.tfhd.default_sample_size:p?p.default_sample_size:0,o=d.tfhd.flags&c.TFHD_FLAG_SAMPLE_FLAGS?d.tfhd.default_sample_flags:p?p.default_sample_flags:0,d.sample_number=0,d.sbgps.length>0&&f.initSampleGroups(u,d,d.sbgps,u.mdia.minf.stbl.sgpds,d.sgpds),e=0;e<d.truns.length;e++){var y=d.truns[e];for(i=0;i<y.sample_count;i++){(m={}).number_in_traf=d.sample_number,d.sample_number++,m.number=u.samples.length,d.first_sample_index=u.samples.length,u.samples.push(m),m.track_id=u.tkhd.track_id,m.timescale=u.mdia.mdhd.timescale,m.description_index=n-1,m.description=u.mdia.minf.stbl.stsd.entries[m.description_index],m.size=a,y.flags&c.TRUN_FLAGS_SIZE&&(m.size=y.sample_size[i]),u.samples_size+=m.size,m.duration=r,y.flags&c.TRUN_FLAGS_DURATION&&(m.duration=y.sample_duration[i]),u.samples_duration+=m.duration,u.first_traf_merged||i>0?m.dts=u.samples[u.samples.length-2].dts+u.samples[u.samples.length-2].duration:(d.tfdt?m.dts=d.tfdt.baseMediaDecodeTime:m.dts=0,u.first_traf_merged=!0),m.cts=m.dts,y.flags&c.TRUN_FLAGS_CTS_OFFSET&&(m.cts=m.dts+y.sample_composition_time_offset[i]),g=o,y.flags&c.TRUN_FLAGS_FLAGS?g=y.sample_flags[i]:0===i&&y.flags&c.TRUN_FLAGS_FIRST_FLAG&&(g=y.first_sample_flags),m.is_sync=!(g>>16&1),m.is_leading=g>>26&3,m.depends_on=g>>24&3,m.is_depended_on=g>>22&3,m.has_redundancy=g>>20&3,m.degradation_priority=65535&g;var v=!!(d.tfhd.flags&c.TFHD_FLAG_BASE_DATA_OFFSET),b=!!(d.tfhd.flags&c.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),_=!!(y.flags&c.TRUN_FLAGS_DATA_OFFSET),w=0;w=v?d.tfhd.base_data_offset:b?h.start:0===e?h.start:s,m.offset=0===e&&0===i?_?w+y.data_offset:w:s,s=m.offset+m.size,(d.sbgps.length>0||d.sgpds.length>0||u.mdia.minf.stbl.sbgps.length>0||u.mdia.minf.stbl.sgpds.length>0)&&f.setSampleGroupProperties(u,m,m.number_in_traf,d.sample_groups_info)}}if(d.subs){u.has_fragment_subsamples=!0;var x=d.first_sample_index;for(e=0;e<d.subs.entries.length;e++)x+=d.subs.entries[e].sample_delta,(m=u.samples[x-1]).subsamples=d.subs.entries[e].subsamples}}},f.prototype.getSample=function(t,e){var i,r=t.samples[e];if(!this.moov)return null;if(r.data){if(r.alreadyRead==r.size)return r}else r.data=new Uint8Array(r.size),r.alreadyRead=0,this.samplesDataSize+=r.size,n.debug("ISOFile","Allocating sample #"+e+" on track #"+t.tkhd.track_id+" of size "+r.size+" (total: "+this.samplesDataSize+")");var o=this.stream.findPosition(!0,r.offset+r.alreadyRead,!1);if(o>-1){var s=(i=this.stream.buffers[o]).byteLength-(r.offset+r.alreadyRead-i.fileStart);return r.size-r.alreadyRead<=s?(n.debug("ISOFile","Getting sample #"+e+" data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+(r.size-r.alreadyRead)+" full size: "+r.size+")"),a.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,r.size-r.alreadyRead),i.usedBytes+=r.size-r.alreadyRead,this.stream.logBufferLevel(),r.alreadyRead=r.size,r):(n.debug("ISOFile","Getting sample #"+e+" partial data (alreadyRead: "+r.alreadyRead+" offset: "+(r.offset+r.alreadyRead-i.fileStart)+" read size: "+s+" full size: "+r.size+")"),a.memcpy(r.data.buffer,r.alreadyRead,i,r.offset+r.alreadyRead-i.fileStart,s),r.alreadyRead+=s,i.usedBytes+=s,this.stream.logBufferLevel(),null)}return null},f.prototype.releaseSample=function(t,e){var i=t.samples[e];return i.data?(this.samplesDataSize-=i.size,i.data=null,i.alreadyRead=0,i.size):0},f.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},f.prototype.getCodecs=function(){var t,e="";for(t=0;t<this.moov.traks.length;t++){t>0&&(e+=","),e+=this.moov.traks[t].mdia.minf.stbl.stsd.entries[0].getCodec()}return e},f.prototype.getTrexById=function(t){var e;if(!this.moov||!this.moov.mvex)return null;for(e=0;e<this.moov.mvex.trexs.length;e++){var i=this.moov.mvex.trexs[e];if(i.track_id==t)return i}return null},f.prototype.getTrackById=function(t){if(void 0===this.moov)return null;for(var e=0;e<this.moov.traks.length;e++){var i=this.moov.traks[e];if(i.tkhd.track_id==t)return i}return null},f.prototype.items=[],f.prototype.itemsDataSize=0,f.prototype.flattenItemInfo=function(){var t,e,i,r=this.items,a=this.meta;if(null!==a&&void 0!==a&&void 0!==a.hdlr&&void 0!==a.iinf){for(t=0;t<a.iinf.item_infos.length;t++)(i={}).id=a.iinf.item_infos[t].item_ID,r[i.id]=i,i.ref_to=[],i.name=a.iinf.item_infos[t].item_name,a.iinf.item_infos[t].protection_index>0&&(i.protection=a.ipro.protections[a.iinf.item_infos[t].protection_index-1]),a.iinf.item_infos[t].item_type?i.type=a.iinf.item_infos[t].item_type:i.type="mime",i.content_type=a.iinf.item_infos[t].content_type,i.content_encoding=a.iinf.item_infos[t].content_encoding;if(a.iloc)for(t=0;t<a.iloc.items.length;t++){var o=a.iloc.items[t];switch(i=r[o.item_ID],0!==o.data_reference_index&&(n.warn("Item storage with reference to other files: not supported"),i.source=a.dinf.boxes[o.data_reference_index-1]),o.construction_method){case 0:break;case 1:case 2:n.warn("Item storage with construction_method : not supported")}for(i.extents=[],i.size=0,e=0;e<o.extents.length;e++)i.extents[e]={},i.extents[e].offset=o.extents[e].extent_offset+o.base_offset,i.extents[e].length=o.extents[e].extent_length,i.extents[e].alreadyRead=0,i.size+=i.extents[e].length}if(a.pitm&&(r[a.pitm.item_id].primary=!0),a.iref)for(t=0;t<a.iref.references.length;t++){var s=a.iref.references[t];for(e=0;e<s.references.length;e++)r[s.from_item_ID].ref_to.push({type:s.type,id:s.references[e]})}if(a.iprp)for(var l=0;l<a.iprp.ipmas.length;l++){var c=a.iprp.ipmas[l];for(t=0;t<c.associations.length;t++){var h=c.associations[t];for(void 0===(i=r[h.id]).properties&&(i.properties={},i.properties.boxes=[]),e=0;e<h.props.length;e++){var d=h.props[e];if(d.property_index>0){var u=a.iprp.ipco.boxes[d.property_index-1];i.properties[u.type]=u,i.properties.boxes.push(u)}}}}}},f.prototype.getItem=function(t){var e,i;if(!this.meta)return null;if(!(i=this.items[t]).data&&i.size)i.data=new Uint8Array(i.size),i.alreadyRead=0,this.itemsDataSize+=i.size,n.debug("ISOFile","Allocating item #"+t+" of size "+i.size+" (total: "+this.itemsDataSize+")");else if(i.alreadyRead===i.size)return i;for(var r=0;r<i.extents.length;r++){var o=i.extents[r];if(o.alreadyRead!==o.length){var s=this.stream.findPosition(!0,o.offset+o.alreadyRead,!1);if(!(s>-1))return null;var l=(e=this.stream.buffers[s]).byteLength-(o.offset+o.alreadyRead-e.fileStart);if(!(o.length-o.alreadyRead<=l))return n.debug("ISOFile","Getting item #"+t+" extent #"+r+" partial data (alreadyRead: "+o.alreadyRead+" offset: "+(o.offset+o.alreadyRead-e.fileStart)+" read size: "+l+" full extent size: "+o.length+" full item size: "+i.size+")"),a.memcpy(i.data.buffer,i.alreadyRead,e,o.offset+o.alreadyRead-e.fileStart,l),o.alreadyRead+=l,i.alreadyRead+=l,e.usedBytes+=l,this.stream.logBufferLevel(),null;n.debug("ISOFile","Getting item #"+t+" extent #"+r+" data (alreadyRead: "+o.alreadyRead+" offset: "+(o.offset+o.alreadyRead-e.fileStart)+" read size: "+(o.length-o.alreadyRead)+" full extent size: "+o.length+" full item size: "+i.size+")"),a.memcpy(i.data.buffer,i.alreadyRead,e,o.offset+o.alreadyRead-e.fileStart,o.length-o.alreadyRead),e.usedBytes+=o.length-o.alreadyRead,this.stream.logBufferLevel(),o.alreadyRead=o.length,i.alreadyRead+=o.length}}return i.alreadyRead===i.size?i:null},f.prototype.releaseItem=function(t){var e=this.items[t];if(e.data){this.itemsDataSize-=e.size,e.data=null,e.alreadyRead=0;for(var i=0;i<e.extents.length;i++){e.extents[i].alreadyRead=0}return e.size}return 0},f.prototype.processItems=function(t){for(var e in this.items){var i=this.items[e];this.getItem(i.id),t&&!i.sent&&(t(i),i.sent=!0,i.data=null)}},f.prototype.hasItem=function(t){for(var e in this.items){var i=this.items[e];if(i.name===t)return i.id}return-1},f.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},f.prototype.getPrimaryItem=function(){return this.meta&&this.meta.pitm?this.getItem(this.meta.pitm.item_id):null},f.prototype.write=function(t){for(var e=0;e<this.boxes.length;e++)this.boxes[e].write(t)},f.prototype.createFragment=function(t,e,i){var r=this.getTrackById(t),o=this.getSample(r,e);if(null==o)return o=r.samples[e],this.nextSeekPosition?this.nextSeekPosition=Math.min(o.offset+o.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=r.samples[e].offset+o.alreadyRead,null;var s=i||new a;s.endianness=a.BIG_ENDIAN;var l=f.createSingleSampleMoof(o);l.write(s),l.trafs[0].truns[0].data_offset=l.size+8,n.debug("MP4Box","Adjusting data_offset with new value "+l.trafs[0].truns[0].data_offset),s.adjustUint32(l.trafs[0].truns[0].data_offset_position,l.trafs[0].truns[0].data_offset);var h=new c.mdatBox;return h.data=o.data,h.write(s),s},f.writeInitializationSegment=function(t,e,i,r){var o;n.debug("ISOFile","Generating initialization segment");var s=new a;s.endianness=a.BIG_ENDIAN,t.write(s);var l=e.add("mvex");for(i&&l.add("mehd").set("fragment_duration",i),o=0;o<e.traks.length;o++)l.add("trex").set("track_id",e.traks[o].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",r).set("default_sample_size",0).set("default_sample_flags",65536);return e.write(s),s.buffer},f.prototype.save=function(t){var e=new a;e.endianness=a.BIG_ENDIAN,this.write(e),e.save(t)},f.prototype.getBuffer=function(){var t=new a;return t.endianness=a.BIG_ENDIAN,this.write(t),t.buffer},f.prototype.initializeSegmentation=function(){var t,e,i,r;for(null===this.onSegment&&n.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),e=[],t=0;t<this.fragmentedTracks.length;t++){var a=new c.moovBox;a.mvhd=this.moov.mvhd,a.boxes.push(a.mvhd),i=this.getTrackById(this.fragmentedTracks[t].id),a.boxes.push(i),a.traks.push(i),(r={}).id=i.tkhd.track_id,r.user=this.fragmentedTracks[t].user,r.buffer=f.writeInitializationSegment(this.ftyp,a,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[t].samples.length>0?this.moov.traks[t].samples[0].duration:0),e.push(r)}return e},c.Box.prototype.printHeader=function(t){this.size+=8,this.size>o&&(this.size+=8),"uuid"===this.type&&(this.size+=16),t.log(t.indent+"size:"+this.size),t.log(t.indent+"type:"+this.type)},c.FullBox.prototype.printHeader=function(t){this.size+=4,c.Box.prototype.printHeader.call(this,t),t.log(t.indent+"version:"+this.version),t.log(t.indent+"flags:"+this.flags)},c.Box.prototype.print=function(t){this.printHeader(t)},c.ContainerBox.prototype.print=function(t){this.printHeader(t);for(var e=0;e<this.boxes.length;e++)if(this.boxes[e]){var i=t.indent;t.indent+=" ",this.boxes[e].print(t),t.indent=i}},f.prototype.print=function(t){t.indent="";for(var e=0;e<this.boxes.length;e++)this.boxes[e]&&this.boxes[e].print(t)},c.mvhdBox.prototype.print=function(t){c.FullBox.prototype.printHeader.call(this,t),t.log(t.indent+"creation_time: "+this.creation_time),t.log(t.indent+"modification_time: "+this.modification_time),t.log(t.indent+"timescale: "+this.timescale),t.log(t.indent+"duration: "+this.duration),t.log(t.indent+"rate: "+this.rate),t.log(t.indent+"volume: "+(this.volume>>8)),t.log(t.indent+"matrix: "+this.matrix.join(", ")),t.log(t.indent+"next_track_id: "+this.next_track_id)},c.tkhdBox.prototype.print=function(t){c.FullBox.prototype.printHeader.call(this,t),t.log(t.indent+"creation_time: "+this.creation_time),t.log(t.indent+"modification_time: "+this.modification_time),t.log(t.indent+"track_id: "+this.track_id),t.log(t.indent+"duration: "+this.duration),t.log(t.indent+"volume: "+(this.volume>>8)),t.log(t.indent+"matrix: "+this.matrix.join(", ")),t.log(t.indent+"layer: "+this.layer),t.log(t.indent+"alternate_group: "+this.alternate_group),t.log(t.indent+"width: "+this.width),t.log(t.indent+"height: "+this.height)};var p={createFile:function(t,e){var i=void 0===t||t,n=new f(e);return n.discardMdatData=!i,n}};e.createFile=p.createFile},624:function(t,e,i){"use strict";var n=i(201),r=i(135),a=i(136);i(12);function o(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=i(0),l=i.n(s),c=i(355),h=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return n=e,void((i=t).classList?i.classList.remove(n):"string"===typeof i.className?i.className=o(i.className,n):i.setAttribute("class",o(i.className&&i.className.baseVal||"",n)));var i,n})},d=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},e.onEnter=function(t,i){e.removeClasses(t,"exit"),e.addClass(t,i?"appear":"enter","base"),e.props.onEnter&&e.props.onEnter(t,i)},e.onEntering=function(t,i){var n=i?"appear":"enter";e.addClass(t,n,"active"),e.props.onEntering&&e.props.onEntering(t,i)},e.onEntered=function(t,i){var n=i?"appear":"enter";e.removeClasses(t,n),e.addClass(t,n,"done"),e.props.onEntered&&e.props.onEntered(t,i)},e.onExit=function(t){e.removeClasses(t,"appear"),e.removeClasses(t,"enter"),e.addClass(t,"exit","base"),e.props.onExit&&e.props.onExit(t)},e.onExiting=function(t){e.addClass(t,"exit","active"),e.props.onExiting&&e.props.onExiting(t)},e.onExited=function(t){e.removeClasses(t,"exit"),e.addClass(t,"exit","done"),e.props.onExited&&e.props.onExited(t)},e.getClassNames=function(t){var i=e.props.classNames,n="string"===typeof i,r=n?""+(n&&i?i+"-":"")+t:i[t];return{baseClassName:r,activeClassName:n?r+"-active":i[t+"Active"],doneClassName:n?r+"-done":i[t+"Done"]}},e}Object(a.a)(e,t);var i=e.prototype;return i.addClass=function(t,e,i){var n=this.getClassNames(e)[i+"ClassName"];"appear"===e&&"done"===i&&(n+=" "+this.getClassNames("enter").doneClassName),"active"===i&&t&&t.scrollTop,this.appliedClasses[e][i]=n,function(t,e){t&&e&&e.split(" ").forEach(function(e){return n=e,void((i=t).classList?i.classList.add(n):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(i,n)||("string"===typeof i.className?i.className=i.className+" "+n:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+n)));var i,n})}(t,n)},i.removeClasses=function(t,e){var i=this.appliedClasses[e],n=i.base,r=i.active,a=i.done;this.appliedClasses[e]={},n&&h(t,n),r&&h(t,r),a&&h(t,a)},i.render=function(){var t=this.props,e=(t.classNames,Object(r.a)(t,["classNames"]));return l.a.createElement(c.a,Object(n.a)({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(l.a.Component);d.defaultProps={classNames:""},d.propTypes={};e.a=d},625:function(t,e,i){"use strict";i.r(e);var n=i(13),r=i(52),a=i(3),o=i(0),s=(i(12),i(10)),l=i(15),c=i(69),h=i(36),d=i(45),u=i(28),f=i(62),p=i(43);function m(t){return t.substring(2).toLowerCase()}var g=o.forwardRef(function(t,e){var i=t.children,n=t.mouseEvent,r=void 0===n?"onClick":n,a=t.touchEvent,s=void 0===a?"onTouchEnd":a,l=t.onClickAway,c=o.useRef(!1),g=o.useRef(null),y=o.useRef(!1);o.useEffect(function(){return y.current=!0,function(){y.current=!1}},[]);var v=Object(u.a)(g,e),b=o.useCallback(function(t){Object(f.a)(v,h.findDOMNode(t))},[v]),_=Object(u.a)(i.ref,b),w=Object(p.a)(function(t){if(y.current)if(c.current)c.current=!1;else if(g.current){var e=Object(d.a)(g.current);e.documentElement&&e.documentElement.contains(t.target)&&!g.current.contains(t.target)&&l(t)}}),x=o.useCallback(function(){c.current=!0},[]);return o.useEffect(function(){if(!1!==s){var t=m(s),e=Object(d.a)(g.current);return e.addEventListener(t,w),e.addEventListener("touchmove",x),function(){e.removeEventListener(t,w),e.removeEventListener("touchmove",x)}}},[w,x,s]),o.useEffect(function(){if(!1!==r){var t=m(r),e=Object(d.a)(g.current);return e.addEventListener(t,w),function(){e.removeEventListener(t,w)}}},[w,r]),o.createElement(o.Fragment,null,o.cloneElement(i,{ref:_}))}),y=i(20),v=i(64),b=i(364),_=i(439),w=o.forwardRef(function(t,e){var i=t.action,r=t.anchorOrigin,l=(r=void 0===r?{vertical:"bottom",horizontal:"center"}:r).vertical,h=r.horizontal,d=t.autoHideDuration,u=void 0===d?null:d,f=t.children,m=t.classes,w=t.className,x=t.ClickAwayListenerProps,S=t.ContentProps,E=t.disableWindowBlurListener,U=void 0!==E&&E,C=t.message,O=t.onClose,T=t.onEnter,k=t.onEntered,A=t.onEntering,z=t.onExit,B=t.onExited,I=t.onExiting,M=t.onMouseEnter,L=t.onMouseLeave,P=t.open,N=t.resumeHideDuration,D=t.TransitionComponent,R=void 0===D?b.a:D,F=t.transitionDuration,j=void 0===F?{enter:c.b.enteringScreen,exit:c.b.leavingScreen}:F,H=t.TransitionProps,G=Object(n.a)(t,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),W=o.useRef(),Y=o.useState(!0),V=Y[0],X=Y[1],q=Object(p.a)(function(){O&&O.apply(void 0,arguments)}),$=Object(p.a)(function(t){O&&null!=t&&(clearTimeout(W.current),W.current=setTimeout(function(){q(null,"timeout")},t))});o.useEffect(function(){return P&&$(u),function(){clearTimeout(W.current)}},[P,u,$]);var K=function(){clearTimeout(W.current)},Z=o.useCallback(function(){null!=u&&$(null!=N?N:.5*u)},[u,N,$]);return o.useEffect(function(){if(!U&&P)return window.addEventListener("focus",Z),window.addEventListener("blur",K),function(){window.removeEventListener("focus",Z),window.removeEventListener("blur",K)}},[U,Z,P]),!P&&V?null:o.createElement(g,Object(a.a)({onClickAway:function(t){O&&O(t,"clickaway")}},x),o.createElement("div",Object(a.a)({className:Object(s.default)(m.root,m["anchorOrigin".concat(Object(y.a)(l)).concat(Object(y.a)(h))],w),onMouseEnter:function(t){M&&M(t),K()},onMouseLeave:function(t){L&&L(t),Z()},ref:e},G),o.createElement(R,Object(a.a)({appear:!0,in:P,onEnter:Object(v.a)(function(){X(!1)},T),onEntered:k,onEntering:A,onExit:z,onExited:Object(v.a)(function(){X(!0)},B),onExiting:I,timeout:j,direction:"top"===l?"down":"up"},H),f||o.createElement(_.a,Object(a.a)({message:C,action:i},S)))))}),x=Object(l.a)(function(t){var e={top:8},i={bottom:8},n={justifyContent:"flex-end"},o={justifyContent:"flex-start"},s={top:24},l={bottom:24},c={right:24},h={left:24},d={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:Object(a.a)({},e,Object(r.a)({},t.breakpoints.up("sm"),Object(a.a)({},s,{},d))),anchorOriginBottomCenter:Object(a.a)({},i,Object(r.a)({},t.breakpoints.up("sm"),Object(a.a)({},l,{},d))),anchorOriginTopRight:Object(a.a)({},e,{},n,Object(r.a)({},t.breakpoints.up("sm"),Object(a.a)({left:"auto"},s,{},c))),anchorOriginBottomRight:Object(a.a)({},i,{},n,Object(r.a)({},t.breakpoints.up("sm"),Object(a.a)({left:"auto"},l,{},c))),anchorOriginTopLeft:Object(a.a)({},e,{},o,Object(r.a)({},t.breakpoints.up("sm"),Object(a.a)({right:"auto"},s,{},h))),anchorOriginBottomLeft:Object(a.a)({},i,{},o,Object(r.a)({},t.breakpoints.up("sm"),Object(a.a)({right:"auto"},l,{},h)))}},{flip:!1,name:"MuiSnackbar"})(w);i.d(e,"default",function(){return x})},632:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(10)),s=i(15),l=i(102),c=a.forwardRef(function(t,e){var i=t.classes,s=t.className,c=Object(r.a)(t,["classes","className"]),h=a.useContext(l.a);return a.createElement("div",Object(n.a)({className:Object(o.default)(i.root,s,"flex-start"===h.alignItems&&i.alignItemsFlexStart),ref:e},c))});e.a=Object(s.a)(function(t){return{root:{minWidth:56,color:t.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}},{name:"MuiListItemIcon"})(c)},633:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(10)),s=i(15),l=i(151),c=i(102),h=a.forwardRef(function(t,e){var i=t.children,s=t.classes,h=t.className,d=t.disableTypography,u=void 0!==d&&d,f=t.inset,p=void 0!==f&&f,m=t.primary,g=t.primaryTypographyProps,y=t.secondary,v=t.secondaryTypographyProps,b=Object(r.a)(t,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),_=a.useContext(c.a).dense,w=null!=m?m:i;null==w||w.type===l.a||u||(w=a.createElement(l.a,Object(n.a)({variant:_?"body2":"body1",className:s.primary,component:"span",display:"block"},g),w));var x=y;return null==x||x.type===l.a||u||(x=a.createElement(l.a,Object(n.a)({variant:"body2",className:s.secondary,color:"textSecondary",display:"block"},v),x)),a.createElement("div",Object(n.a)({className:Object(o.default)(s.root,h,_&&s.dense,p&&s.inset,w&&x&&s.multiline),ref:e},b),w,x)});e.a=Object(s.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(h)},634:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(10)),s=i(15),l=a.forwardRef(function(t,e){var i=t.classes,s=t.className,l=Object(r.a)(t,["classes","className"]);return a.createElement("div",Object(n.a)({className:Object(o.default)(i.root,s),ref:e},l))});l.muiName="ListItemSecondaryAction",e.a=Object(s.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(l)},635:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(10)),s=i(15),l=i(25),c=i(20),h=i(137),d=a.forwardRef(function(t,e){var i=t.classes,s=t.className,l=t.color,d=void 0===l?"secondary":l,u=t.edge,f=void 0!==u&&u,p=t.size,m=void 0===p?"medium":p,g=Object(r.a)(t,["classes","className","color","edge","size"]),y=a.createElement("span",{className:i.thumb});return a.createElement("span",{className:Object(o.default)(i.root,s,{start:i.edgeStart,end:i.edgeEnd}[f],"small"===m&&i["size".concat(Object(c.a)(m))])},a.createElement(h.a,Object(n.a)({type:"checkbox",icon:y,checkedIcon:y,classes:{root:Object(o.default)(i.switchBase,i["color".concat(Object(c.a)(d))]),input:i.input,checked:i.checked,disabled:i.disabled},ref:e},g)),a.createElement("span",{className:i.track}))});e.a=Object(s.a)(function(t){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle"},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===t.palette.type?t.palette.grey[50]:t.palette.grey[400],transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===t.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(l.d)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[800]},"&$checked + $track":{backgroundColor:t.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===t.palette.type?t.palette.common.black:t.palette.common.white}},colorSecondary:{"&$checked":{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(l.d)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===t.palette.type?t.palette.grey[400]:t.palette.grey[800]},"&$checked + $track":{backgroundColor:t.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===t.palette.type?t.palette.common.black:t.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:t.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:"light"===t.palette.type?t.palette.common.black:t.palette.common.white,opacity:"light"===t.palette.type?.38:.3}}},{name:"MuiSwitch"})(d)},636:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(10)),s=i(15),l=i(25),c=a.forwardRef(function(t,e){var i=t.absolute,s=void 0!==i&&i,l=t.classes,c=t.className,h=t.component,d=void 0===h?"hr":h,u=t.flexItem,f=void 0!==u&&u,p=t.light,m=void 0!==p&&p,g=t.orientation,y=void 0===g?"horizontal":g,v=t.role,b=void 0===v?"hr"!==d?"separator":void 0:v,_=t.variant,w=void 0===_?"fullWidth":_,x=Object(r.a)(t,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return a.createElement(d,Object(n.a)({className:Object(o.default)(l.root,c,"fullWidth"!==w&&l[w],s&&l.absolute,f&&l.flexItem,m&&l.light,"vertical"===y&&l.vertical),role:b,ref:e},x))});e.a=Object(s.a)(function(t){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:t.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(l.d)(t.palette.divider,.08)},middle:{marginLeft:t.spacing(2),marginRight:t.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}},{name:"MuiDivider"})(c)},637:function(t,e,i){"use strict";var n=i(13),r=i(52),a=i(3),o=i(0),s=(i(12),i(10)),l=i(15),c=i(410),h=o.forwardRef(function(t,e){var i,r=t.classes,l=t.className,h=t.component,d=void 0===h?"li":h,u=t.disableGutters,f=void 0!==u&&u,p=t.role,m=void 0===p?"menuitem":p,g=t.selected,y=t.tabIndex,v=Object(n.a)(t,["classes","className","component","disableGutters","role","selected","tabIndex"]);return t.disabled||(i=void 0!==y?y:-1),o.createElement(c.a,Object(a.a)({button:!0,role:m,tabIndex:i,component:d,selected:g,disableGutters:f,classes:{dense:r.dense},className:Object(s.default)(r.root,l,g&&r.selected,!f&&r.gutters),ref:e},v))});e.a=Object(l.a)(function(t){return{root:Object(a.a)({},t.typography.body1,Object(r.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},t.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(a.a)({},t.typography.body2,{minHeight:"auto"})}},{name:"MuiMenuItem"})(h)},638:function(t,e,i){"use strict";var n=i(13),r=i(52),a=i(3),o=i(0),s=(i(12),i(10)),l=i(15),c=i(119),h=i(20),d=o.forwardRef(function(t,e){var i=t.classes,r=t.className,l=t.disabled,d=void 0!==l&&l,u=t.disableFocusRipple,f=void 0!==u&&u,p=t.fullWidth,m=t.icon,g=t.indicator,y=t.label,v=t.onChange,b=t.onClick,_=t.selected,w=t.textColor,x=void 0===w?"inherit":w,S=t.value,E=t.wrapped,U=void 0!==E&&E,C=Object(n.a)(t,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","selected","textColor","value","wrapped"]);return o.createElement(c.a,Object(a.a)({focusRipple:!f,className:Object(s.default)(i.root,i["textColor".concat(Object(h.a)(x))],r,d&&i.disabled,_&&i.selected,y&&m&&i.labelIcon,p&&i.fullWidth,U&&i.wrapped),ref:e,role:"tab","aria-selected":_,disabled:d,onClick:function(t){v&&v(t,S),b&&b(t)}},C),o.createElement("span",{className:i.wrapper},m,y),g)});e.a=Object(l.a)(function(t){var e;return{root:Object(a.a)({},t.typography.button,(e={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},Object(r.a)(e,t.breakpoints.up("sm"),{padding:"6px 24px"}),Object(r.a)(e,"overflow","hidden"),Object(r.a)(e,"whiteSpace","normal"),Object(r.a)(e,"textAlign","center"),Object(r.a)(e,t.breakpoints.up("sm"),{minWidth:160}),e)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled}},textColorSecondary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.secondary.main},"&$disabled":{color:t.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:t.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}},{name:"MuiTab"})(d)},639:function(t,e,i){"use strict";var n=i(3),r=i(97),a=i(13),o=i(0),s=(i(12),i(640)),l=i(28),c=i(94),h=i(210),d=o.forwardRef(function(t,e){var i=t.actions,d=t.children,u=t.name,f=t.value,p=t.onChange,m=Object(a.a)(t,["actions","children","name","value","onChange"]),g=o.useRef(null),y=Object(c.a)({controlled:f,default:t.defaultValue,name:"RadioGroup"}),v=Object(r.a)(y,2),b=v[0],_=v[1];o.useImperativeHandle(i,function(){return{focus:function(){var t=g.current.querySelector("input:not(:disabled):checked");t||(t=g.current.querySelector("input:not(:disabled)")),t&&t.focus()}}},[]);var w=Object(l.a)(e,g),x=o.useState(),S=x[0],E=x[1],U=u||S;return o.useEffect(function(){E("mui-radiogroup-".concat(Math.round(1e5*Math.random())))},[]),o.createElement(h.a.Provider,{value:{name:U,onChange:function(t){_(t.target.value),p&&p(t,t.target.value)},value:b}},o.createElement(s.a,Object(n.a)({role:"radiogroup",ref:w},m),d))});e.a=d},640:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(10)),s=i(15),l=a.forwardRef(function(t,e){var i=t.classes,s=t.className,l=t.row,c=void 0!==l&&l,h=Object(r.a)(t,["classes","className","row"]);return a.createElement("div",Object(n.a)({className:Object(o.default)(i.root,s,c&&i.row),ref:e},h))});e.a=Object(s.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(l)},641:function(t,e,i){"use strict";var n=i(3),r=i(13),a=i(0),o=(i(12),i(10)),s=i(56),l=i(15),c=i(151),h=i(20),d=a.forwardRef(function(t,e){t.checked;var i=t.classes,l=t.className,d=t.control,u=t.disabled,f=(t.inputRef,t.label),p=t.labelPlacement,m=void 0===p?"end":p,g=(t.name,t.onChange,t.value,Object(r.a)(t,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),y=Object(s.a)(),v=u;"undefined"===typeof v&&"undefined"!==typeof d.props.disabled&&(v=d.props.disabled),"undefined"===typeof v&&y&&(v=y.disabled);var b={disabled:v};return["checked","name","onChange","value","inputRef"].forEach(function(e){"undefined"===typeof d.props[e]&&"undefined"!==typeof t[e]&&(b[e]=t[e])}),a.createElement("label",Object(n.a)({className:Object(o.default)(i.root,l,"end"!==m&&i["labelPlacement".concat(Object(h.a)(m))],v&&i.disabled),ref:e},g),a.cloneElement(d,b),a.createElement(c.a,{component:"span",className:Object(o.default)(i.label,v&&i.disabled)},f))});e.a=Object(l.a)(function(t){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:t.palette.text.disabled}}}},{name:"MuiFormControlLabel"})(d)},642:function(t,e,i){"use strict";var n=i(3),r=i(97),a=i(13),o=i(52),s=i(0),l=i(36),c=(i(12),i(10)),h=i(163),d=i(25),u=i(15),f=i(20),p=i(364),m=i(401),g=i(28),y=i(62),v=i(100),b=i(94),_=i(54);function w(t){return Math.round(1e5*t)/1e5}var x=!1,S=null;var E=s.forwardRef(function(t,e){var i=t.arrow,o=void 0!==i&&i,d=t.children,u=t.classes,w=t.disableFocusListener,E=void 0!==w&&w,U=t.disableHoverListener,C=void 0!==U&&U,O=t.disableTouchListener,T=void 0!==O&&O,k=t.enterDelay,A=void 0===k?100:k,z=t.enterNextDelay,B=void 0===z?0:z,I=t.enterTouchDelay,M=void 0===I?700:I,L=t.id,P=t.interactive,N=void 0!==P&&P,D=t.leaveDelay,R=void 0===D?0:D,F=t.leaveTouchDelay,j=void 0===F?1500:F,H=t.onClose,G=t.onOpen,W=t.open,Y=t.placement,V=void 0===Y?"bottom":Y,X=t.PopperProps,q=t.title,$=t.TransitionComponent,K=void 0===$?p.a:$,Z=t.TransitionProps,J=Object(a.a)(t,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperProps","title","TransitionComponent","TransitionProps"]),Q=Object(_.a)(),tt=s.useState(),et=tt[0],it=tt[1],nt=s.useState(null),rt=nt[0],at=nt[1],ot=s.useRef(!1),st=s.useRef(),lt=s.useRef(),ct=s.useRef(),ht=s.useRef(),dt=Object(b.a)({controlled:W,default:!1,name:"Tooltip"}),ut=Object(r.a)(dt,2),ft=ut[0],pt=ut[1],mt=ft,gt=s.useState(),yt=gt[0],vt=gt[1],bt=L||yt;s.useEffect(function(){mt&&!yt&&vt("mui-tooltip-".concat(Math.round(1e5*Math.random())))},[mt,yt]),s.useEffect(function(){return function(){clearTimeout(st.current),clearTimeout(lt.current),clearTimeout(ct.current),clearTimeout(ht.current)}},[]);var _t=function(t){clearTimeout(S),x=!0,pt(!0),G&&G(t)},wt=function(t){var e=d.props;"mouseover"===t.type&&e.onMouseOver&&t.currentTarget===et&&e.onMouseOver(t),ot.current&&"touchstart"!==t.type||(et&&et.removeAttribute("title"),clearTimeout(lt.current),clearTimeout(ct.current),A||x&&B?(t.persist(),lt.current=setTimeout(function(){_t(t)},x?B:A)):_t(t))},xt=Object(v.a)(),St=xt.isFocusVisible,Et=xt.onBlurVisible,Ut=xt.ref,Ct=s.useState(!1),Ot=Ct[0],Tt=Ct[1],kt=function(t){clearTimeout(S),S=setTimeout(function(){x=!1},800+R),pt(!1),H&&H(t),clearTimeout(st.current),st.current=setTimeout(function(){ot.current=!1},Q.transitions.duration.shortest)},At=function(t){var e=d.props;"blur"===t.type&&(e.onBlur&&t.currentTarget===et&&e.onBlur(t),Ot&&(Tt(!1),Et())),"mouseleave"===t.type&&e.onMouseLeave&&t.currentTarget===et&&e.onMouseLeave(t),clearTimeout(lt.current),clearTimeout(ct.current),t.persist(),ct.current=setTimeout(function(){kt(t)},R)},zt=Object(g.a)(it,e),Bt=Object(g.a)(Ut,zt),It=s.useCallback(function(t){Object(y.a)(Bt,l.findDOMNode(t))},[Bt]),Mt=Object(g.a)(d.ref,It);""===q&&(mt=!1);var Lt=!mt&&!C,Pt=Object(n.a)({"aria-describedby":mt?bt:null,title:Lt&&"string"===typeof q?q:null},J,{},d.props,{className:Object(c.default)(J.className,d.props.className)});T||(Pt.onTouchStart=function(t){ot.current=!0;var e=d.props;e.onTouchStart&&e.onTouchStart(t),clearTimeout(ct.current),clearTimeout(st.current),clearTimeout(ht.current),t.persist(),ht.current=setTimeout(function(){wt(t)},M)},Pt.onTouchEnd=function(t){d.props.onTouchEnd&&d.props.onTouchEnd(t),clearTimeout(ht.current),clearTimeout(ct.current),t.persist(),ct.current=setTimeout(function(){kt(t)},j)}),C||(Pt.onMouseOver=wt,Pt.onMouseLeave=At),E||(Pt.onFocus=function(t){et||it(t.currentTarget),St(t)&&(Tt(!0),wt(t));var e=d.props;e.onFocus&&t.currentTarget===et&&e.onFocus(t)},Pt.onBlur=At);var Nt=N?{onMouseOver:Pt.onMouseOver,onMouseLeave:Pt.onMouseLeave,onFocus:Pt.onFocus,onBlur:Pt.onBlur}:{};var Dt=s.useMemo(function(){return Object(h.a)({popperOptions:{modifiers:{arrow:{enabled:Boolean(rt),element:rt}}}},X)},[rt,X]);return s.createElement(s.Fragment,null,s.cloneElement(d,Object(n.a)({ref:Mt},Pt)),s.createElement(m.a,Object(n.a)({className:Object(c.default)(u.popper,N&&u.popperInteractive,o&&u.popperArrow),placement:V,anchorEl:et,open:!!et&&mt,id:Pt["aria-describedby"],transition:!0},Nt,Dt),function(t){var e=t.placement,i=t.TransitionProps;return s.createElement(K,Object(n.a)({timeout:Q.transitions.duration.shorter},i,Z),s.createElement("div",{className:Object(c.default)(u.tooltip,u["tooltipPlacement".concat(Object(f.a)(e.split("-")[0]))],ot.current&&u.touch,o&&u.tooltipArrow)},q,o?s.createElement("span",{className:u.arrow,ref:at}):null))}))});e.a=Object(u.a)(function(t){return{popper:{zIndex:t.zIndex.tooltip,pointerEvents:"none",flip:!1},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{flip:!1,top:0,left:0,marginTop:"-0.95em",marginLeft:4,marginRight:4,width:"2em",height:"1em","&::before":{flip:!1,borderWidth:"0 1em 1em 1em",borderColor:"transparent transparent currentcolor transparent"}},'&[x-placement*="top"] $arrow':{flip:!1,bottom:0,left:0,marginBottom:"-0.95em",marginLeft:4,marginRight:4,width:"2em",height:"1em","&::before":{flip:!1,borderWidth:"1em 1em 0 1em",borderColor:"currentcolor transparent transparent transparent"}},'&[x-placement*="right"] $arrow':{flip:!1,left:0,marginLeft:"-0.95em",marginTop:4,marginBottom:4,height:"2em",width:"1em","&::before":{flip:!1,borderWidth:"1em 1em 1em 0",borderColor:"transparent currentcolor transparent transparent"}},'&[x-placement*="left"] $arrow':{flip:!1,right:0,marginRight:"-0.95em",marginTop:4,marginBottom:4,height:"2em",width:"1em","&::before":{flip:!1,borderWidth:"1em 0 1em 1em",borderColor:"transparent transparent transparent currentcolor"}}},tooltip:{backgroundColor:Object(d.d)(t.palette.grey[700],.9),borderRadius:t.shape.borderRadius,color:t.palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(10),lineHeight:"".concat(w(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{position:"absolute",fontSize:6,color:Object(d.d)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:0,height:0,borderStyle:"solid"}},touch:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat(w(16/14),"em"),fontWeight:t.typography.fontWeightRegular},tooltipPlacementLeft:Object(o.a)({transformOrigin:"right center",margin:"0 24px "},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:Object(o.a)({transformOrigin:"left center",margin:"0 24px"},t.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:Object(o.a)({transformOrigin:"center bottom",margin:"24px 0"},t.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:Object(o.a)({transformOrigin:"center top",margin:"24px 0"},t.breakpoints.up("sm"),{margin:"14px 0"})}},{name:"MuiTooltip"})(E)},645:function(t,e,i){"use strict";var n,r=i(3),a=i(13),o=i(52),s=i(0),l=(i(157),i(12),i(10)),c=i(127),h=i(101);function d(){if(n)return n;var t=document.createElement("div");return t.appendChild(document.createTextNode("ABCD")),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),n="reverse",t.scrollLeft>0?n="default":(t.scrollLeft=1,0===t.scrollLeft&&(n="negative")),document.body.removeChild(t),n}function u(t,e){var i=t.scrollLeft;if("rtl"!==e)return i;switch(d()){case"negative":return t.scrollWidth-t.clientWidth+i;case"reverse":return t.scrollWidth-t.clientWidth-i;default:return i}}function f(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}var p={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function m(t){var e=t.onChange,i=Object(a.a)(t,["onChange"]),n=s.useRef(),o=s.useRef(null),l=function(){n.current=o.current.offsetHeight-o.current.clientHeight};return s.useEffect(function(){var t=Object(c.a)(function(){var t=n.current;l(),t!==n.current&&e(n.current)});return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}},[e]),s.useEffect(function(){l(),e(n.current)},[e]),s.createElement("div",Object(r.a)({style:p,ref:o},i))}var g=i(15),y=i(20),v=s.forwardRef(function(t,e){var i=t.classes,n=t.className,o=t.color,c=t.orientation,h=Object(a.a)(t,["classes","className","color","orientation"]);return s.createElement("span",Object(r.a)({className:Object(l.default)(i.root,i["color".concat(Object(y.a)(o))],n,"vertical"===c&&i.vertical),ref:e},h))}),b=Object(g.a)(function(t){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},colorPrimary:{backgroundColor:t.palette.primary.main},colorSecondary:{backgroundColor:t.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}},{name:"PrivateTabIndicator"})(v),_=i(31),w=Object(_.a)(s.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),x=Object(_.a)(s.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),S=i(119),E=s.createElement(w,{fontSize:"small"}),U=s.createElement(x,{fontSize:"small"}),C=s.forwardRef(function(t,e){var i=t.classes,n=t.className,o=t.direction,c=t.orientation,h=t.visible,d=Object(a.a)(t,["classes","className","direction","orientation","visible"]),u=Object(l.default)(i.root,n,"vertical"===c&&i.vertical);return h?s.createElement(S.a,Object(r.a)({component:"div",className:u,ref:e,role:null,tabIndex:null},d),"left"===o?E:U):s.createElement("div",{className:u})}),O=Object(g.a)({root:{width:40,flexShrink:0},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}}},{name:"PrivateTabScrollButton"})(C),T=i(43),k=i(54),A=s.forwardRef(function(t,e){var i=t.action,n=t.centered,p=void 0!==n&&n,g=t.children,y=t.classes,v=t.className,_=t.component,w=void 0===_?"div":_,x=t.indicatorColor,S=void 0===x?"secondary":x,E=t.onChange,U=t.orientation,C=void 0===U?"horizontal":U,A=t.ScrollButtonComponent,z=void 0===A?O:A,B=t.scrollButtons,I=void 0===B?"auto":B,M=t.TabIndicatorProps,L=void 0===M?{}:M,P=t.textColor,N=void 0===P?"inherit":P,D=t.value,R=t.variant,F=void 0===R?"standard":R,j=Object(a.a)(t,["action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","TabIndicatorProps","textColor","value","variant"]),H=Object(k.a)(),G="scrollable"===F,W="rtl"===H.direction,Y="vertical"===C,V=Y?"scrollTop":"scrollLeft",X=Y?"top":"left",q=Y?"bottom":"right",$=Y?"clientHeight":"clientWidth",K=Y?"height":"width";var Z=s.useState(!1),J=Z[0],Q=Z[1],tt=s.useState({}),et=tt[0],it=tt[1],nt=s.useState({start:!1,end:!1}),rt=nt[0],at=nt[1],ot=s.useState({overflow:"hidden",marginBottom:null}),st=ot[0],lt=ot[1],ct=new Map,ht=s.useRef(null),dt=s.useRef(null),ut=function(){var t,e,i=ht.current;if(i){var n=i.getBoundingClientRect();t={clientWidth:i.clientWidth,scrollLeft:i.scrollLeft,scrollTop:i.scrollTop,scrollLeftNormalized:u(i,H.direction),scrollWidth:i.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(i&&!1!==D){var r=dt.current.children;if(r.length>0){var a=r[ct.get(D)];0,e=a?a.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:e}},ft=Object(T.a)(function(){var t,e=ut(),i=e.tabsMeta,n=e.tabMeta,r=0;if(n&&i)if(Y)r=n.top-i.top+i.scrollTop;else{var a=W?i.scrollLeftNormalized+i.clientWidth-i.scrollWidth:i.scrollLeft;r=n.left-i.left+a}var s=(t={},Object(o.a)(t,X,r),Object(o.a)(t,K,n?n[K]:0),t);if(isNaN(et[X])||isNaN(et[K]))it(s);else{var l=Math.abs(et[X]-s[X]),c=Math.abs(et[K]-s[K]);(l>=1||c>=1)&&it(s)}}),pt=function(t){!function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},a=n.ease,o=void 0===a?f:a,s=n.duration,l=void 0===s?300:s,c=null,h=e[t],d=!1,u=function(){d=!0};h===i?r(new Error("Element already at target position")):requestAnimationFrame(function n(a){if(d)r(new Error("Animation cancelled"));else{null===c&&(c=a);var s=Math.min(1,(a-c)/l);e[t]=o(s)*(i-h)+h,s>=1?requestAnimationFrame(function(){r(null)}):requestAnimationFrame(n)}})}(V,ht.current,t)},mt=function(t){var e=ht.current[V];Y?e+=t:(e+=t*(W?-1:1),e*=W&&"reverse"===d()?-1:1),pt(e)},gt=function(){mt(-ht.current[$])},yt=function(){mt(ht.current[$])},vt=s.useCallback(function(t){lt({overflow:null,marginBottom:-t})},[]),bt=Object(T.a)(function(){var t=ut(),e=t.tabsMeta,i=t.tabMeta;if(i&&e)if(i[X]<e[X]){var n=e[V]+(i[X]-e[X]);pt(n)}else if(i[q]>e[q]){var r=e[V]+(i[q]-e[q]);pt(r)}}),_t=Object(T.a)(function(){if(G&&"off"!==I){var t,e,i=ht.current,n=i.scrollTop,r=i.scrollHeight,a=i.clientHeight,o=i.scrollWidth,s=i.clientWidth;if(Y)t=n>1,e=n<r-a-1;else{var l=u(ht.current,H.direction);t=W?l<o-s-1:l>1,e=W?l>1:l<o-s-1}t===rt.start&&e===rt.end||at({start:t,end:e})}});s.useEffect(function(){var t=Object(c.a)(function(){ft(),_t()}),e=Object(h.a)(ht.current);return e.addEventListener("resize",t),function(){t.clear(),e.removeEventListener("resize",t)}},[ft,_t]);var wt=s.useCallback(Object(c.a)(function(){_t()}));s.useEffect(function(){return function(){wt.clear()}},[wt]),s.useEffect(function(){Q(!0)},[]),s.useEffect(function(){ft(),_t()}),s.useEffect(function(){bt()},[bt,et]),s.useImperativeHandle(i,function(){return{updateIndicator:ft,updateScrollButtons:_t}},[ft,_t]);var xt=s.createElement(b,Object(r.a)({className:y.indicator,orientation:C,color:S},L,{style:Object(r.a)({},et,{},L.style)})),St=0,Et=s.Children.map(g,function(t){if(!s.isValidElement(t))return null;var e=void 0===t.props.value?St:t.props.value;ct.set(e,St);var i=e===D;return St+=1,s.cloneElement(t,{fullWidth:"fullWidth"===F,indicator:i&&!J&&xt,selected:i,onChange:E,textColor:N,value:e})}),Ut=function(){var t={};t.scrollbarSizeListener=G?s.createElement(m,{className:y.scrollable,onChange:vt}):null;var e=rt.start||rt.end,i=G&&("auto"===I&&e||"desktop"===I||"on"===I);return t.scrollButtonStart=i?s.createElement(z,{orientation:C,direction:W?"right":"left",onClick:gt,visible:rt.start,className:Object(l.default)(y.scrollButtons,"on"!==I&&y.scrollButtonsDesktop)}):null,t.scrollButtonEnd=i?s.createElement(z,{orientation:C,direction:W?"left":"right",onClick:yt,visible:rt.end,className:Object(l.default)(y.scrollButtons,"on"!==I&&y.scrollButtonsDesktop)}):null,t}();return s.createElement(w,Object(r.a)({className:Object(l.default)(y.root,v,Y&&y.vertical),ref:e},j),Ut.scrollButtonStart,Ut.scrollbarSizeListener,s.createElement("div",{className:Object(l.default)(y.scroller,G?y.scrollable:y.fixed),style:st,ref:ht,onScroll:wt},s.createElement("div",{className:Object(l.default)(y.flexContainer,Y&&y.flexContainerVertical,p&&!G&&y.centered),ref:dt,role:"tablist"},Et),J&&xt),Ut.scrollButtonEnd)});e.a=Object(g.a)(function(t){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:Object(o.a)({},t.breakpoints.down("xs"),{display:"none"}),indicator:{}}},{name:"MuiTabs"})(A)},647:function(t,e,i){"use strict";var n=i(50),r=i(169),a=i(0),o=(i(12),i(10)),s=i(15),l=i(134),c=Object(l.a)(a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),h=a.forwardRef(function(t,e){var i=t.className,s=t.classes,l=t.icon,h=t.open,d=t.openIcon,u=Object(r.a)(t,["className","classes","icon","open","openIcon"]),f=Object(o.default)(s.icon,h&&[s.iconOpen,d&&s.iconWithOpenIconOpen]),p=Object(o.default)(s.openIcon,h&&s.openIconOpen);function m(t,e){return a.isValidElement(t)?a.cloneElement(t,{className:e}):t}return a.createElement("span",Object(n.a)({className:Object(o.default)(s.root,i),ref:e},u),d?m(d,p):null,l?m(l,f):a.createElement(c,{className:f}))});h.muiName="SpeedDialIcon";e.a=Object(s.a)(function(t){return{root:{height:24},icon:{transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short})},iconOpen:{transform:"rotate(45deg)"},iconWithOpenIconOpen:{opacity:0},openIcon:{position:"absolute",transition:t.transitions.create(["transform","opacity"],{duration:t.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},openIconOpen:{transform:"rotate(0deg)",opacity:1}}},{name:"MuiSpeedDialIcon"})(h)}}]);
//# sourceMappingURL=6.a73d0bed.chunk.js.map