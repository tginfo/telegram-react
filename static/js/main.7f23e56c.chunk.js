(this.webpackJsonptelegram_react=this.webpackJsonptelegram_react||[]).push([[2],{110:function(e,t,a){"use strict";var n=a(17),i=a(2);class s extends n.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.selectedItems=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateNewMessage":this.set(e.message),this.emit("updateNewMessage",e);break;case"updateDeleteMessages":this.emit("updateDeleteMessages",e);break;case"updateMessageEdited":{const t=this.items.get(e.chat_id);if(t){const a=t.get(e.message_id);a&&(a.reply_markup=e.reply_markup,a.edit_date=e.edit_date)}this.emit("updateMessageEdited",e);break}case"updateMessageViews":{const t=this.items.get(e.chat_id);if(t){const a=t.get(e.message_id);a&&e.views>a.views&&(a.views=e.views)}this.emit("updateMessageViews",e);break}case"updateMessageContent":{const t=this.items.get(e.chat_id);if(t){const a=t.get(e.message_id);a&&(e.old_content=a.content,a.content=e.new_content)}this.emit("updateMessageContent",e);break}case"updateMessageContentOpened":{const t=e.chat_id,a=e.message_id,n=this.get(t,a);if(n){switch(n.content["@type"]){case"messageVoiceNote":n.content.is_listened=!0;break;case"messageVideoNote":n.content.is_viewed=!0}}this.emit("updateMessageContentOpened",e);break}case"updateMessageSendSucceeded":{const t=this.items.get(e.message.chat_id);if(t){const a=t.get(e.old_message_id);a&&(a.sending_state=e.message.sending_state),e.old_message_id!==e.message.id&&this.set(e.message)}this.set(e.message),this.emit("updateMessageSendSucceeded",e);break}case"updateMessageSendFailed":{e.message.sending_state&&(e.message.sending_state.error_code=e.error_code,e.message.sending_state.error_message=e.error_message);const t=this.items.get(e.message.chat_id);if(t){const a=t.get(e.old_message_id);a&&(a.sending_state=e.message.sending_state,a.sending_state&&(a.sending_state.error_code=e.error_code,a.sending_state.error_message=e.error_message)),e.old_message_id!==e.message.id&&this.set(e.message)}this.emit("updateMessageSendFailed",e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateChatId":this.selectedItems.size>0&&(this.selectedItems.clear(),this.emit("clientUpdateClearSelection",{"@type":"clientUpdateClearSelection"}));break;case"clientUpdateClearSelection":this.selectedItems.clear(),this.emit("clientUpdateClearSelection",e);break;case"clientUpdateMessageShake":this.emit("clientUpdateMessageShake",e);break;case"clientUpdateMessageHighlighted":this.emit("clientUpdateMessageHighlighted",e);break;case"clientUpdateMessageSelected":e.selected?this.selectedItems.set("chatId=".concat(e.chatId,"_messageId=").concat(e.messageId),{chatId:e.chatId,messageId:e.messageId}):this.selectedItems.delete("chatId=".concat(e.chatId,"_messageId=").concat(e.messageId)),this.emit("clientUpdateMessageSelected",e);break;case"clientUpdateMessagesInView":this.emit("clientUpdateMessagesInView",e);break;case"clientUpdateOpenReply":this.emit("clientUpdateOpenReply",e);break;case"clientUpdateReply":this.emit("clientUpdateReply",e);break;case"clientUpdateTryEditMessage":this.emit("clientUpdateTryEditMessage",e)}},this.addTdLibListener=()=>{i.a.on("update",this.onUpdate),i.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{i.a.off("update",this.onUpdate),i.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}hasSelectedMessage(e,t){return this.selectedItems.has("chatId=".concat(e,"_messageId=").concat(t))}load(e,t){i.a.send({"@type":"getMessage",chat_id:e,message_id:t}).then(e=>{this.set(e),this.emit("getMessageResult",e)}).catch(a=>{const n={"@type":"deletedMessage",chat_id:e,id:t,content:null};this.set(n),this.emit("getMessageResult",n)})}get(e,t){let a=this.items.get(e);if(!a)return null;let n=a.get(t);return n||null}set(e){if(!e)return;let t=this.items.get(e.chat_id);t||(t=new Map,this.items.set(e.chat_id,t)),t.set(e.id,e)}setItems(e){for(let t=0;t<e.length;t++)this.set(e[t])}}const r=new s;window.message=r,t.a=r},111:function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"c",(function(){return r})),a.d(t,"k",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"j",(function(){return l})),a.d(t,"h",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"i",(function(){return h})),a.d(t,"f",(function(){return p})),a.d(t,"m",(function(){return g})),a.d(t,"a",(function(){return m})),a.d(t,"o",(function(){return f})),a.d(t,"p",(function(){return y})),a.d(t,"q",(function(){return b})),a.d(t,"n",(function(){return w})),a.d(t,"l",(function(){return C}));var n=a(2);function i(){n.a.clientUpdate({"@type":"clientUpdateArchive",open:!0})}function s(e,t){n.a.clientUpdate({"@type":"clientUpdateEditMessage",chatId:e,messageId:t})}function r(e,t){n.a.clientUpdate({"@type":"clientUpdateDeleteMessages",chatId:e,messageIds:t})}function o(e,t){n.a.clientUpdate({"@type":"clientUpdateReply",chatId:e,messageId:t})}function c(e,t){n.a.clientUpdate({"@type":"clientUpdateForward",info:{chatId:e,messageIds:t}})}function l(e,t=!1){n.a.clientUpdate({"@type":"clientUpdateOpenUser",userId:e,popup:t})}function d(e,t=null,a=!1){n.a.clientUpdate({"@type":"clientUpdateOpenChat",chatId:e,messageId:t,popup:a})}function u(){n.a.clientUpdate({"@type":"clientUpdateOpenChat",chatId:0,messageId:null,popup:!1})}function h(e,t){n.a.clientUpdate({"@type":"clientUpdateOpenReply",chatId:e,messageId:t})}function p(e,t){n.a.clientUpdate({"@type":"clientUpdateMessageHighlighted",chatId:e,messageId:t})}function g(e,t,a){n.a.clientUpdate({"@type":"clientUpdateMessageSelected",chatId:e,messageId:t,selected:a})}function m(){n.a.clientUpdate({"@type":"clientUpdateClearSelection"})}function f(e){n.a.clientUpdate({"@type":"clientUpdateInstantViewViewerContent",content:e})}function y(e){n.a.clientUpdate({"@type":"clientUpdateMediaViewerContent",content:e})}function b(e){n.a.clientUpdate({"@type":"clientUpdateProfileMediaViewerContent",content:e})}function w(e){n.a.clientUpdate({"@type":"clientUpdateInstantViewContent",content:e})}function C(e,t=null){n.a.clientUpdate({"@type":"clientUpdateSearchChat",chatId:e,query:t})}},112:function(e,t,a){"use strict";var n=a(17),i=a(2);class s extends n.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.fullInfoItems=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateSupergroup":this.set(e.supergroup),this.emit(e["@type"],e);break;case"updateSupergroupFullInfo":this.setFullInfo(e.supergroup_id,e.supergroup_full_info),this.emit(e["@type"],e)}},this.onClientUpdate=e=>{},this.addTdLibListener=()=>{i.a.on("update",this.onUpdate),i.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{i.a.off("update",this.onUpdate),i.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}get(e){return this.items.get(e)}set(e){this.items.set(e.id,e)}getFullInfo(e){return this.fullInfoItems.get(e)}setFullInfo(e,t){this.fullInfoItems.set(e,t)}}const r=new s;window.supergroup=r,t.a=r},116:function(e,t,a){"use strict";var n=a(17),i=a(38),s=a(112);function r(e){return function(e){const t=i.a.get(e);if(!t)return 0;const a=t.notification_settings;if(!a)return 0;const n=a.use_default_mute_for,s=a.mute_for;if(n){const t=o(e);return!!t&&t.mute_for}return s}(e)>0}function o(e){const t=i.a.get(e);if(!t)return null;switch(t.type["@type"]){case"chatTypePrivate":case"chatTypeSecret":return g.settings.get("notificationSettingsScopePrivateChats");case"chatTypeBasicGroup":case"chatTypeSupergroup":{let t=null;return t=function(e){const t=i.a.get(e);if(!t)return!1;if(!t.type)return!1;switch(t.type["@type"]){case"chatTypeSupergroup":{const e=s.a.get(t.type.supergroup_id);return e&&e.is_channel}case"chatTypeBasicGroup":case"chatTypePrivate":case"chatTypeSecret":return!1}return!1}(e)?g.settings.get("notificationSettingsScopeChannelChats"):g.settings.get("notificationSettingsScopeGroupChats"),t}}return null}function c(e){const t=e.chat_id;return function(e){return e&&e.contains_unread_mention}(e)?function(e){const t=i.a.get(e);if(!t)return!1;const a=t.notification_settings;if(!a)return!1;const n=a.use_default_disable_mention_notifications,s=a.disable_mention_notifications;if(n){const t=o(e);return!!t&&t.disable_mention_notifications}return s}(t):function(e){return e&&"messagePinMessage"===e.content["@type"]}(e)?function(e){const t=i.a.get(e);if(!t)return!1;const a=t.notification_settings;if(!t)return!1;const n=a.use_default_disable_pinned_message_notifications,s=a.disable_pinned_message_notifications;if(n){const t=o(e);return!!t&&t.disable_pinned_message_notifications}return s}(t):r(t)}var l=a(13),d=a(110),u=a(2);class h extends n.a{constructor(){super(),this.reset=()=>{this.chatStore=i.a,this.messageStore=d.a,this.appInactive=!1,this.newMessages=new Map,this.settings=new Map,this.windowFocused=!0,this.timerHandler=null,this.nextSoundAt=new Date,this.enableSound=!1},this.onTimer=()=>{const e=this.getUnreadCount();if(document.title===l.d&&e>0){let t="+99 notifications";1===e?t="1 notification":e<99&&(t="".concat(e," notifications")),document.title=t,document.getElementById("favicon").href="favicon_unread.ico"}else document.title=l.d+(this.appInactive?": Zzz\u2026":""),document.getElementById("favicon").href="favicon.ico"},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateChatReadInbox":if(!this.windowFocused){const t=e.chat_id,a=e.last_read_inbox_message_id,n=this.newMessages.get(t);if(n){const e=new Map([...n].filter(([e,t])=>t.id>a));e.size<n.size&&(this.newMessages.set(t,e),this.updateTimer())}}break;case"updateChatNotificationSettings":this.windowFocused||this.updateTimer();break;case"updateDeleteMessages":if(!this.windowFocused){const t=e.chat_id,a=e.message_ids;if(e.is_permanent&&a.length>0){const e=this.newMessages.get(t);if(e){const n=new Map(a.map(e=>[e,e])),i=new Map([...e].filter(([e,t])=>!n.has(e)));i.size<e.size&&(this.newMessages.set(t,i),this.updateTimer())}}}break;case"updateNewMessage":if(!this.windowFocused){const t=e.message,a=t.chat_id,n=t.id,i=this.newMessages.get(a)||new Map;if(i.set(n,t),this.newMessages.set(a,i),this.updateTimer(),!t.is_outgoing&&!c(t)&&this.enableSound){if(new Date>this.nextSoundAt){new Audio("sound_a.mp3").play();const e=new Date;e.setMilliseconds(e.getMilliseconds()+l.x),this.nextSoundAt=e}}}break;case"updateScopeNotificationSettings":{const t=e.scope,a=e.notification_settings;this.settings.set(t["@type"],a),this.windowFocused||this.updateTimer(),this.emit("updateScopeNotificationSettings",e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateAppInactive":this.appInactive=!0,this.newMessages=new Map,this.updateTimer();break;case"clientUpdateFocusWindow":{const t=e.focused;this.windowFocused=t,t&&(this.newMessages=new Map,this.updateTimer());break}}},this.addTdLibListener=()=>{u.a.on("update",this.onUpdate),u.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{u.a.off("update",this.onUpdate),u.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}getUnreadCount(){let e=0;return this.newMessages.forEach(t=>{t.forEach(t=>{t.is_outgoing||c(t)||e++})}),e}updateTimer(){this.getUnreadCount()>0?this.timerHandler||(this.onTimer(),this.timerHandler=setInterval(this.onTimer,1e3)):this.timerHandler&&(clearInterval(this.timerHandler),this.timerHandler=null,this.onTimer())}}const p=new h;window.notifications=p;var g=t.a=p},13:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return c})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"k",(function(){return h})),a.d(t,"j",(function(){return p})),a.d(t,"l",(function(){return g})),a.d(t,"m",(function(){return m})),a.d(t,"n",(function(){return f})),a.d(t,"o",(function(){return y})),a.d(t,"p",(function(){return b})),a.d(t,"q",(function(){return w})),a.d(t,"r",(function(){return C})),a.d(t,"s",(function(){return v})),a.d(t,"t",(function(){return k})),a.d(t,"u",(function(){return S})),a.d(t,"v",(function(){return U})),a.d(t,"w",(function(){return P})),a.d(t,"x",(function(){return _})),a.d(t,"y",(function(){return x})),a.d(t,"z",(function(){return E})),a.d(t,"A",(function(){return I})),a.d(t,"B",(function(){return M})),a.d(t,"D",(function(){return T})),a.d(t,"E",(function(){return O})),a.d(t,"C",(function(){return D})),a.d(t,"F",(function(){return L})),a.d(t,"G",(function(){return N})),a.d(t,"L",(function(){return A})),a.d(t,"K",(function(){return F})),a.d(t,"I",(function(){return z})),a.d(t,"H",(function(){return j})),a.d(t,"J",(function(){return W})),a.d(t,"R",(function(){return R})),a.d(t,"Q",(function(){return V})),a.d(t,"S",(function(){return B})),a.d(t,"O",(function(){return K})),a.d(t,"N",(function(){return J})),a.d(t,"P",(function(){return H})),a.d(t,"M",(function(){return q})),a.d(t,"T",(function(){return G})),a.d(t,"U",(function(){return Y})),a.d(t,"V",(function(){return X})),a.d(t,"X",(function(){return Z})),a.d(t,"W",(function(){return Q})),a.d(t,"Y",(function(){return $})),a.d(t,"Z",(function(){return ee})),a.d(t,"cb",(function(){return te})),a.d(t,"bb",(function(){return ae})),a.d(t,"ab",(function(){return ne})),a.d(t,"db",(function(){return ie})),a.d(t,"eb",(function(){return se})),a.d(t,"gb",(function(){return re})),a.d(t,"fb",(function(){return oe})),a.d(t,"hb",(function(){return ce})),a.d(t,"ib",(function(){return le})),a.d(t,"jb",(function(){return de})),a.d(t,"kb",(function(){return ue})),a.d(t,"lb",(function(){return he})),a.d(t,"mb",(function(){return pe})),a.d(t,"nb",(function(){return ge})),a.d(t,"ob",(function(){return me})),a.d(t,"pb",(function(){return fe})),a.d(t,"qb",(function(){return ye})),a.d(t,"sb",(function(){return be})),a.d(t,"tb",(function(){return we})),a.d(t,"ub",(function(){return Ce})),a.d(t,"vb",(function(){return ve})),a.d(t,"rb",(function(){return ke})),a.d(t,"xb",(function(){return Se})),a.d(t,"wb",(function(){return Ue}));const n=100,i=200,s=300,r="Telegram Web",o=25,c=100,l=1,d=300,u=600,h=800,p=600,g="auth",m="suggested_language_pack_id",f=150,y=2,b=300,w=16,C=10,v=20,k=30,S=600,U=2147483647,P=0,_=5e3,x=5e3,E=500,I=!0,M=1280,T=420,O=65,D=40,L=320,N=90,A=.25,F=0,z=1,j=1.75,W=250,R=255,V=R-79,B=R+99,K=100,J=K-29,H=K+99,q=10,G=15,Y=5,X=50,Z=204800,Q=204800,$=204800,ee=2048e3,te=204800,ae=10485760,ne=204800,ie=640,se=160,re=0,oe=400,ce=777e3,le=30,de=192,ue=76,he=256,pe=64,ge=90,me=32,fe=8,ye=8,be=20,we=0,Ce=20,ve=0,ke=5,Se="93851361833a55534e17170c3e15da85.wasm",Ue=Se.replace(".wasm","")},135:function(e,t,a){"use strict";var n=a(0),i=a.n(n),s=a(31),r=a(60),o=a(64);t.a=function(e){class t extends i.a.Component{render(){const t=o.a.i18n;return i.a.createElement(s.a,{i18n:t},i.a.createElement(e,this.props))}}return t.displayName="WithLanguage(".concat(Object(r.b)(e),")"),t}},166:function(e,t,a){},17:function(e,t,a){"use strict";t.a=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)}),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter(e=>e!==t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){[].concat(this.observers[e]).forEach(e=>{e(...t)})}if(this.observers["*"]){[].concat(this.observers["*"]).forEach(a=>{a.apply(a,[e,...t])})}}}},174:function(e,t,a){e.exports=a(220)},18:function(e,t,a){"use strict";a.d(t,"r",(function(){return i})),a.d(t,"q",(function(){return s})),a.d(t,"s",(function(){return r})),a.d(t,"d",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"w",(function(){return d})),a.d(t,"u",(function(){return u})),a.d(t,"l",(function(){return g})),a.d(t,"j",(function(){return h})),a.d(t,"i",(function(){return p})),a.d(t,"f",(function(){return m})),a.d(t,"t",(function(){return f})),a.d(t,"x",(function(){return y})),a.d(t,"c",(function(){return b})),a.d(t,"g",(function(){return C})),a.d(t,"v",(function(){return v})),a.d(t,"a",(function(){return k})),a.d(t,"p",(function(){return S})),a.d(t,"b",(function(){return U})),a.d(t,"e",(function(){return P})),a.d(t,"k",(function(){return _})),a.d(t,"o",(function(){return o})),a.d(t,"m",(function(){return x})),a.d(t,"n",(function(){return E}));var n=a(13);function i(){return navigator.userAgent.toLowerCase().indexOf("android")>-1||s()||r()}function s(){return!!(navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)>-1)||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function r(){return!!navigator.userAgent.match(/Windows Phone/i)||(!!navigator.userAgent.match(/iemobile/i)||!!navigator.userAgent.match(/WPDesktop/i))}function o(){const e=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod","MacIntel"];return navigator.platform?e.indexOf(navigator.platform)>-1:/iPad|iPhone|iPod|Mac\sOS\sX/.test(navigator.userAgent)&&!window.MSStream}function c(){let e="Unknown";return-1!==window.navigator.userAgent.indexOf("Windows NT 10.0")&&(e="Windows 10"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.2")&&(e="Windows 8"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.1")&&(e="Windows 7"),-1!==window.navigator.userAgent.indexOf("Windows NT 6.0")&&(e="Windows Vista"),-1!==window.navigator.userAgent.indexOf("Windows NT 5.1")&&(e="Windows XP"),-1!==window.navigator.userAgent.indexOf("Windows NT 5.0")&&(e="Windows 2000"),-1!==window.navigator.userAgent.indexOf("Mac")&&(e="Mac/iOS"),-1!==window.navigator.userAgent.indexOf("X11")&&(e="UNIX"),-1!==window.navigator.userAgent.indexOf("Linux")&&(e="Linux"),e}function l(){let e="",t=!!!document.documentMode&&!!window.StyleMedia;return e=-1===navigator.userAgent.indexOf("Chrome")||t?-1===navigator.userAgent.indexOf("Safari")||t?-1!==navigator.userAgent.indexOf("Firefox")?"Firefox":-1!==navigator.userAgent.indexOf("MSIE")||!0===!!document.documentMode?"IE":t?"Edge":"Unknown":"Safari":"Chrome",e}function d(e){switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}}function u(e,t){let a=e.length-t.length;return 0!==a?a<0?-1:1:e===t?0:e>t?1:-1}function h(e){return g(e,n.G)}function p(e,t=n.F){return g(e,t)}function g(e,t){if(!e)return null;if(0===e.length)return null;if(0===t)return null;let a=e[0].width>=e[0].height,n=Math.abs(t-(a?e[0].width:e[0].height)),i=0;for(let s=1;s<e.length;s++){if("i"===e[s].type&&!e[s].photo.local.is_downloading_completed)continue;let r=Math.abs(t-(a?e[s].width:e[s].height));r<n&&(i=s,r=n)}return e[i]}function m(e,t,a=!0){return e?!a&&e.width<t&&e.height<t?e:e.width>e.height?{width:t,height:Math.floor(e.height*t/e.width)}:{width:Math.floor(e.width*t/e.height),height:t}:{width:0,height:0}}function f(e,t){let a=e.current,n=t?t.current:a;const i=[];for(let s=0;s<n.children.length;s++){let e=n.children[s];e.offsetTop+e.offsetHeight>=a.scrollTop&&e.offsetTop<=a.scrollTop+a.offsetHeight&&i.push(s)}return i}function y(e,t,a){var n,i,s,r=null,o=0;a||(a={});var c=function(){o=!1===a.leading?0:Date.now(),r=null,s=e.apply(n,i),r||(n=i=null)};return function(){var l=Date.now();o||!1!==a.leading||(o=l);var d=t-(l-o);return n=this,i=arguments,d<=0||d>t?(r&&(clearTimeout(r),r=null),o=l,s=e.apply(n,i),r||(n=i=null)):r||!1===a.trailing||(r=setTimeout(c,d)),s}}function b(e,t,a){var n;return function(){var i=this,s=arguments,r=function(){n=null,a||e.apply(i,s)},o=a&&!n;clearTimeout(n),n=setTimeout(r,t),o&&e.apply(i,s)}}function w(e){if(!e)return"";for(let t=0;t<e.length;t++){if(e[t].toUpperCase()!==e[t].toLowerCase())return e[t];if(e[t]>="0"&&e[t]<="9")return e[t]}return""}function C(e){if(!e)return null;if(0===e.length)return null;const t=e.split(" ");return 1===t.length?w(t[0]):t.length>1?w(t[0])+w(t[t.length-1]):null}function v(e,t){const a=new FileReader;a.addEventListener("load",(function(){const n=new Image;n.addEventListener("load",(function(){e.photoWidth=n.width,e.photoHeight=n.height,t(e)})),n.src=a.result})),a.readAsDataURL(e)}function k(e){for(var t="",a=new Uint8Array(e),n=a.byteLength,i=0;i<n;i++)t+=String.fromCharCode(a[i]);return window.btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function S(e){return!!e&&"authorizationStateReady"===e["@type"]}function U(e,t,a,n=!1){return n?e>=t&&e<=a:e>t&&e<a}function P(e){let t=Math.floor(e/3600),a=Math.floor((e-3600*t)/60),n=e-3600*t-60*a;return t>0&&a<10&&(a="0"+a),n<10&&(n="0"+n),(t>0?t+":":"")+a+":"+n}function _(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function x(e,t){return!(!e&&t)&&(!(e&&!t)&&(!e&&!t||(0===e.length&&0===t.length||e===t)))}function E(e,t,a){let n=0;for(;n<e.length&&a(e[n],t)<0;n++);return[...e.slice(0,n),t,...e.slice(n)]}},2:function(e,t,a){"use strict";var n=a(7),i=a.n(n),s=a(14),r=a(17),o=a(70),c=a(18),l=a(13),d=a(145),u=a.n(d);class h extends r.a{constructor(){var e;super(),e=this,this.init=e=>{this.setParameters(e);const t=this.parameters,a=t.verbosity,n=t.jsVerbosity,i=t.useTestDC,s=t.readOnly,r=t.fastUpdating,o=t.useDatabase,c=t.mode;!function(e,t){var a=indexedDB.open(e),n=!0;a.onsuccess=function(){a.result.close(),n||indexedDB.deleteDatabase(e),t(n)},a.onupgradeneeded=function(){n=!1}}(i?"tdlib_test":"tdlib",e=>{this.clientUpdate({"@type":"clientUpdateTdLibDatabaseExists",exists:e});let t={logVerbosityLevel:a,jsLogVerbosityLevel:n,mode:c,prefix:i?"tdlib_test":"tdlib",readOnly:s,isBackground:!1,useDatabase:o,wasmUrl:"".concat(l.xb,"?_sw-precache=").concat(l.wb)};console.log("[TdLibController] (fast_updating=".concat(r,") Start client with params=").concat(JSON.stringify(t))),this.client=new u.a(t),this.client.onUpdate=e=>{this.disableLog||("updateFile"===e["@type"]?console.log("receive updateFile file_id="+e.file.id,e):console.log("receive update",e)),this.emit("update",e)}})},this.clientUpdate=e=>{this.disableLog||console.log("clientUpdate",e),this.emit("clientUpdate",e)},this.setParameters=e=>{if(!e)return;const t=e.search;if(!t)return;const a=new URLSearchParams(t.toLowerCase());if(a.has("test")&&(this.parameters.useTestDC=Object(c.w)(a.get("test"))),a.has("verbosity")){const e=parseInt(a.get("verbosity"),10);e>=l.vb&&e<=l.ub&&(this.parameters.verbosity=e)}if(a.has("jsverbosity")){const e=parseInt(a.get("jsverbosity"),10);e>=l.tb&&e<=l.sb&&(this.parameters.jsVerbosity=e)}if(a.has("tag")&&a.has("tagverbosity")){const e=a.get("tag").replace("[","").replace("]","").split(","),t=a.get("tagverbosity").replace("[","").replace("]","").split(",");e&&t&&e.length===t.length&&(this.parameters.tag=e,this.parameters.tagVerbosity=t)}a.has("readonly")&&(this.parameters.readOnly=Object(c.w)(a.get("readonly"))),a.has("fastupdating")&&(this.parameters.fastUpdating=Object(c.w)(a.get("fastupdating"))),a.has("db")&&(this.parameters.useDatabase=Object(c.w)(a.get("db"))),a.has("mode")&&(this.parameters.mode=a.get("mode")),a.has("clientlog")&&(this.disableLog=!Object(c.w)(a.get("clientlog")))},this.send=e=>{if(this.client)return this.disableLog?this.client.send(e):(console.log("send",e),this.client.send(e).then(e=>(console.log("send result",e),e)).catch(e=>{throw console.error("send error",e),e}));console.log("send (none init)",e)},this.sendTdParameters=Object(s.a)(i.a.mark((function t(){var a,n,s,r,l,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("593326",a="51296106d99b9e9b5509e329f037624f",n=e.parameters.useTestDC,s=o.version,e.send({"@type":"setTdlibParameters",parameters:{"@type":"tdParameters",use_test_dc:n,api_id:"593326",api_hash:a,system_language_code:navigator.language||"en",device_model:Object(c.d)(),system_version:Object(c.h)(),application_version:s,use_secret_chats:!1,use_message_database:!0,use_file_database:!1,database_directory:"/db",files_directory:"/"}}),e.parameters.tag&&e.parameters.tagVerbosity)for(r=0;r<e.parameters.tag.length;r++)l=e.parameters.tag[r],d=e.parameters.tagVerbosity[r],e.send({"@type":"setLogTagVerbosityLevel",tag:l,new_verbosity_level:d});case 7:case"end":return t.stop()}}),t)}))),this.setChatId=(e,t=null)=>{const a={"@type":"clientUpdateChatId",chatId:e,messageId:t};this.clientUpdate(a)},this.parameters={useTestDC:!1,readOnly:!1,verbosity:1,jsVerbosity:3,fastUpdating:!0,useDatabase:!1,mode:"wasm"},this.disableLog=!0}logOut(){this.send({"@type":"logOut"}).catch(e=>{this.emit("tdlib_auth_error",e)})}setMediaViewerContent(e){this.clientUpdate({"@type":"clientUpdateMediaViewerContent",content:e})}}const p=new h;t.a=p},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(16),r=a.n(s),o=a(150),c=a(52),l=a(7),d=a.n(l),u=a(14),h=a(60),p=a(135),g=a(105),m=a.n(g),f=a(254),y=a(74),b=a(9);function w(e,t){let a={},n={};"light"===e&&(a={child:{color:"dark"===e?"currentColor":"rgba(112, 117, 121)"},rippleVisible:{opacity:.08},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.03},"100%":{transform:"scale(1)",opacity:.08}}},n={hover:"rgba(112, 117, 121, 0.08)",hoverOpacity:.08});const i=m()({palette:{type:e,primary:t,secondary:{main:"#E53935"},action:n},typography:{useNextVariants:!0},shape:{borderRadius:8},overrides:{MuiOutlinedInput:{input:{padding:"17.5px 14px"}},MuiAutocomplete:{option:{paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},paper:{"& > ul":{maxHeight:308}}},MuiMenuList:{root:{minWidth:150}},MuiList:{root:{minWidth:150}},MuiTouchRipple:a}});return"dark"===e?function(e){const t=document.documentElement.style;t.setProperty("--text-primary",e.palette.text.primary),t.setProperty("--text-secondary",e.palette.text.secondary),t.setProperty("--text-disabled",e.palette.text.disabled),t.setProperty("--error","#E53935"),t.setProperty("--tile-size","54px"),t.setProperty("--tile-size-normal","48px"),t.setProperty("--tile-size-extra-small","16px"),t.setProperty("--tile-size-small","33px"),t.setProperty("--tile-size-big","120px"),t.setProperty("--z-index-modal",e.zIndex.modal),t.setProperty("--color-accent-main",e.palette.primary.main),t.setProperty("--color-accent-main22",e.palette.primary.main+"44"),t.setProperty("--color-accent-dark",e.palette.primary.dark),t.setProperty("--color-accent-light",e.palette.primary.light),t.setProperty("--color-grey700",e.palette.grey[700]),t.setProperty("--color-grey","#9AA7B2"),t.setProperty("--color-hover","rgba(112, 117, 121, 0.15)"),t.setProperty("--search-input-background","#424242"),t.setProperty("--search-input-icon","#fff"),t.setProperty("--header-color","#ffffff"),t.setProperty("--header-subtle-color",e.palette.text.secondary),t.setProperty("--badge-unmuted","#4DCD5E"),t.setProperty("--badge-muted","rgba(255, 255, 255, 0.5)"),t.setProperty("--online-indicator","#0AC630"),t.setProperty("--message-service-color","#FFFFFF"),t.setProperty("--message-service-background","#303030"),t.setProperty("--panel-background","#303030"),t.setProperty("--border",e.palette.divider),t.setProperty("--chat-background",e.palette.grey[900]),t.setProperty("--background",e.palette.grey[900]),t.setProperty("--background-paper",e.palette.background.paper),t.setProperty("--shared-media-background",e.palette.background.paper),t.setProperty("--dialog-color","#ffffff"),t.setProperty("--dialog-subtle-color",e.palette.text.secondary),t.setProperty("--dialog-meta-color",e.palette.text.secondary),t.setProperty("--dialog-meta-read-color","#4FAE4E"),t.setProperty("--media-in-tile-background",e.palette.primary.main),t.setProperty("--media-out-tile-background",e.palette.primary.main),t.setProperty("--message-in-link",e.palette.primary.main),t.setProperty("--message-in-author",e.palette.primary.main),t.setProperty("--message-in-background","#303030"),t.setProperty("--message-in-color","#FFFFFF"),t.setProperty("--message-in-subtle-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-in-meta-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-in-reply-title",e.palette.primary.main),t.setProperty("--message-in-reply-border",e.palette.primary.main),t.setProperty("--message-in-control",e.palette.primary.main),t.setProperty("--message-in-control-hover",e.palette.primary.main+"22"),t.setProperty("--message-in-control-border",e.palette.primary.main+"77"),t.setProperty("--message-in-control-border-hover",e.palette.primary.main),t.setProperty("--message-out-link",e.palette.primary.main),t.setProperty("--message-out-author",e.palette.primary.main),t.setProperty("--message-out-background","#303030"),t.setProperty("--message-out-color","#FFFFFF"),t.setProperty("--message-out-subtle-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-out-meta-color","rgba(255, 255, 255, 0.7)"),t.setProperty("--message-out-reply-title",e.palette.primary.main),t.setProperty("--message-out-reply-border",e.palette.primary.main),t.setProperty("--message-out-control",e.palette.primary.main),t.setProperty("--message-out-control-hover",e.palette.primary.main+"22"),t.setProperty("--message-out-control-border",e.palette.primary.main+"77"),t.setProperty("--message-out-control-border-hover",e.palette.primary.main)}(i):function(e){const t=document.documentElement.style;t.setProperty("--text-primary","#000000"),t.setProperty("--text-secondary","#707579"),t.setProperty("--text-disabled","rgba(0, 0, 0, 0.38)"),t.setProperty("--error","#E53935"),t.setProperty("--tile-size","54px"),t.setProperty("--tile-size-normal","48px"),t.setProperty("--tile-size-extra-small","16px"),t.setProperty("--tile-size-small","33px"),t.setProperty("--tile-size-big","120px"),t.setProperty("--z-index-modal",e.zIndex.modal),t.setProperty("--color-accent-main",e.palette.primary.main),t.setProperty("--color-accent-main22",e.palette.primary.main+"44"),t.setProperty("--color-accent-dark",e.palette.primary.dark),t.setProperty("--color-accent-light",e.palette.primary.light),t.setProperty("--color-grey700",e.palette.grey[700]),t.setProperty("--color-grey","#9AA7B2"),t.setProperty("--color-hover","#70757914"),t.setProperty("--search-input-background","#f4f4f5"),t.setProperty("--search-input-icon","#9aa7b2"),t.setProperty("--header-color","#000000"),t.setProperty("--header-subtle-color","#707579"),t.setProperty("--badge-unmuted","#4DCD5E"),t.setProperty("--badge-muted","#C4C9CC"),t.setProperty("--online-indicator","#0AC630"),t.setProperty("--message-service-color","#FFFFFF"),t.setProperty("--message-service-background","#00000033"),t.setProperty("--panel-background","#ffffff"),t.setProperty("--border","#DADCE0"),t.setProperty("--chat-background","#e6ebee"),t.setProperty("--background","#ffffff"),t.setProperty("--background-paper",e.palette.background.paper),t.setProperty("--shared-media-background",e.palette.background.default),t.setProperty("--dialog-color","#000000"),t.setProperty("--dialog-subtle-color","#707579"),t.setProperty("--dialog-meta-color","#5F6369"),t.setProperty("--dialog-meta-read-color","#4FAE4E"),t.setProperty("--media-in-tile-background",e.palette.primary.main),t.setProperty("--media-out-tile-background","#4FAE4E"),t.setProperty("--message-in-link",e.palette.primary.main),t.setProperty("--message-in-author",e.palette.primary.main),t.setProperty("--message-in-background","#FFFFFF"),t.setProperty("--message-in-color","#000000"),t.setProperty("--message-in-subtle-color","#707579"),t.setProperty("--message-in-meta-color","#8D969C"),t.setProperty("--message-in-reply-title",e.palette.primary.main),t.setProperty("--message-in-reply-border",e.palette.primary.main),t.setProperty("--message-in-control",e.palette.primary.main),t.setProperty("--message-in-control-hover",e.palette.primary.main+"22"),t.setProperty("--message-in-control-border",e.palette.primary.main+"77"),t.setProperty("--message-in-control-border-hover",e.palette.primary.main),t.setProperty("--message-out-link","#4FAE4E"),t.setProperty("--message-out-author","#4FAE4E"),t.setProperty("--message-out-background","#EEFFDE"),t.setProperty("--message-out-color","#000000"),t.setProperty("--message-out-subtle-color","#4FAE4E"),t.setProperty("--message-out-meta-color","#4FAE4E"),t.setProperty("--message-out-reply-title","#4FAE4E"),t.setProperty("--message-out-reply-border","#4FAE4E"),t.setProperty("--message-out-control","#4FAE4E"),t.setProperty("--message-out-control-hover","#4FAE4E22"),t.setProperty("--message-out-control-border","#4FAE4E77"),t.setProperty("--message-out-control-border-hover","#4FAE4E")}(i),i}var C=function(e){class t extends i.a.Component{constructor(e){super(e),this.onClientUpdateThemeChanging=e=>{const t=e.type,a=e.primary,n=w(t,a);localStorage.setItem("themeOptions",JSON.stringify({type:t,primary:a})),this.setState({theme:n},()=>b.a.emit("clientUpdateThemeChange"))};let t="light",a={main:"#50A2E9"};try{const e=JSON.parse(localStorage.getItem("themeOptions"));e&&(t=e.type,a=e.primary)}catch(i){}const n=w(t,a);this.state={theme:n}}componentDidMount(){b.a.on("clientUpdateThemeChanging",this.onClientUpdateThemeChanging)}componentWillUnmount(){b.a.off("clientUpdateThemeChanging",this.onClientUpdateThemeChanging)}render(){const t=this.state.theme;return i.a.createElement(y.b,{injectFirst:!0},i.a.createElement(f.a,{theme:t},i.a.createElement(e,this.props)))}}return t.displayName="WithTheme(".concat(Object(h.b)(e),")"),t},v=a(122),k=a.n(v),S=a(31),U=a(260),P=a(273),_=a(266),x=a(264),E=a(265),I=a(263),M=a(70),T=a(44);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var L=i.a.createElement("g",{id:"Login",stroke:"none",strokeWidth:1,fillRule:"evenodd"},i.a.createElement("g",{id:"Login_5_Phone",transform:"translate(-760.000000, -186.000000)"},i.a.createElement("path",{d:"M840,346 C795.81722,346 760,310.18278 760,266 C760,221.81722 795.81722,186 840,186 C884.18278,186 920,221.81722 920,266 C920,310.18278 884.18278,346 840,346 Z M794.596303,264.66919 C790.659174,266.234556 788.596733,267.765936 788.408978,269.263329 C788.048509,272.138166 792.188142,273.033142 797.396667,274.725906 C801.643184,276.106018 807.355495,277.720609 810.325092,277.784753 C813.018799,277.842938 816.025284,276.732617 819.344546,274.453789 C841.998088,259.16492 853.691946,251.437186 854.426119,251.270588 C854.944065,251.153055 855.661811,251.005273 856.148118,251.437434 C856.634425,251.869594 856.586618,252.688022 856.535106,252.907586 C856.123224,254.663156 834.84286,274.015606 833.61816,275.287388 C828.938462,280.146996 823.615302,283.120543 831.826781,288.530755 C838.932147,293.212193 843.067503,296.19863 850.387542,300.996094 C855.065474,304.061953 858.733031,307.697601 863.562866,307.253237 C865.785287,307.048765 868.080902,304.959403 869.246762,298.727987 C872.002037,284.001293 877.417883,252.09303 878.669527,238.944397 C878.779187,237.792407 878.641237,236.318088 878.530455,235.670896 C878.419672,235.023705 878.188168,234.101592 877.346762,233.418979 C876.350285,232.610561 874.811937,232.440083 874.123923,232.4522 C870.995743,232.507295 866.196346,234.175802 843.099163,243.78089 C835.009657,247.144954 818.842037,254.107721 794.596303,264.66919 Z"})));const N=e=>{let t=e.svgRef,a=e.title,n=D(e,["svgRef","title"]);return i.a.createElement("svg",O({className:"telegram-logo",width:"160px",height:"160px",viewBox:"0 0 160 160",ref:t},n),a?i.a.createElement("title",null,a):null,L)},A=i.a.forwardRef((e,t)=>i.a.createElement(N,O({svgRef:t},e)));a.p;var F=a(17),z=a(13),j=a(2);class W extends F.a{constructor(){super(),this.reset=()=>{this.current=null},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;this.current=t,this.save(t),this.emit(e["@type"],e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateMonkeyIdle":case"clientUpdateMonkeyTracking":case"clientUpdateMonkeyClose":case"clientUpdateMonkeyPeek":this.emit(e["@type"],e)}},this.addTdLibListener=()=>{j.a.on("update",this.onUpdate),j.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{j.a.off("update",this.onUpdate),j.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.load(),this.addTdLibListener()}load(){try{const e=localStorage.getItem(z.l);this.current=e?JSON.parse(e):null}catch(e){}}save(e){e?localStorage.setItem(z.l,JSON.stringify(e)):localStorage.removeItem(z.l)}}const R=new W;window.authorization=R;var V=R;a(205);const B=i.a.lazy(()=>Promise.all([a.e(1),a.e(0)]).then(a.bind(null,576)));class K extends i.a.Component{constructor(e){var t;super(e),t=this,this.loadData=Object(u.a)(d.a.mark((function e(){var a,n,i,s,r,o,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.state.closeData)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,n=[fetch("data/TwoFactorSetupMonkeyClose.json"),fetch("data/TwoFactorSetupMonkeyIdle.json"),fetch("data/TwoFactorSetupMonkeyPeek.json"),fetch("data/TwoFactorSetupMonkeyTracking.json")],e.next=7,Promise.all(n);case 7:return i=e.sent,e.next=10,Promise.all(i.map(e=>e.json()));case 10:s=e.sent,r=Object(T.a)(s,4),a=r[0],o=r[1],c=r[2],l=r[3],t.setState({closeData:a,idleData:o,peekData:c,trackingData:l},()=>{const e=t.state.lastUpdate;if(e)switch(e["@type"]){case"clientUpdateMonkeyIdle":t.onClientUpdateMonkeyIdle(e);break;case"clientUpdateMonkeyTracking":t.onClientUpdateMonkeyTracking(e);break;case"clientUpdateMonkeyClose":t.onClientUpdateMonkeyClose(e);break;case"clientUpdateMonkeyPeek":t.onClientUpdateMonkeyPeek(e)}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[3,19]])}))),this.onClientUpdateMonkeyIdle=e=>{const t=this.state.idleData;this.setState({data:t,lastUpdate:e},()=>{const e=this.lottieRef.current;e&&e.anim.playSegments([0,180],!0)})},this.onClientUpdateMonkeyTracking=e=>{const t=e.code,a=e.prevCode,n=this.state.trackingData,i=Math.min(15*a.length,180),s=Math.min(15*t.length,180);this.setState({data:n,lastUpdate:e},()=>{const e=this.lottieRef.current;e&&e.anim.playSegments([i,s],!0)})},this.onClientUpdateMonkeyClose=e=>{const t=this.state.closeData;this.setState({data:t,lastUpdate:e},()=>{const e=this.lottieRef.current;e&&e.anim.playSegments([0,49],!0)})},this.onClientUpdateMonkeyPeek=e=>{const t=e.peek,a=this.state,n=a.peekData,i=a.lastUpdate;i&&"clientUpdateMonkeyPeek"===i["@type"]&&i.peek===t||this.setState({data:n,lastUpdate:e},()=>{const e=this.lottieRef.current;e&&(t?e.anim.playSegments([0,15],!0):e.anim.playSegments([15,33],!0))})},this.state={data:null,lastUpdate:null},this.lottieRef=i.a.createRef()}componentDidMount(){var e=this;return Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(e.loadData,100),V.on("clientUpdateMonkeyIdle",e.onClientUpdateMonkeyIdle),V.on("clientUpdateMonkeyTracking",e.onClientUpdateMonkeyTracking),V.on("clientUpdateMonkeyClose",e.onClientUpdateMonkeyClose),V.on("clientUpdateMonkeyPeek",e.onClientUpdateMonkeyPeek);case 5:case"end":return t.stop()}}),t)})))()}componentWillUnmount(){V.off("clientUpdateMonkeyIdle",this.onClientUpdateMonkeyIdle),V.off("clientUpdateMonkeyTracking",this.onClientUpdateMonkeyTracking),V.off("clientUpdateMonkeyClose",this.onClientUpdateMonkeyClose),V.off("clientUpdateMonkeyPeek",this.onClientUpdateMonkeyPeek)}render(){const e=this.props.state,t=this.state.data;let a=null;switch(e["@type"]){case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitEncryptionKey":case"authorizationStateWaitTdlibParameters":case"authorizationStateWaitTdlib":a=i.a.createElement(A,{className:"auth-caption-telegram-logo"});break;case"authorizationStateWaitCode":case"authorizationStateWaitPassword":a=i.a.createElement("div",{className:"auth-caption-telegram-logo"},i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(B,{ref:this.lottieRef,options:{autoplay:!1,loop:!1,animationData:t,renderer:"svg",rendererSettings:{preserveAspectRatio:"xMinYMin slice",clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0,className:"auth-caption-lottie"}}})))}return i.a.createElement("div",{className:"auth-caption"},a)}}var J=K,H=a(109),q=a.n(H),G=a(98),Y=a(226),X=a(148),Z=a.n(X),Q=a(270),$=a(67),ee=a(78),te=a(271),ae=a(272),ne=a(261);a(207);var ie=function({emoji:e,name:t,phone:a}){return i.a.createElement("div",{className:"country"},i.a.createElement("span",{className:"country-emoji"},e),i.a.createElement("span",{className:"country-name"},t),i.a.createElement("span",{className:"country-phone"},a))},se=a(62),re=a(64);a(208);function oe(e){return e?e.replace("...","").replace("\u2026",""):e}function ce(e){if(!e)return!1;switch(e["@type"]){case"connectionStateConnecting":case"connectionStateConnectingToProxy":return!0;case"connectionStateReady":case"connectionStateUpdating":case"connectionStateWaitingForNetwork":return!1}return!1}function le(e){const t=V.data;if(!t)return e;const a=he(e,t);return a?function(e,t){e=ue(e);let a="",n=0;for(let i=0;i<t.length&&n<e.length;i++)t[i]>="0"&&t[i]<="9"?(a+=t[i],e[n]===t[i]&&n++):" "===t[i]?a+=t[i]:"X"===t[i]&&(a+=e[n++]);return a+=" "+e.substring(n),"+"+a}(e,a.pattern):e}function de(e){return e>="0"&&e<="9"||(" "===e||"+"===e)}function ue(e){return e?e.replace(/ /g,"").replace("+","").toLowerCase():e}function he(e,t){if(!t)return null;const a=t.findIndex(t=>function(e,t){if(!e)return!1;if(!t)return!1;e=ue(e);const a=ue(t.phone);return e.startsWith(a)}(e,t));return-1!==a?t[a]:null}function pe(e,t){if(!e)return null;if(!t)return null;const a=t.findIndex(t=>t.code.toLowerCase()===e.toLowerCase());return-1!==a?t[a]:null}class ge extends i.a.Component{constructor(e){super(e),this.onUpdateConnectionState=e=>{const t=e.state;"connectionStateReady"===t["@type"]&&this.setCountryCode(),this.setState({connecting:ce(t)})},this.onClientUpdateSetPhoneCanceled=e=>{this.setState({loading:!1})},this.onClientUpdateSetPhoneError=e=>{const t=e.error;let a=null;if(t&&"error"===t["@type"]&&t.message){if("PHONE_NUMBER_INVALID"===t.message)return void this.setState({error:{code:"InvalidPhoneNumber"},loading:!1});a=t.message}else a=JSON.stringify(t);this.setState({error:{string:a},loading:!1})},this.onClientUpdateSetPhoneResult=e=>{this.setState({loading:!1})},this.onUpdateOption=e=>{"suggested_language_pack_id"===e.name&&this.setSuggestedLanguagePackId()},this.handleKeyPress=e=>{"Enter"===e.key?(e.preventDefault(),this.handleDone()):de(e.key)||(e.preventDefault(),e.stopPropagation())},this.handleDone=()=>{const e=this.state.phone;!function(e){if(!e)return!1;let t=!e.match(/^[\d\-+\s]+$/);return t||(e=e.replace(/\D/g,"")).length<7&&(t=!0),!t}(e)?this.setState({error:{code:"InvalidPhoneNumber"}}):(this.setState({error:null,loading:!0}),j.a.clientUpdate({"@type":"clientUpdateSetPhone",phone:e}))},this.handleChangeLanguage=()=>{const e=this.props.i18n,t=this.state.suggestedLanguage;if(!e)return;if(!t)return;const a=t===e.language?re.a.fallbackLng:t;j.a.clientUpdate({"@type":"clientUpdateLanguageChange",language:a})},this.handleFilterOptions=(e,{inputValue:t})=>{if(!e)return;let a=t.toLowerCase().replace(/ /g,"");return a=a.length>0&&"+"===a[0]?a.substring(1):a,e.filter(e=>function(e,t){if(!e)return!1;if(!t)return!0;t.length>0&&"("===t[0]&&(t=t.substring(1));const a=e.name.toLowerCase().split(" ");for(let i=0;i<a.length;i++)a[i].length>0&&"("===a[i][0]&&(a[i]=a[i].substring(1));const n=ue(e.phone);return!!a.some(e=>e.startsWith(t))||!(!n.startsWith(t)&&!t.startsWith(n))}(e,a))},this.handleCountryChange=(e,t)=>{if(!t)return;const a=this.state,n=a.phone,i=a.country,s=i?n.replace(i.phone,""):n,r=t.phone+" "+s.trimStart();this.setState({country:t,phone:r},()=>{this.phoneInputRef.current.focus()})},this.handleKeepChange=(e,t)=>{this.setState({keep:!this.state.keep})},this.handlePhoneChange=e=>{let t=e.target.value;const a=this.props.data;let n=this.state.country;var i,s;n&&(t.startsWith(n.phone)||(n=null)),!n&&a&&t&&(n=he(t,a),n&&(i=t,s=n.phone,ue(i)===ue(s))&&(t="+"+ue(t)+" ")),this.setState({phone:t,country:n})},this.handlePaste=e=>{const t=e.clipboardData.getData("text/plain");if(t){e.preventDefault();let a="";for(let e=0;e<t.length;e++)de(t.charAt(e))&&(a+=t.charAt(e));document.execCommand("insertText",!1,a)}};const t=e.defaultPhone||"",a=he(t,e.data);this.state={connecting:ce(b.a.connectionState),error:null,loading:!1,suggestedLanguage:localStorage.getItem(z.m),keep:!0,phone:t,country:a,countryCode:null},this.phoneInputRef=i.a.createRef()}setCountryCode(){var e=this;return Object(u.a)(d.a.mark((function t(){var a,n,i,s,r,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a=e.state.countryCode)){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,j.a.send({"@type":"getCountryCode"});case 5:if(n=t.sent){t.next=8;break}return t.abrupt("return");case 8:i=e.props.data,s=e.state,r=s.country,o=s.phone,r||o||!i||(r=pe(n.text,i))&&(o="+"+ue(r.phone)+" "),e.setState({phone:o,country:r,countryCode:a});case 12:case"end":return t.stop()}}),t)})))()}shouldComponentUpdate(e,t,a){return!0}componentDidMount(){this.setSuggestedLanguagePackId(),b.a.on("clientUpdateSetPhoneCanceled",this.onClientUpdateSetPhoneCanceled),b.a.on("clientUpdateSetPhoneError",this.onClientUpdateSetPhoneError),b.a.on("clientUpdateSetPhoneResult",this.onClientUpdateSetPhoneResult),b.a.on("updateConnectionState",this.onUpdateConnectionState),se.a.on("updateOption",this.onUpdateOption)}componentWillUnmount(){b.a.off("clientUpdateSetPhoneCanceled",this.onClientUpdateSetPhoneCanceled),b.a.off("clientUpdateSetPhoneError",this.onClientUpdateSetPhoneError),b.a.off("clientUpdateSetPhoneResult",this.onClientUpdateSetPhoneResult),b.a.off("updateConnectionState",this.onUpdateConnectionState),se.a.off("updateOption",this.onUpdateOption)}setSuggestedLanguagePackId(){var e=this;return Object(u.a)(d.a.mark((function t(){var a,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.i18n){t.next=3;break}return t.abrupt("return");case 3:if(a=se.a.get("suggested_language_pack_id")){t.next=6;break}return t.abrupt("return");case 6:return n=a.value,t.next=9,re.a.loadLanguage(n);case 9:e.setState({suggestedLanguage:n});case 10:case"end":return t.stop()}}),t)})))()}render(){const e=this.props,t=e.data,a=e.i18n,n=e.t,s=this.state,r=s.connecting,o=s.loading,c=s.error,l=s.suggestedLanguage,d=s.keep,u=s.phone,h=s.country;let p="";if(c){const e=c.code,t=c.string;p=e?n(e):t}const g=r?oe(n("Connecting")):n("SignInToTelegram"),m=l===a.language?re.a.fallbackLng:l;return i.a.createElement("form",{className:"auth-root",autoComplete:"off"},i.a.createElement(G.a,{variant:"body1",className:"auth-title"},i.a.createElement("span",null,g),r&&i.a.createElement($.a,null)),i.a.createElement(G.a,{variant:"body1",className:"auth-subtitle",style:{width:254}},n("StartText")),i.a.createElement(te.a,{debug:!1,id:"country-select",noOptionsText:n("NoResult"),options:t,disabled:o,autoHighlight:!0,getOptionLabel:e=>e.name,renderOption:e=>i.a.createElement(ie,{name:e.name,emoji:e.emoji,phone:e.phone}),renderInput:e=>i.a.createElement(Q.a,Object.assign({classes:{root:"auth-input"}},e,{label:n("Country"),variant:"outlined",inputProps:Object(ee.a)({},e.inputProps),fullWidth:!0,autoComplete:"off"})),filterOptions:this.handleFilterOptions,value:h,onChange:this.handleCountryChange}),i.a.createElement(Q.a,{id:"phoneNumber",classes:{root:"auth-input"},inputRef:this.phoneInputRef,variant:"outlined",color:"primary",label:n("PhoneNumber"),disabled:o,error:Boolean(p),helperText:p,fullWidth:!0,autoFocus:!0,autoComplete:"off",value:u,onChange:this.handlePhoneChange,onKeyPress:this.handleKeyPress,onPaste:this.handlePaste}),i.a.createElement("div",{className:"sign-in-keep"},i.a.createElement(ae.a,{color:"primary",checked:d,disabled:o,onChange:this.handleKeepChange}),i.a.createElement(G.a,{variant:"body1"},n("KeepMeSignedIn"))),i.a.createElement(U.a,{classes:{root:"auth-button"},variant:"contained",disableElevation:!0,fullWidth:!0,color:"primary",disabled:o,onClick:this.handleDone},n("Next")),i.a.createElement(G.a,{className:"sign-in-continue-on"},i.a.createElement(ne.a,{onClick:this.handleChangeLanguage},Boolean(m)?n("ContinueOnThisLanguage",{lng:m}):" ")))}}var me=Object(S.d)()(ge);a(209);class fe extends i.a.Component{constructor(e){super(e),this.onUpdateConnectionState=e=>{const t=e.state;this.setState({connecting:ce(t)})},this.handleNext=()=>{this.code&&this.isValid(this.code)?(this.setState({error:""}),this.handleDone()):this.setState({error:"Invalid code. Please try again."})},this.handleDone=()=>{const e=this.props.t,t=this.code;this.setState({loading:!0}),j.a.send({"@type":"checkAuthenticationCode",code:t,first_name:"A",last_name:"B"}).then(e=>{}).catch(t=>{let a=null;a=t&&"error"===t["@type"]&&t.message?"PHONE_CODE_INVALID"===t.message?e("InvalidCode"):t.message:JSON.stringify(t),this.setState({error:a},()=>{setTimeout(()=>this.inputRef.current.focus(),100)})}).finally(()=>{this.setState({loading:!1})})},this.handleBack=()=>{this.props.onChangePhone()},this.handleChange=e=>{const t=this.code||"";this.code=e.target.value||"",j.a.clientUpdate({"@type":"clientUpdateMonkeyTracking",prevCode:t,code:this.code}),this.code&&this.codeLength>0&&this.code.length===this.codeLength&&this.handleNext()},this.handleKeyPress=e=>{"Enter"===e.key&&(e.preventDefault(),this.handleNext())},this.state={connecting:ce(b.a.connectionState),error:"",loading:!1},this.inputRef=i.a.createRef()}componentDidMount(){j.a.clientUpdate({"@type":"clientUpdateMonkeyIdle"}),b.a.on("updateConnectionState",this.onUpdateConnectionState)}componentWillUnmount(){b.a.off("updateConnectionState",this.onUpdateConnectionState)}isValid(e){let t=!e.match(/^[\d\-+\s]+$/);return t||5!==(e=e.replace(/\D/g,"")).length&&(t=!0),!t}getPhoneNumber(e){return e?e.phone_number:null}getCodeLength(e){if(!e)return 0;if(!e.type)return 0;switch(e.type["@type"]){case"authenticationCodeTypeCall":return e.type.length;case"authenticationCodeTypeFlashCall":return 0;case"authenticationCodeTypeSms":case"authenticationCodeTypeTelegramMessage":return e.type.length}return 0}getSubtitle(e,t=(e=>e)){if(!e)return"Subtitle";if(!e.type)return"Subtitle";switch(e.type["@type"]){case"authenticationCodeTypeCall":case"authenticationCodeTypeFlashCall":return"Telegram dialed your number";case"authenticationCodeTypeSms":return"We have sent you a message with activation code to your phone. Please enter it below.";case"authenticationCodeTypeTelegramMessage":return"Please enter the code you've just received in your previous Telegram app."}return"Subtitle"}render(){const e=this.props,t=e.codeInfo,a=e.t,n=this.state,s=n.connecting,r=n.loading,o=n.error;this.phoneNumber=this.getPhoneNumber(t),this.codeLength=this.getCodeLength(t);const c=this.getSubtitle(t);let l="Title";return s?l=oe(a("Connecting")):this.phoneNumber&&(l=le(this.phoneNumber)),i.a.createElement("form",{className:"auth-root",autoComplete:"off"},i.a.createElement("div",{className:q()("code-title","auth-title")},i.a.createElement(G.a,{variant:"body1",className:"auth-title-typography"},i.a.createElement("span",null,l),s&&i.a.createElement($.a,null)),i.a.createElement(Y.a,{"aria-label":"edit",onClick:this.handleBack,disabled:r},i.a.createElement(Z.a,{fontSize:"small"}))),i.a.createElement(G.a,{variant:"body1",className:"auth-subtitle",style:{width:300}},c),i.a.createElement(Q.a,{classes:{root:"auth-input"},inputRef:this.inputRef,variant:"outlined",color:"primary",disabled:r,error:Boolean(o),helperText:o,fullWidth:!0,autoFocus:!0,autoComplete:"off",label:a("Code"),maxLength:this.codeLength>0?this.codeLength:256,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}var ye=Object(S.d)()(fe),be=a(262),we=a(258),Ce=a(274),ve=a(257),ke=a(259),Se=a(138),Ue=a.n(Se),Pe=a(149),_e=a.n(Pe);a(210);class xe extends i.a.Component{constructor(e){super(e),this.onUpdateConnectionState=e=>{const t=e.state;this.setState({connecting:ce(t)})},this.handleNext=()=>{this.password?(this.setState({error:""}),this.handleDone()):this.setState({error:"Invalid password. Please try again."})},this.handleBack=()=>{this.props.onChangePhone()},this.handleDone=()=>{const e=this.password;this.setState({loading:!0}),j.a.send({"@type":"checkAuthenticationPassword",password:e}).then(e=>{}).catch(e=>{let t=null;t=e&&"error"===e["@type"]&&e.message?e.message:JSON.stringify(e),this.setState({error:t},()=>{setTimeout(()=>this.inputRef.current.focus(),100)})}).finally(()=>{this.setState({loading:!1})})},this.handleMouseDownPassword=e=>{e.preventDefault()},this.handleClickShowPassword=()=>{this.setState({showPassword:!this.state.showPassword}),this.sendMonkeyPeek()},this.handleChange=e=>{this.password=e.target.value},this.handleKeyPress=e=>{"Enter"===e.key&&(e.preventDefault(),this.handleNext())},this.state={connecting:ce(b.a.connectionState),password:"",showPassword:!1,error:""},this.inputRef=i.a.createRef(),this.sendMonkeyPeek=function(e,t,a){let n;return function(){let i=this,s=arguments,r=function(){n=null,a||e.apply(i,s)},o=a&&!n;clearTimeout(n),n=setTimeout(r,t),o&&e.apply(i,s)}}(this.sendMonkeyPeek,200,!1)}componentDidMount(){j.a.clientUpdate({"@type":"clientUpdateMonkeyClose"}),b.a.on("updateConnectionState",this.onUpdateConnectionState)}componentWillUnmount(){b.a.off("updateConnectionState",this.onUpdateConnectionState)}sendMonkeyPeek(){j.a.clientUpdate({"@type":"clientUpdateMonkeyPeek",peek:this.state.showPassword})}render(){const e=this.props,t=e.passwordHint,a=e.t,n=this.state,s=n.connecting,r=n.loading,o=n.error,c=n.showPassword;let l=a("EnterPassword");return s&&(l=oe(a("Connecting"))),i.a.createElement("form",{className:"auth-root",autoComplete:"off"},i.a.createElement(G.a,{variant:"body1",className:"auth-title"},i.a.createElement("span",null,l),s&&i.a.createElement($.a,null)),i.a.createElement(G.a,{variant:"body1",className:"auth-subtitle",style:{width:235}},a("YourAccountProtectedWithPassword")),i.a.createElement(ve.a,{className:"auth-input",fullWidth:!0,variant:"outlined"},i.a.createElement(we.a,{htmlFor:"adornment-password",error:Boolean(o)},a("LoginPassword")),i.a.createElement(Ce.a,{fullWidth:!0,autoFocus:!0,autoComplete:"off",id:"adornment-password",inputRef:this.inputRef,type:c?"text":"password",disabled:r,error:Boolean(o),onChange:this.handleChange,onKeyPress:this.handleKeyPress,endAdornment:i.a.createElement(be.a,{position:"end"},i.a.createElement(Y.a,{"aria-label":"Toggle password visibility",onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,edge:"end"},c?i.a.createElement(Ue.a,null):i.a.createElement(_e.a,null))),labelWidth:70}),t&&i.a.createElement(ke.a,{id:"password-hint-text"},t),o&&i.a.createElement(ke.a,{id:"password-error-text",error:!0},o)),i.a.createElement(U.a,{classes:{root:"auth-button"},fullWidth:!0,color:"primary",variant:"contained",disableElevation:!0,onClick:this.handleNext,disabled:r},a("Next")))}}var Ee=Object(S.d)()(xe);class Ie extends i.a.Component{constructor(e){super(e),this.state={open:!1,error:null},this.handleAuthError=this.handleAuthError.bind(this),this.handleClose=this.handleClose.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidMount(){j.a.on("tdlib_auth_error",this.handleAuthError)}componentWillUnmount(){j.a.off("tdlib_auth_error",this.handleAuthError)}handleAuthError(e){this.setState({open:!0,error:e})}handleClose(){this.setState({open:!1})}handleKeyDown(e){"Enter"===e.key&&(e.preventDefault(),this.handleClose())}render(){let e=null;return e=this.state.error&&"error"===this.state.error["@type"]&&this.state.error.message?this.state.error.message:JSON.stringify(this.state.error),i.a.createElement(P.a,{transitionDuration:0,open:this.state.open,onKeyDown:this.handleKeyDown,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},i.a.createElement(I.a,{id:"form-dialog-title"},"Error"),i.a.createElement(x.a,null,i.a.createElement(E.a,null,e)),i.a.createElement(_.a,null,i.a.createElement(U.a,{onClick:this.handleClose,color:"primary"},"Ok")))}}var Me=Ie,Te=a(83);a(211);class Oe extends i.a.Component{constructor(...e){var t;super(...e),t=this,this.state={data:null},this.loadContent=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.state.data){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Object(Te.b)();case 6:V.data=e.sent,t.setState({data:V.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))}componentDidMount(){setTimeout(this.loadContent,100)}render(){const e=this.props.authorizationState,t=this.state.data,a=b.a.defaultPhone;let n=null;switch(e["@type"]){case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitEncryptionKey":case"authorizationStateWaitTdlibParameters":case"authorizationStateWaitTdlib":n=i.a.createElement(me,{defaultPhone:a,data:t});break;case"authorizationStateWaitCode":{const a=this.props.onChangePhone,s=e.terms_of_service,r=e.code_info;n=i.a.createElement(ye,{termsOfService:s,codeInfo:r,onChangePhone:a,data:t});break}case"authorizationStateWaitPassword":{const t=this.props.onChangePhone,a=e.password_hint,s=e.has_recovery_email_address,r=e.recovery_email_address_pattern;n=i.a.createElement(Ee,{passwordHint:a,hasRecoveryEmailAddress:s,recoveryEmailAddressPattern:r,onChangePhone:t});break}}return i.a.createElement("div",{className:"authorization-form",onLoad:this.handleLoad},i.a.createElement("div",{className:"authorization-form-content"},i.a.createElement(J,{state:e}),n),i.a.createElement(Me,null))}}var De=Oe,Le=a(139),Ne=a.n(Le);a(212);class Ae extends i.a.Component{static handleReload(){window.location.reload()}render(){return i.a.createElement("div",{className:"app-inactive"},i.a.createElement("div",{className:"app-inactive-wrapper"},i.a.createElement("img",{className:"app-inactive-image",src:"Manytabs_2x.png",alt:"",onClick:Ae.handleReload}),i.a.createElement("h3",{className:"app-inactive-title"},"Such error, many tabs"),i.a.createElement("div",{className:"app-inactive-description"},"Telegram supports only one active tab with the app.",i.a.createElement("br",null),"Please reload this page to continue using this tab or close it."),i.a.createElement("div",{className:"app-inactive-actions"},i.a.createElement(Ne.a,{color:"primary",onClick:Ae.handleReload},"Reload app"))))}}var Fe=Ae;a(216);class ze extends i.a.PureComponent{render(){return i.a.createElement("div",{className:"footer-wrapper"},i.a.createElement("span",null,M.version))}}var je=ze;class We extends i.a.Component{render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-wrapper"}),i.a.createElement("div",{className:"page"},i.a.createElement(Fe,null)),i.a.createElement(je,null))}}var Re=We,Ve=a(18);a(217);class Be extends i.a.Component{render(){let e="Android_2x.jpg";return Object(Ve.q)()?e="iOS_2x.jpg":Object(Ve.s)()&&(e="WP_2x.jpg"),i.a.createElement("div",{className:"app-inactive"},i.a.createElement("div",{className:"app-inactive-wrapper"},i.a.createElement("img",{src:e,alt:"",className:"app-inactive-image",onClick:Be.handleInstall}),i.a.createElement("h3",{className:"app-inactive-title"},"Work is in progress!"),i.a.createElement("div",{className:"app-inactive-description"},"This client has not been optimized for mobile devices yet.",i.a.createElement("br",null),"Please consider using our native mobile app."),i.a.createElement("div",{className:"app-inactive-actions"},i.a.createElement(U.a,{color:"primary",onClick:Be.handleInstall},"Install app"))))}}Be.handleInstall=()=>{Object(Ve.q)()?window.location.href="https://telegram.org/dl/ios":Object(Ve.s)()?window.location.href="https://telegram.org/dl/wp":window.location.href="https://telegram.org/dl/android"};var Ke=Be;class Je extends i.a.Component{render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-wrapper"}),i.a.createElement("div",{className:"page",style:{background:"#FFFFFF",color:"#000000"}},i.a.createElement(Ke,null)),i.a.createElement(je,null))}}var He=Je,qe=a(55),Ge=a(38),Ye=a(72);a(166);const Xe=i.a.lazy(()=>Promise.all([a.e(6),a.e(4)]).then(a.bind(null,577)));class Ze extends n.Component{constructor(e){super(e),this.onClientUpdateTdLibDatabaseExists=e=>{const t=e.exists;t||this.setState({authorizationState:{"@type":"authorizationStateWaitTdlib"},tdlibDatabaseExists:t})},this.onUpdate=e=>{if(z.A&&!this.checkServiceWorker){this.checkServiceWorker=!0,localStorage.getItem("register")||Object(qe.a)()}},this.onUpdateFatalError=e=>{this.setState({fatalError:!0})},this.onUpdateAuthorizationState=e=>{const t=e.authorization_state;this.setState({authorizationState:t}),window.hasFocus&&t&&j.a.send({"@type":"setOption",name:"online",value:{"@type":"optionValueBoolean",value:!0}})},this.onClientUpdateAppInactive=e=>{this.setState({inactive:!0})},this.handleChangePhone=()=>{this.setState({authorizationState:{"@type":"authorizationStateWaitPhoneNumber"}})},this.handleDragOver=e=>{e.preventDefault(),e.stopPropagation()},this.handleDrop=e=>{e.preventDefault(),e.stopPropagation()},this.handleRefresh=()=>{this.setState({fatalError:!1}),window.location.reload()},this.handleDestroy=()=>{this.setState({fatalError:!1}),j.a.send({"@type":"destroy"})},this.handleKeyDown=e=>{},console.log("Start Telegram Web ".concat(M.version)),this.state={prevAuthorizationState:V.current,authorizationState:null,tdlibDatabaseExists:!1,inactive:!1,fatalError:!1,nativeMobile:Object(Ve.r)()}}componentWillMount(){const e=this.props.location;j.a.init(e)}componentDidMount(){setTimeout(()=>Object(Te.b)(),1500),j.a.on("update",this.onUpdate),b.a.on("clientUpdateAppInactive",this.onClientUpdateAppInactive),b.a.on("clientUpdateTdLibDatabaseExists",this.onClientUpdateTdLibDatabaseExists),b.a.on("updateAuthorizationState",this.onUpdateAuthorizationState),b.a.on("updateFatalError",this.onUpdateFatalError)}componentWillUnmount(){j.a.off("update",this.onUpdate),b.a.off("clientUpdateAppInactive",this.onClientUpdateAppInactive),b.a.off("clientUpdateTdLibDatabaseExists",this.onClientUpdateTdLibDatabaseExists),b.a.off("updateAuthorizationState",this.onUpdateAuthorizationState),b.a.off("updateFatalError",this.onUpdateFatalError)}render(){const e=this.props,t=e.t,a=e.theme,n=this.state,s=n.inactive,r=n.nativeMobile,o=(n.tdlibDatabaseExists,n.fatalError);let c=this.state,l=c.authorizationState,d=c.prevAuthorizationState;l&&"authorizationStateWaitEncryptionKey"!==l["@type"]&&"authorizationStateWaitTdlibParameters"!==l["@type"]||(l=d||{"@type":"authorizationStateWaitPhoneNumber"});t("Loading").replace("...","");let u=i.a.createElement(i.a.Suspense,{fallback:null},i.a.createElement(Xe,null));if(r)u=i.a.createElement(He,null);else if(s)u=i.a.createElement(Re,null);else if(l)switch(l["@type"]){case"authorizationStateClosed":case"authorizationStateClosing":case"authorizationStateLoggingOut":case"authorizationStateReady":break;case"authorizationStateWaitCode":case"authorizationStateWaitPassword":case"authorizationStateWaitPhoneNumber":case"authorizationStateWaitTdlib":u=i.a.createElement(De,{authorizationState:l,onChangePhone:this.handleChangePhone})}return i.a.createElement("div",{id:"app",className:"dark"===a.palette.type?"dark":"light",onDragOver:this.handleDragOver,onDrop:this.handleDrop,onKeyDown:this.handleKeyDown},u,i.a.createElement(P.a,{transitionDuration:0,open:o,onClose:this.handleRefresh,"aria-labelledby":"fatal-error-dialog-title","aria-describedby":"fatal-error-dialog-description"},i.a.createElement(I.a,{id:"fatal-error-dialog-title"},"Telegram"),i.a.createElement(x.a,null,i.a.createElement(E.a,{id:"fatal-error-dialog-description"},"Oops! Something went wrong. We need to refresh this page.")),i.a.createElement(_.a,null,i.a.createElement(U.a,{onClick:this.handleDestroy,color:"primary"},"Log out"),i.a.createElement(U.a,{onClick:this.handleRefresh,color:"primary",autoFocus:!0},"Refresh"))))}}const Qe=new Map;function $e(e){return et.apply(this,arguments)}function et(){return(et=Object(u.a)(d.a.mark((function e(t){var a,n,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.send({"@type":"getChats",offset_order:"9223372036854775807",offset_chat_id:0,limit:10});case 2:if(!(a=e.sent)){e.next=15;break}n=-1,i=0;case 6:if(!(i<a.chat_ids.length)){e.next=15;break}if((s=Ge.a.get(a.chat_ids[i]))&&s.is_pinned&&n++,n!==t){e.next=12;break}return j.a.setChatId(s.id),e.abrupt("return");case 12:i++,e.next=6;break;case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.keyMap=Qe,document.addEventListener("keyup",e=>{Qe.delete(e.key)}),document.addEventListener("keydown",function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe.set(t.key,t.key),a=b.a.authorizationState){e.next=4;break}return e.abrupt("return");case 4:if("authorizationStateReady"===a["@type"]){e.next=6;break}return e.abrupt("return");case 6:if(!(Qe.size>3)){e.next=8;break}return e.abrupt("return");case 8:if(!t.altKey||!t.ctrlKey){e.next=39;break}e.t0=t.key,e.next="0"===e.t0?12:"1"===e.t0?19:"2"===e.t0?23:"3"===e.t0?27:"4"===e.t0?31:"5"===e.t0?35:39;break;case 12:return t.preventDefault(),t.stopPropagation(),e.next=16,j.a.send({"@type":"createPrivateChat",user_id:Ye.a.getMyId(),force:!0});case 16:return(n=e.sent)&&j.a.setChatId(n.id),e.abrupt("break",39);case 19:return t.preventDefault(),t.stopPropagation(),$e(0),e.abrupt("break",39);case 23:return t.preventDefault(),t.stopPropagation(),$e(1),e.abrupt("break",39);case 27:return t.preventDefault(),t.stopPropagation(),$e(2),e.abrupt("break",39);case 31:return t.preventDefault(),t.stopPropagation(),$e(3),e.abrupt("break",39);case 35:return t.preventDefault(),t.stopPropagation(),$e(4),e.abrupt("break",39);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.hasFocus=!0,window.onblur=function(){Qe.clear(),window.hasFocus=!1,j.a.clientUpdate({"@type":"clientUpdateFocusWindow",focused:!1})},window.onfocus=function(){Qe.clear(),window.hasFocus=!0,j.a.clientUpdate({"@type":"clientUpdateFocusWindow",focused:!0})},window.history.pushState(null,null,window.location.href),window.onpopstate=function(){window.history.go(1)};var tt=Object(h.a)(p.a,Object(S.d)(),C,k.a)(Ze);a(218);if(r.a.render(i.a.createElement(o.a,null,i.a.createElement(c.a,{path:"",component:tt})),document.getElementById("root")),z.A){localStorage.getItem("register")&&Object(qe.a)()}else Object(qe.a)()},38:function(e,t,a){"use strict";var n=a(42),i=a(17),s=a(44),r=a(13);var o=class{constructor(e,t){this.actions=new Map,this.timerId=null,this.chatId=e,this.timeoutCallback=t,this.handleTimer=this.handleTimer.bind(this),this.addAction=this.addAction.bind(this),this.clearAction=this.clearAction.bind(this),this.setActionsTimeout=this.setActionsTimeout.bind(this)}handleTimer(){let e=new Date,t=[];var a,i=Object(n.a)(this.actions);try{for(i.s();!(a=i.n()).done;){let n=Object(s.a)(a.value,2),i=n[0];n[1].expire-e<=0&&t.push(i)}}catch(l){i.e(l)}finally{i.f()}for(var r=0,o=t;r<o.length;r++){let e=o[r];this.actions.delete(e)}let c={"@type":"updateUserChatAction",chat_id:this.chatId,action:{"@type":"chatActionTimerUpdate"}};this.timeoutCallback(c),this.setActionsTimeout()}addAction(e,t){let a=new Date;a.setSeconds(a.getSeconds()+r.pb),this.actions.set(e,{expire:a,action:t}),this.timerId&&clearTimeout(this.timerId),this.setActionsTimeout()}setActionsTimeout(){let e=new Date,t=1e6;var a,i=Object(n.a)(this.actions);try{for(i.s();!(a=i.n()).done;){let n=Object(s.a)(a.value,2),i=(n[0],n[1].expire-e);i<t&&(t=i),t<0&&(t=0)}}catch(r){i.e(r)}finally{i.f()}t<1e6&&(this.timerId=setTimeout(this.handleTimer,t))}clearAction(e){this.actions.delete(e),this.timerId&&clearTimeout(this.timerId),this.setActionsTimeout()}},c=a(72),l=a(2);class d extends i.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.typingManagers=new Map,this.onlineMemberCount=new Map,this.counters=new Map,this.skippedUpdates=[],this.chatList=new Map},this.loadClientData=()=>{const e=new Map;try{let t=localStorage.get("clientData");t&&(t=JSON.parse(t),t&&Object.keys(t).forEach(a=>{e.set(Number(a),t[a])}))}catch(t){}this.clientData=e},this.saveClientData=()=>{const e=Array.from(this.clientData.entries()).reduce((e,[t,a])=>(a&&(e[String(t)]=a),e),{});localStorage.setItem("clientData",JSON.stringify(e))},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateConnectionState":"connectionStateUpdating"===e.state["@type"]?(this.updating=!0,this.skippedUpdates=[]):(this.updating=!1,this.skippedUpdates.length>0&&(l.a.parameters.fastUpdating=!1,this.emitUpdate({"@type":"clientUpdateFastUpdatingComplete",updates:this.skippedUpdates}),this.skippedUpdates=[]));break;case"updateChatActionBar":{const t=e.chat_id,a=e.action_bar,n=this.get(t);n&&this.assign(n,{action_bar:a}),this.emitFastUpdate(e);break}case"updateChatChatList":{const t=e.chat_id,a=e.chat_list,n=this.get(t);n&&this.assign(n,{chat_list:a}),this.updateChatChatList(t,a),this.emitFastUpdate(e);break}case"updateChatDefaultDisableNotification":this.emitFastUpdate(e);break;case"updateChatOnlineMemberCount":this.setOnlineMemberCount(e.chat_id,e.online_member_count),this.emitFastUpdate(e);break;case"updateChatDraftMessage":{const t=e.chat_id,a=e.order,n=e.draft_message,i=this.get(t);i&&this.assign(i,{order:"0"===a?i.order:a,draft_message:n}),this.emitFastUpdate(e);break}case"updateChatIsMarkedAsUnread":{const t=e.chat_id,a=e.is_marked_as_unread,n=this.get(t);n&&this.assign(n,{is_marked_as_unread:a}),this.emitFastUpdate(e);break}case"updateChatIsPinned":{const t=e.chat_id,a=e.order,n=e.is_pinned,i=this.get(t);i&&this.assign(i,{order:a,is_pinned:n}),this.emitFastUpdate(e);break}case"updateChatIsSponsored":{const t=e.chat_id,a=e.order,n=e.is_sponsored,i=this.get(t);i&&this.assign(i,{order:a,is_sponsored:n}),this.emitFastUpdate(e);break}case"updateChatLastMessage":{const t=e.chat_id,a=e.order,n=e.last_message,i=this.get(t);i&&this.assign(i,{order:"0"===a?i.order:a,last_message:n}),this.emitFastUpdate(e);break}case"updateChatNotificationSettings":{const t=e.chat_id,a=e.notification_settings,n=this.get(t);n&&this.assign(n,{notification_settings:a}),this.emitFastUpdate(e);break}case"updateChatOrder":{const t=e.chat_id,a=e.order,n=this.get(t);n&&this.assign(n,{order:a}),this.emitFastUpdate(e);break}case"updateChatPhoto":{const t=e.chat_id,a=e.photo,n=this.get(t);if(n)switch(this.assign(n,{photo:a}),n.type["@type"]){case"chatTypeBasicGroup":case"chatTypeSupergroup":break;case"chatTypePrivate":case"chatTypeSecret":{const t=c.a.get(n.type.user_id);t&&c.a.assign(t,{profile_photo:e.photo});break}}this.emitFastUpdate(e);break}case"updateChatPinnedMessage":{const t=e.chat_id,a=e.pinned_message_id,n=this.get(t);n&&this.assign(n,{pinned_message_id:a}),this.emitFastUpdate(e);break}case"updateChatReadInbox":{const t=e.chat_id,a=e.last_read_inbox_message_id,n=e.unread_count,i=this.get(t);i&&this.assign(i,{last_read_inbox_message_id:a,unread_count:n}),this.emitFastUpdate(e);break}case"updateChatReadOutbox":{const t=e.chat_id,a=e.last_read_outbox_message_id,n=this.get(t);n&&this.assign(n,{last_read_outbox_message_id:a}),this.emitFastUpdate(e);break}case"updateChatReplyMarkup":{const t=e.chat_id,a=e.reply_markup_message_id,n=this.get(t);n&&this.assign(n,{reply_markup_message_id:a}),this.emitFastUpdate(e);break}case"updateChatTitle":{const t=e.chat_id,a=e.title,n=this.get(t);n&&this.assign(n,{title:a}),this.emitFastUpdate(e);break}case"updateChatUnreadMentionCount":{const t=e.chat_id,a=e.unread_mention_count,n=this.get(t);n&&this.assign(n,{unread_mention_count:a}),this.emitFastUpdate(e);break}case"updateNewChat":this.set(e.chat),this.emitFastUpdate(e);break;case"updateSecretChat":case"updateUnreadChatCount":this.emitFastUpdate(e);break;case"updateUserChatAction":{let t=this.getTypingManager(e.chat_id);t||(t=new o(e.chat_id,e=>this.emitUpdate(e)),this.setTypingManager(e.chat_id,t));const a=e.user_id;"chatActionCancel"===e.action["@type"]?t.clearAction(a):t.addAction(a,e.action),this.emitFastUpdate(e);break}case"updateMessageMentionRead":{const t=e.chat_id,a=e.unread_mention_count,n=this.get(t);n&&this.assign(n,{unread_mention_count:a}),this.emitFastUpdate(e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateChatBackground":case"clientUpdateClearHistory":case"clientUpdateLeaveChat":case"clientUpdateArchive":case"clientUpdateOpenChat":case"clientUpdateContacts":case"clientUpdateSettings":this.emitUpdate(e);break;case"clientUpdateSetChatClientData":{const t=e.chatId,a=e.clientData;l.a.send({"@type":"setChatClientData",chat_id:t,client_data:JSON.stringify(a)}),this.setClientData(t,a),this.saveClientData(),this.emitUpdate(e);break}case"clientUpdateUnpin":this.emitUpdate(e)}},this.emitUpdate=e=>{this.emit(e["@type"],e)},this.emitFastUpdate=e=>{this.updating&&l.a.parameters.fastUpdating?this.skippedUpdates.push(e):this.emit(e["@type"],e)},this.addTdLibListener=()=>{l.a.on("update",this.onUpdate),l.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{l.a.off("update",this.onUpdate),l.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.loadClientData(),this.addTdLibListener()}updateChatChatList(e,t){if(!t){var a,i=Object(n.a)(this.chatList.keys());try{for(i.s();!(a=i.n()).done;){const t=a.value;this.chatList.get(t).delete(e)}}catch(c){i.e(c)}finally{i.f()}return}let s=this.chatList.get(t["@type"]);s||(s=new Map,this.chatList.set(t["@type"],s)),s.set(e,e);var r,o=Object(n.a)(this.chatList.keys());try{for(o.s();!(r=o.n()).done;){const a=r.value;a!==t["@type"]&&this.chatList.get(a).delete(e)}}catch(c){o.e(c)}finally{o.f()}}assign(e,t){this.set(Object.assign({},e,t))}get(e){return this.items.get(e)}set(e){this.items.set(e.id,e)}getCounters(e){return this.counters.get(e)}setCounters(e,t){this.counters.set(e,t)}getClientData(e){return this.clientData.get(e)||{}}setClientData(e,t){this.clientData.set(e,t)}setOnlineMemberCount(e,t){this.onlineMemberCount.set(e,t)}getOnlineMemberCount(e){return this.onlineMemberCount.get(e)||0}getTypingManager(e){return this.typingManagers.get(e)}setTypingManager(e,t){return this.typingManagers.set(e,t)}}const u=new d;window.chat=u;t.a=u},55:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return f}));var n=a(7),i=a.n(n),s=a(14),r=a(18),o=a(13),c=a(9),l=a(116),d=a(2);const u=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(){return p.apply(this,arguments)}function p(){return(p=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[SW] Register"),o.A&&localStorage.setItem("register","true"),!("serviceWorker"in navigator)){e.next=16;break}if(new URL("",window.location).origin===window.location.origin){e.next=6;break}return e.abrupt("return");case 6:if("service-worker.js",t="".concat("","/").concat("service-worker.js"),console.log("[SW] Service worker url: ".concat(t)),u){e.next=14;break}return e.next=12,g(t);case 12:e.next=16;break;case 14:return e.next=16,b(t);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[SW] RegisterValidSW"),e.prev=1,e.next=4,navigator.serviceWorker.register(t);case 4:(a=e.sent).onupdatefound=()=>{const e=a.installing;e.onstatechange=()=>{"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("[SW] New content is available; please refresh."),d.a.clientUpdate({"@type":"clientUpdateNewContentAvailable"})):console.log("[SW] Content is cached for offline use."))}},e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("[SW] Error during service worker registration: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function f(){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(i.a.mark((function e(){var t,a,n,s,o,u,h,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.ready;case 3:return t=e.sent,e.next=6,t.pushManager.getSubscription();case 6:if(!(a=e.sent)){e.next=10;break}return e.next=10,a.unsubscribe();case 10:return e.next=12,t.pushManager.subscribe({userVisibleOnly:!0});case 12:if(a=e.sent,console.log("[SW] Received push subscription: ",JSON.stringify(a)),n=a.endpoint,s=Object(r.a)(a.getKey("p256dh")),o=Object(r.a)(a.getKey("auth")),!(n&&s&&o)){e.next=26;break}if(u=c.a.authorizationState,!Object(r.p)(u)){e.next=26;break}return h={"@type":"deviceTokenWebPush",endpoint:n,p256dh_base64url:s,auth_base64url:o},console.log("[SW] registerDevice",h),e.next=24,d.a.send({"@type":"registerDevice",device_token:h,other_user_ids:[]});case 24:p=e.sent,console.log("[SW] registerDevice result",p);case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(0),console.error("[SW] Error during service worker push subscription: ",e.t0),l.a.enableSound=!0;case 32:case"end":return e.stop()}}),e,null,[[0,28]])})))).apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return(w=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[SW] CheckValidServiceWorker"),e.prev=1,e.next=4,fetch(t);case 4:if(404!==(a=e.sent).status&&-1!==a.headers.get("content-type").indexOf("javascript")){e.next=14;break}return e.next=8,navigator.serviceWorker.ready;case 8:return n=e.sent,e.next=11,n.unregister();case 11:window.location.reload(),e.next=16;break;case 14:return e.next=16,g(t);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log("[SW] No internet connection found. App is running in offline mode.");case 21:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}},60:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(125),i=a(0),s=a.n(i);function r(...e){return e.reduce((e,t)=>(...a)=>e(t(...a)),e=>e)}function o(){return e=>s.a.forwardRef((t,a)=>s.a.createElement(e,Object.assign({},t,{forwardedRef:a})))}function c(){return e=>class extends s.a.Component{render(){const t=this.props,a=t.forwardedRef,i=Object(n.a)(t,["forwardedRef"]);return s.a.createElement(e,Object.assign({},i,{ref:a}))}}}function l(e){return e.displayName||e.name||"Component"}},62:function(e,t,a){"use strict";var n=a(17),i=a(13),s=a(2);class r extends n.a{constructor(){super(),this.reset=()=>{this.items=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateOption":const t=e.name,a=e.value;this.set(t,a),t===i.m&&localStorage.setItem(t,a.value),this.emit("updateOption",e)}},this.onClientUpdate=e=>{},this.addTdLibListener=()=>{s.a.on("update",this.onUpdate),s.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{s.a.off("update",this.onUpdate),s.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}get(e){return this.items.get(e)}set(e,t){this.items.set(e,t)}}const o=new r;window.option=o,t.a=o},64:function(e,t,a){"use strict";var n=a(7),i=a.n(n),s=a(14),r=a(17),o=a(59),c=a(78);class l{constructor(e){this.store=e.store}setItem(e,t){if(this.store)try{this.store.setItem(e,t)}catch(a){}}getItem(e,t){if(this.store)try{return this.store.getItem(e,t)}catch(a){}}}class d{constructor(e,t={}){this.init(e,t),this.type="backend"}init(e,t={}){this.services=e,this.options=Object(c.a)({},{prefix:"i18next_res_",expirationTime:1/0,versions:{},store:window.localStorage},{},this.options,{},t),this.storage=new l(this.options)}read(e,t,a){const n=(new Date).getTime();if(!this.storage.store)return a(null,null);let i=this.storage.getItem("".concat(this.options.prefix).concat(e,"-").concat(t));return i&&(i=JSON.parse(i),i.i18nStamp&&i.i18nStamp+this.options.expirationTime>n&&this.options.versions[e]===i.i18nVersion)?(delete i.i18nVersion,delete i.i18nStamp,a(null,i)):a(null,null)}save(e,t,a){this.storage.store&&(a.i18nStamp=(new Date).getTime(),this.options.versions[e]&&(a.i18nVersion=this.options.versions[e]),this.storage.setItem("".concat(this.options.prefix).concat(e,"-").concat(t),JSON.stringify(a)))}}d.type="backend";var u=d,h=a(31),p=a(2);const g="translation",m=localStorage.getItem("i18next")||"en";o.a.use(h.b).init({ns:[g,"local"],defaultNS:g,fallbackNS:["local","emoji","settings","translation","search"],resources:{en:{search:{ChatsAndContacts:"Chats and contacts",SearchMessagesIn:"Search messages in"},settings:{ContactJoinedEnabled:"Enabled",ContactJoinedDisabled:"Disabled",NotificationsEnabled:"Enabled",NotificationsDisabled:"Disabled",PreviewEnabled:"Enabled",PreviewDisabled:"Disabled",BioAbout:"Any details such as age, occupation or city.\nExample: 23 y.o. designer from San Francisco.",Archived:"Archived",Saved:"Saved",EditProfile:"Edit Profile",GeneralSettings:"General Settings"},local:{PollQuizOneRightAnswer:"Quiz has only one right answer.",LeftChannel:"Left channel",LeftGroup:"Left group",EnterPassword:"Enter a Password",YourAccountProtectedWithPassword:"Your account is protected with an additional password.",DeletedMessage:"Deleted message",YourPhone:"Your Phone",SignInToTelegram:"Sign in to Telegram",PhoneNumber:"Phone Number",Country:"Country",KeepMeSignedIn:"Keep me signed in",StartText:"Please confirm your country code and enter your phone number.",Next:"Next",InvalidPhoneNumber:"Invalid phone number. Please check the number and try again.",More:"More",SendFileConfirmation:"Are you sure you want to send file?",SendFilesConfirmation:"Are you sure you want to send files?",SendMessage:"Send Message",ChatInfo:"Chat Info",ChannelInfo:"Channel Info",Stickers:"STICKERS",Emoji:"EMOJI",SelectChatToStartMessaging:"Please select a chat to start messaging",Text:"Text",ViewChannelInfo:"View channel info",ViewGroupInfo:"View group info",ViewProfile:"View profile",GoToMessage:"Go to message",PhotosTitle:"Photos",VideosTitle:"Videos",VoiceTitle:"Voice messages",UpdateDraftConfirmation:"Are you sure you want to update draft?"},emoji:{Search:"Search",NotEmojiFound:"No Emoji Found",ChooseDefaultSkinTone:"Choose your default skin tone",SearchResults:"Search Results",Recent:"Frequently Used",SmileysPeople:"Smileys & People",AnimalsNature:"Animals & Nature",FoodDrink:"Food & Drink",Activity:"Activity",TravelPlaces:"Travel & Places",Objects:"Objects",Symbols:"Symbols",Flags:"Flags",Custom:"Custom"},translation:{AppName:"Telegram",Connecting:"Connecting...",ConnectingToProxy:"Connecting to proxy...",Loading:"Loading...",Updating:"Updating...",WaitingForNetwork:"Waiting for network...",ContinueOnThisLanguage:"Continue in English"}},ru:{search:{ChatsAndContacts:"\u0427\u0430\u0442\u044b \u0438 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",SearchMessagesIn:"\u0418\u0441\u043a\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432"},settings:{ContactJoinedEnabled:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e",ContactJoinedDisabled:"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e",NotificationsEnabled:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u044b",NotificationsDisabled:"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b",PreviewEnabled:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e",PreviewDisabled:"\u0412\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e",BioAbout:"\u041b\u044e\u0431\u044b\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u0432\u043e\u0437\u0440\u0430\u0441\u0442, \u0440\u043e\u0434 \u0437\u0430\u043d\u044f\u0442\u0438\u0439 \u0438\u043b\u0438 \u0433\u043e\u0440\u043e\u0434.\n\u041f\u0440\u0438\u043c\u0435\u0440: 23 \u0433\u043e\u0434\u0430, \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u0438\u0437 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0430.",Archived:"\u0410\u0440\u0445\u0438\u0432",Saved:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",EditProfile:"\u0420\u0435\u0434\u0430\u043a\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",GeneralSettings:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},local:{PollQuizOneRightAnswer:"Quiz has only one right answer.",LeftChannel:"\u041a\u0430\u043d\u0430\u043b \u043f\u043e\u043a\u0438\u043d\u0443\u0442",LeftGroup:"\u0413\u0440\u0443\u043f\u043f\u0430 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u0430",EnterPassword:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",YourAccountProtectedWithPassword:"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u0430\u0449\u0438\u0449\u0435\u043d \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u0430\u0440\u043e\u043b\u0435\u043c.",DeletedMessage:"\u0423\u0434\u0430\u043b\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",YourPhone:"\u0412\u0430\u0448 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",SignInToTelegram:"\u0412\u0445\u043e\u0434 \u0432 Telegram",PhoneNumber:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",Country:"\u0421\u0442\u0440\u0430\u043d\u0430",KeepMeSignedIn:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e",StartText:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u0434 \u0441\u0442\u0440\u0430\u043d\u044b \u0438 \u0441\u0432\u043e\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430.",Next:"\u0414\u0430\u043b\u0435\u0435",InvalidPhoneNumber:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.",More:"\u0415\u0449\u0451",SendFileConfirmation:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b?",SendFilesConfirmation:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b?",SendMessage:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ChatInfo:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0447\u0430\u0442\u0435",ChannelInfo:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u0430\u043d\u0430\u043b\u0435",Stickers:"\u0421\u0422\u0418\u041a\u0415\u0420\u042b",Emoji:"\u0415\u041c\u041e\u0414\u0417\u0418",SelectChatToStartMessaging:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435, \u043a\u043e\u043c\u0443 \u0445\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c",Text:"\u0422\u0435\u043a\u0441\u0442",ViewChannelInfo:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u0430\u043d\u0430\u043b\u0435",ViewGroupInfo:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0433\u0440\u0443\u043f\u043f\u0435",ViewProfile:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",GoToMessage:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044e",PhotosTitle:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",VideosTitle:"\u0412\u0438\u0434\u0435\u043e\u0437\u0430\u043f\u0438\u0441\u0438",VoiceTitle:"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",UpdateDraftConfirmation:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f?"},emoji:{Search:"\u041f\u043e\u0438\u0441\u043a",NotEmojiFound:"\u0415\u043c\u043e\u0434\u0437\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",ChooseDefaultSkinTone:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u043d \u043a\u043e\u0436\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",SearchResults:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430",Recent:"\u0427\u0430\u0441\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435",SmileysPeople:"\u0421\u043c\u0430\u0439\u043b\u0438\u043a\u0438 \u0438 \u043b\u044e\u0434\u0438",AnimalsNature:"\u0416\u0438\u0432\u043e\u0442\u043d\u044b\u0435 \u0438 \u043f\u0440\u0438\u0440\u043e\u0434\u0430",FoodDrink:"\u0415\u0434\u0430 \u0438 \u043d\u0430\u043f\u0438\u0442\u043a\u0438",Activity:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",TravelPlaces:"\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f \u0438 \u043c\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u0438",Objects:"\u041f\u0440\u0435\u0434\u043c\u0435\u0442\u044b",Symbols:"\u0421\u0438\u043c\u0432\u043e\u043b\u044b",Flags:"\u0424\u043b\u0430\u0433\u0438",Custom:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435"},translation:{AppName:"Telegram",Connecting:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435...",ConnectingToProxy:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u043f\u0440\u043e\u043a\u0441\u0438...",Loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",Updating:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435...",WaitingForNetwork:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0442\u0438...",ContinueOnThisLanguage:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"}}},lng:m,fallbackLng:"en",interpolation:{escapeValue:!1},react:{wait:!1}});const f=new u(null,{enabled:!0,prefix:"i18next_res_",expirationTime:1/0}),y=f.read("en",g,(e,t)=>t),b=f.read(m,g,(e,t)=>t);o.a.addResourceBundle("en",g,y),o.a.addResourceBundle(m,g,b);class w extends r.a{constructor(){var e;super(),e=this,this.addTdLibListener=()=>{p.a.on("update",this.onUpdate),p.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{p.a.off("update",this.onUpdate),p.a.off("clientUpdate",this.onClientUpdate)},this.onUpdate=function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a["@type"],t.next="updateAuthorizationState"===t.t0?3:"updateLanguagePackStrings"===t.t0?14:16;break;case 3:t.t1=a.authorization_state["@type"],t.next="authorizationStateWaitTdlibParameters"===t.t1?6:13;break;case 6:return p.a.send({"@type":"setOption",name:"localization_target",value:{"@type":"optionValueString",value:"android"}}),p.a.send({"@type":"setOption",name:"language_pack_id",value:{"@type":"optionValueString",value:m}}),t.next=10,p.a.send({"@type":"getLocalizationTargetInfo",only_local:!1});case 10:return e.info=t.sent,p.a.clientUpdate({"@type":"clientUpdateLanguageChange",language:m}),t.abrupt("break",13);case 13:return t.abrupt("break",16);case 14:return e.emit("updateLanguagePackStrings",a),t.abrupt("break",16);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onClientUpdate=function(){var t=Object(s.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=a["@type"],t.next="clientUpdateLanguageChange"===t.t0?3:12;break;case 3:return n=a.language,t.next=6,e.loadLanguage(n);case 6:return localStorage.setItem("i18next",n),t.next=9,o.a.changeLanguage(n);case 9:return p.a.send({"@type":"setOption",name:"language_pack_id",value:{"@type":"optionValueString",value:n}}),e.emit("clientUpdateLanguageChange",a),t.abrupt("break",12);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.processStrings=(e,t)=>{if(!t)return{};const a=t.strings;if(!a)return{};let n={};for(let i=0;i<a.length;i++){const e=a[i].value;switch(e["@type"]){case"languagePackStringValueOrdinary":n[a[i].key]=e.value;break;case"languagePackStringValuePluralized":e.zero_value&&(n[a[i].key+"Z"]=e.zero_value),e.one_value&&(n[a[i].key+"O"]=e.one_value),e.two_value&&(n[a[i].key+"T"]=e.two_value),e.few_value&&(n[a[i].key+"F"]=e.few_value),e.many_value&&(n[a[i].key+"M"]=e.many_value),e.other_value&&(n[a[i].key+"OT"]=e.other_value)}}return n},this.loadLanguage=function(){var t=Object(s.a)(i.a.mark((function t(a){var n,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.send({"@type":"getLanguagePackStrings",language_pack_id:a,keys:[]});case 2:n=t.sent,s=e.processStrings(a,n),e.cache.save(a,g,s),o.a.addResourceBundle(a,g,s);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.fallbackLng="en",this.i18n=o.a,this.cache=f,this.addTdLibListener()}}const C=new w;window.localization=C;t.a=C},67:function(e,t,a){"use strict";var n=a(0),i=a.n(n);a(206);class s extends i.a.Component{render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"header-progress"},"."),i.a.createElement("span",{className:"header-progress"},"."),i.a.createElement("span",{className:"header-progress"},"."))}}t.a=s},70:function(e){e.exports=JSON.parse('{"homepage":"https://web.tginfo.me","name":"telegram_react","version":"0.0.608","private":true,"dependencies":{"@material-ui/core":"^4.9.7","@material-ui/icons":"^4.9.1","@material-ui/lab":"^4.0.0-alpha.46","classnames":"^2.2.6","emoji-mart":"^3.0.0","emoji-regex":"^8.0.0","i18next":"^19.3.3","iframe-resizer":"^4.2.10","lottie-web":"^5.6.6","notistack":"^0.9.9","pako":"^1.0.11","react":"^16.12.0","react-custom-scrollbars":"^4.2.1","react-dom":"^16.12.0","react-i18next":"^11.3.4","react-router-dom":"^5.0.0","react-scripts":"^3.1.1","react-transition-group":"^4.3.0","tdweb":"1.6.0"},"lint-staged":{"src/**/*.{js,jsx,json,css}":["prettier --print-width 120 --tab-width 4 --single-quote --jsx-single-quote --jsx-bracket-same-line --bracket-spacing --write","git add"]},"scripts":{"precommit":"lint-staged","start":"react-app-rewired start","build":"react-app-rewired build && sw-precache-cra --config sw-config.js --no-minify","test":"react-app-rewired test --env=jsdom","eject":"react-scripts eject","predeploy":"npm run build && echo web.tginfo.me > build/CNAME","deploy":"gh-pages -d build ${CI_REPO}","stats":"react-app-rewired build --bundle-report && npx webpack-bundle-analyzer ./build/bundle-stats.json"},"devDependencies":{"customize-cra":"^0.9.1","gh-pages":"^2.2.0","lint-staged":"^10.0.8","prettier":"^2.0.1","prop-types":"^15.7.2","react-app-rewired":"^2.1.5","sw-precache-cra":"^1.0.0","webpack-bundle-analyzer":"^3.6.1","worker-loader":"^2.0.0"},"browserslist":[">0.2%","not dead","not ie <= 11","not op_mini all"]}')},72:function(e,t,a){"use strict";var n=a(17),i=a(62),s=a(2);class r extends n.a{constructor(){super(),this.reset=()=>{this.items=new Map,this.fullInfoItems=new Map},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":{const t=e.authorization_state;if(!t)break;switch(t["@type"]){case"authorizationStateClosed":this.reset()}break}case"updateUser":this.set(e.user),this.emit(e["@type"],e);break;case"updateUserFullInfo":this.setFullInfo(e.user_id,e.user_full_info),this.emit(e["@type"],e);break;case"updateUserStatus":{let t=this.get(e.user_id);t&&this.assign(t,{status:e.status}),this.emit(e["@type"],e);break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateOpenUser":this.emit(e["@type"],e)}},this.addTdLibListener=()=>{s.a.on("update",this.onUpdate),s.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{s.a.off("update",this.onUpdate),s.a.off("clientUpdate",this.onClientUpdate)},this.reset(),this.addTdLibListener()}assign(e,t){Object.assign(e,t)}getMyId(){const e=i.a.get("my_id");return e&&e.value?e.value:null}get(e){return this.items.get(e)}set(e){this.items.set(e.id,e)}getFullInfo(e){return this.fullInfoItems.get(e)}setFullInfo(e,t){this.fullInfoItems.set(e,t)}}const o=new r;window.user=o,t.a=o},83:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return u}));var n=a(7),i=a.n(n),s=a(14);let r=null;function o(){return c.apply(this,arguments)}function c(){return(c=Object(s.a)(i.a.mark((function e(){var t,a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("data/countries.txt");case 5:return t=e.sent,e.next=8,t.text();case 8:return a=e.sent,n=a.split("\n"),s=[],n.forEach(e=>{const t=e.split(";"),a={prefix:t[0],code:t[1],name:t[2],pattern:t[3],count:Number(t[4]),emoji:t[5]};s.push(a)}),s.forEach(e=>{e.phone="+"+e.prefix}),r=s.filter(e=>e.emoji),e.abrupt("return",r);case 17:e.prev=17,e.t0=e.catch(2),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)}function l(e){return e?e.replace(/ /g,"").replace("+","").toLowerCase():e}function d(e,t){if(!t)return null;const a=t.findIndex(t=>function(e,t){if(!e)return!1;if(!t)return!1;e=l(e);const a=l(t.phone);return e.startsWith(a)&&t.pattern}(e,t));return-1!==a?t[a]:null}function u(e){if(!e)return e;if(!r)return e.startsWith("+")?e:"+"+e;const t=d(e,r);return t?function(e,t){e=l(e);let a="",n=0;for(let i=0;i<t.length&&n<e.length;i++)t[i]>="0"&&t[i]<="9"?(a+=t[i],e[n]===t[i]&&n++):" "===t[i]?a+=t[i]:"X"===t[i]&&(a+=e[n++]);return a+=" "+e.substring(n),"+"+a}(e,t.pattern):e.startsWith("+")?e:"+"+e}},9:function(e,t,a){"use strict";var n=a(7),i=a.n(n),s=a(14),r=a(17),o=a(44),c=a(42);var l=class{constructor(e,t){var a=this;this.add=(e,t,a,n)=>{if(this.actions.has(e))return!1;let i=new Date;return i.setMilliseconds(i.getMilliseconds()+t),this.actions.set(e,{expire:i,action:a,cancel:n}),this.timerId&&clearTimeout(this.timerId),this.setTimeout(),!0},this.invoke=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.actions.get(t)){e.next=3;break}return e.abrupt("return");case 3:return a.actions.delete(t),e.next=6,a.actionCallback({key:t,action:n.action,cancel:n.cancel});case 6:if(!n.action){e.next=9;break}return e.next=9,n.action();case 9:a.timerId&&clearTimeout(a.timerId),a.setTimeout();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.remove=e=>{const t=this.actions.get(e);t&&(this.actions.delete(e),this.cancelCallback({key:e,action:t.action,cancel:t.cancel}),t.cancel&&t.cancel(),this.timerId&&clearTimeout(this.timerId),this.setTimeout())},this.setTimeout=()=>{let e=new Date,t=1e6;var a,n=Object(c.a)(this.actions);try{for(n.s();!(a=n.n()).done;){let n=Object(o.a)(a.value,2),i=(n[0],n[1].expire-e);i<t&&(t=i),t<0&&(t=0)}}catch(i){n.e(i)}finally{n.f()}t<1e6&&(this.timerId=setTimeout(this.handleTimer,t))},this.handleTimer=()=>{let e=new Date,t=[];var a,n=Object(c.a)(this.actions);try{for(n.s();!(a=n.n()).done;){let n=Object(o.a)(a.value,2),i=n[0],s=n[1];s.expire-e<=0&&t.push({key:i,value:s})}}catch(r){n.e(r)}finally{n.f()}for(var i=0,s=t;i<s.length;i++){let e=s[i];this.actions.delete(e.key),this.actionCallback({key:e.key,action:e.value.action,cancel:e.value.cancel}),e.value.action&&e.value.action()}this.setTimeout()},this.actions=new Map,this.actionCallback=e,this.cancelCallback=t}},d=a(111),u=a(55),h=a(2);class p extends r.a{constructor(){var e;super(),e=this,this.reset=()=>{this.dialogsReady=!1,this.cacheLoaded=!1,this.setPhoneNumberRequest=null,this.chatId=0,this.dialogChatId=0,this.messageId=null,this.statistics=new Map,this.authorizationState=null,this.defaultPhone=null,this.connectionState=null,this.isChatDetailsVisible=!1,this.mediaViewerContent=null,this.profileMediaViewerContent=null,this.dragParams=null,this.actionScheduler=new l(this.handleScheduledAction,this.handleCancelScheduledAction)},this.addScheduledAction=(e,t,a,n)=>this.actionScheduler.add(e,t,a,n),this.invokeScheduledAction=function(){var t=Object(s.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.actionScheduler.invoke(a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.removeScheduledAction=e=>{this.actionScheduler.remove(e)},this.handleScheduledAction=e=>{console.log("Invoked scheduled action key=",e.key)},this.handleCancelScheduledAction=e=>{console.log("Cancel scheduled action key=",e.key)},this.onUpdate=e=>{switch(e["@type"]){case"updateAuthorizationState":switch(this.authorizationState=e.authorization_state,e.authorization_state["@type"]){case"authorizationStateLoggingOut":this.loggingOut=!0;break;case"authorizationStateWaitTdlibParameters":h.a.sendTdParameters();break;case"authorizationStateWaitEncryptionKey":h.a.send({"@type":"checkDatabaseEncryptionKey"});break;case"authorizationStateWaitPhoneNumber":this.setPhoneNumberRequest&&(this.setPhoneNumberRequest(),this.setPhoneNumberRequest=null);break;case"authorizationStateWaitCode":case"authorizationStateWaitPassword":break;case"authorizationStateReady":this.loggingOut=!1,this.setPhoneNumberRequest=null,Object(u.b)();break;case"authorizationStateClosing":break;case"authorizationStateClosed":this.reset(),this.loggingOut?h.a.init():(document.title+=": Zzz\u2026",h.a.clientUpdate({"@type":"clientUpdateAppInactive"}))}this.emit(e["@type"],e);break;case"updateChatIsMarkedAsUnread":{const t=e.chat_id,a=e.is_marked_as_unread;t===this.chatId&&a&&Object(d.b)();break}case"updateConnectionState":this.connectionState=e.state,this.emit(e["@type"],e);break;case"updateFatalError":this.emit(e["@type"],e);break;case"updateServiceNotification":{const t=e.type,a=e.content;if(!a)return;if("messageText"===a["@type"]){const e=a.text;if(!e)return;if("formattedText"===e["@type"]&&e.text)switch(t){case"AUTH_KEY_DROP_DUPLICATE":window.confirm(e.text)&&h.a.logOut();break;default:alert(e.text)}}break}}},this.onClientUpdate=e=>{switch(e["@type"]){case"clientUpdateAppInactive":this.emit("clientUpdateAppInactive");break;case"clientUpdateCacheLoaded":this.cacheLoaded=!0,this.emit("clientUpdateCacheLoaded");break;case"clientUpdateChatId":{const t={"@type":"clientUpdateChatId",nextChatId:e.chatId,nextMessageId:e.messageId,previousChatId:this.chatId,previousMessageId:this.messageId};this.chatId=e.chatId,this.messageId=e.messageId,this.emit("clientUpdateChatId",t);break}case"clientUpdateTdLibDatabaseExists":this.emit("clientUpdateTdLibDatabaseExists",e);break;case"clientUpdateDeleteMessages":this.emit("clientUpdateDeleteMessages",e);break;case"clientUpdateDialogsReady":this.dialogsReady=!0,this.emit("clientUpdateDialogsReady",e);break;case"clientUpdateDragging":{const t=e.dragging,a=e.files;this.dragParams=t?{dragging:t,files:a}:null,this.emit("clientUpdateDragging",e);break}case"clientUpdateEditMessage":this.emit("clientUpdateEditMessage",e);break;case"clientUpdateMediaViewerContent":{const t=e.content;this.mediaViewerContent=t,this.emit("clientUpdateMediaViewerContent",e);break}case"clientUpdateNewContentAvailable":this.emit("clientUpdateNewContentAvailable",e);break;case"clientUpdateProfileMediaViewerContent":{const t=e.content;this.profileMediaViewerContent=t,this.emit("clientUpdateProfileMediaViewerContent",e);break}case"clientUpdateSearchChat":this.emit("clientUpdateSearchChat",e);break;case"clientUpdateSetPhone":{const t=e.phone;this.defaultPhone=t,t?this.authorizationState&&"authorizationStateWaitPhoneNumber"===this.authorizationState["@type"]?this.setPhoneNumber(t):this.setPhoneNumberRequest=()=>this.setPhoneNumber(t):(this.setPhoneNumberRequest=null,h.a.clientUpdate({"@type":"clientUpdateSetPhoneCanceled"})),this.emit("clientUpdateSetPhone",e);break}case"clientUpdateSetPhoneResult":this.emit("clientUpdateSetPhoneResult",e);break;case"clientUpdateSetPhoneError":this.emit("clientUpdateSetPhoneError",e);break;case"clientUpdateDialogChatId":{const t=e.chatId;this.dialogChatId=t,this.emit("clientUpdateDialogChatId",e);break}case"clientUpdateFocusWindow":if(!this.authorizationState)break;h.a.send({"@type":"setOption",name:"online",value:{"@type":"optionValueBoolean",value:e.focused}}),this.emit("clientUpdateFocusWindow",e);break;case"clientUpdateForward":this.emit("clientUpdateForward",e);break;case"clientUpdateLeaveChat":e.inProgress&&this.chatId===e.chatId&&h.a.setChatId(0)}},this.setPhoneNumber=e=>{h.a.send({"@type":"setAuthenticationPhoneNumber",phone_number:e}).then(e=>{h.a.clientUpdate({"@type":"clientUpdateSetPhoneResult",result:e})}).catch(e=>{h.a.clientUpdate({"@type":"clientUpdateSetPhoneError",error:e})})},this.onUpdateStatistics=e=>{if(e)if(this.statistics.has(e["@type"])){const t=this.statistics.get(e["@type"]);this.statistics.set(e["@type"],t+1)}else this.statistics.set(e["@type"],1)},this.addTdLibListener=()=>{h.a.on("update",this.onUpdate),h.a.on("clientUpdate",this.onClientUpdate)},this.removeTdLibListener=()=>{h.a.off("update",this.onUpdate),h.a.off("clientUpdate",this.onClientUpdate)},this.addStatistics=()=>{h.a.on("update",this.onUpdateStatistics)},this.setChatId=(e,t=null)=>{const a={"@type":"clientUpdateChatId",nextChatId:e,nextMessageId:t,previousChatId:this.chatId,previousMessageId:this.messageId};this.chatId=e,this.messageId=t,this.emit(a["@type"],a)},this.reset(),this.addTdLibListener(),this.addStatistics()}getChatId(){return this.chatId}getMessageId(){return this.messageId}changeChatDetailsVisibility(e){this.isChatDetailsVisible=e,this.emit("clientUpdateChatDetailsVisibility",e)}getConnectionState(){return this.connectionState}getAuthorizationState(){return this.authorizationState}assign(e,t){Object.assign(e,t)}}const g=new p;window.app=g;t.a=g}},[[174,3,5]]]);
//# sourceMappingURL=main.7f23e56c.chunk.js.map